webpackJsonp([1],{"+iWZ":function(t,e){},"/pxN":function(t,e){},0:function(t,e){},"0/dX":function(t,e){},"09o6":function(t,e){},"0Wqa":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE2LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgd2lkdGg9IjU4LjQ3M3B4IiBoZWlnaHQ9IjU4LjQ3M3B4IiB2aWV3Qm94PSIwIDAgNTguNDczIDU4LjQ3MyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTguNDczIDU4LjQ3MzsiDQoJIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHBhdGggZD0iTTcuNTAxLDQxLjM0NGMtMi45MjktNC4yNTQtNC42NTItOS4zOTYtNC42NTItMTQuOTUzQzIuODQ5LDExLjgxNywxNC42NjEsMCwyOS4yMzYsMA0KCQljMTQuNTc2LDAsMjYuMzg4LDExLjgxNywyNi4zODgsMjYuMzkxYzAsNS41NTQtMS43MjUsMTAuNjk5LTQuNjUzLDE0Ljk1M2MxLjgtMy40MTIsMi44MjQtNy4yOTQsMi44MjQtMTEuNDIyDQoJCWMwLTEzLjU1OS0xMC45OS0yNC41NTYtMjQuNTU5LTI0LjU1NmMtMTMuNTY5LDAtMjQuNTU5LDEwLjk5Ny0yNC41NTksMjQuNTU2QzQuNjc3LDM0LjA1LDUuNzA4LDM3LjkzMiw3LjUwMSw0MS4zNDR6DQoJCSBNNDMuNjU3LDI3LjE0MmMwLTcuOTU4LTYuNDU1LTE0LjQyMS0xNC40MjEtMTQuNDIxYy03Ljk2NSwwLTE0LjQyMSw2LjQ2My0xNC40MjEsMTQuNDIxYzAsMi4zODUsMC42MzEsNC41OTQsMS42NTIsNi41NzINCgkJYy0wLjM1OC0xLjIxMS0wLjYxMy0yLjQ2OC0wLjYxMy0zLjc5NGMwLTcuMzg2LDUuOTg0LTEzLjM3OSwxMy4zODItMTMuMzc5czEzLjM4MSw1Ljk5MSwxMy4zODEsMTMuMzc5DQoJCWMwLDEuMzI3LTAuMjQ2LDIuNTgzLTAuNjExLDMuNzk0QzQzLjAyOCwzMS43MzEsNDMuNjU3LDI5LjUyNSw0My42NTcsMjcuMTQyeiBNMjkuMjM2LDIyLjc2M2MtMi40MTgsMC00LjM3NSwxLjk1OS00LjM3NSw0LjM3NQ0KCQljMCwyLjQyLDEuOTU3LDQuMzc3LDQuMzc1LDQuMzc3czQuMzc1LTEuOTU3LDQuMzc1LTQuMzc3QzMzLjYxMSwyNC43MjIsMzEuNjU0LDIyLjc2MywyOS4yMzYsMjIuNzYzeiBNMTkuMDI5LDU4LjQ3M2w1LjE5NS0yNC44DQoJCUgzNC4yNWw1LjE5OSwyNC44aC0yLjg0NWwtMC44NjctNC4xN0gyMi43NDZsLTAuODcxLDQuMTdIMTkuMDI5eiBNMjUuMjkyLDQyLjEzNmg3Ljg5MmwtMS4xOS01LjY4OEgyNi40OEwyNS4yOTIsNDIuMTM2eg0KCQkgTTIzLjMyNSw1MS41MjFoMTEuODI0bC0xLjM4My02LjYwMmgtOS4wNjJMMjMuMzI1LDUxLjUyMXoiLz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjwvc3ZnPg0K"},"0hVh":function(t,e){},"2pU7":function(t,e){},"3tee":function(t,e){},"5hEK":function(t,e){},"626h":function(t,e){},"6B1h":function(t,e){},"6CFs":function(t,e){},"6vAQ":function(t,e){},"78W6":function(t,e){},AHUJ:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCAMMNCLSzb9xAAAEg0lEQVRo3r2ZXWwUVRTHf11Ka6BAFwzq0i+JtGtDYwuyJTaipBptJJg0xNiHGhNMCImkhvLiY8sDAU1KbPriI2mMNL6QyIMGaEPEsEWBFYos0oRatx9ks7Rsg6Xtdnzo7Dg7987s7M4M52Tuzr33zPn/586de8+cLSA/qeEDXiFAAJhggvucJ5qnrxzFz3GiKBKNchy/t+DFdJKQgqc1QSfFXsFXEbEET2uEKi/g9/DQFryCwkP2uA3fxFPb8AoKT2lyE76C6ZzgFRSmqXALvpDrJiBJLnOZpEnvdQrdIXBY4nyBbmrxAeCjlm4WJFaH3YBfy6Tg+Cb1gl09NwW7SdY6J9ApuB0xedOLGRFsO50TCBtcLrFL17ue9braLpYM1mGn8GUsG1ye0sFdI0WKazpKpwzWy5Q5I3BIGNRGtadBN+0WaFBbGwX7Q9YAviwEthrqi0TUsx5Wa62r6VHPIiwarqh0RuAlQ32EeQBWEcpoD7EKgHlGDFe86IxAwFAvUn+XDXe6yLLBIi0vOCPwr6EepAQAhcGM9kEUAEoIZvGQI4G/BPv0dOsgobUm6FDPGgSP990lAJ+qv2PU0U+MGP3UMWbo/V9GcSTvSFb4FlPrFon1XmcEqiQuY2yW2m4mJrF2uCn7JFuRwjStgmWrNGaIUeCMAHxjstsP0KreXQWtDJhY9ThEB5qyxD3WsdJu5wQK+DvncCytD+w842yiMJA3+fyvzJCdeY9AvTsE4FJe8D+7BQ978yLwpnsE4Jec4YfchIf3cibQ7C4BMTi11l/dhofmnAi85T4BTJdbUb/zAh7KmbMFnxQCOdfkS1sEjnkFD0Xcywp/RxeueyDNwpdSpqa8mX56OW1J4Cuv4eE5bpvCR4SvAk/kNZN80TzbnwU8wDEpgaPPCh58kg36Yn7hZ/aLSqkhqOo8b6ifWuX8QanOaoY6/gGghKv4iHJX1dn87rGI9+lliCnDfX6rWbRltH+stZ8xXDHJIL202E/gbqCN75k1nekfSaDOaG2fWCzQP9DORivoQj7jJ2m6Ta8zvKzar+EGCgo3WKO2VJvmDNO6xBCfy1/Wty3e70wNa4ttFXHiWmq62DShadQo72ZOwgBf02YxNlPcY4IYE2r5gJTa0wxc1Eawki0EtKPG5BtyRQY4Smzl9ACPpTyn+JEu9rMlr2kMUMaHdHNemMrpWXEAYAdPhK5bdLkX0wNQTxe3BJwn7IBzGU2POcE2V6H1so0ThtE+B3Fdtd/r/3wAP/06xDhcyNjNz2o5IG+kgbOkdIgX4KDwZC7RQbXr0NV0SHaQgwB90jk6Sh/72OQYeBP76GNUitG3sg4UcJojpttSnLv8qR5jWjrSSnxUEuRV9XjexEqhly9Q0rC76eX1rK4XmWWOJEldCesoYZ2u3GAjLP2NI1w18m7nis2l1Jleod08MRLkJOOeQY9z0pjKlT/5ckKEaGSnmhl2JnP8TphhhhkXO60jIh+1NBIixPac/4Jb4jbDDBPmjtXUtRvHFbGRUvz4hRIeMcMjoUywYMfxfwq54Z9V3bzDAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTA4LTAzVDEyOjUyOjM0KzAyOjAwu2sTgQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0wOC0wM1QxMjo1MjozNCswMjowMMo2qz0AAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},BLyY:function(t,e){},EjhX:function(t,e){},Fa9k:function(t,e){},Jag8:function(t,e){},"KDd/":function(t,e){},MC06:function(t,e){},NAuA:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCAMIECTNT1M+AAADSklEQVRo3s2ZzUsbQRjGf4mJkSptD2ljPTTiV7D0IAHBS6+FNmdpPRShNH+CJ714CPQoWv+CCD0IbTzFW3sU0lsuhYKnWqwJYTVQlGi2h6RJNtmZndm4m757SXbmfZ5nZt/5egfc2SN2+cYlJiaXFNjhoUskV5aijNn1nPHcL/pJqj30JiYGj/0RcGBLb2KS84M+yIVQgEHAewHzQnoTkyn99ogswCwvbQDvSfHu9ryZJsWcfs+sctZs0wnLlpIlaQ8sWOq+5rT5vsxbdfIRcl2wWULNsjE2pQLWGW3WDJHtCdERNfpDG+CPDPGED5IAbAfiFglC7NuUHapIyAmAjx2p209dWDvnRP9Og8bds2oltEbnEGXu68arppWIYbb/WofhnOf08ICZzr9WAdrTiCubFQv44YuA7+KiICXPg/BErm7FcwHLONie1ngvU6au4ZF1/kIhPjvC1MiTJk4YgDBx0uSpOfrtt6Z0qYX5KYUpkrT1S1KU+h2r0cNTCcg1GYaFnsNkuJZ8sISagF1JGxYdvRclq8aWCv0Y58LWO9M3JIh6wWgt1i0bav0KMEWccd7wQgD8XiWGgV9EeGZbMsIfqoxzB8NaMEkOwyGCi5Jv323DDuFoYpBj8l/1lGCfbx14SWV6gKTCoKySAogpTb95LXqAvAJqiViQDaIKcJ+0Bah4RNmAgtIUGtcWEFfCLQS4JOIIZhKhpikgzJXCaeAqqEAPFW16qFFRqBUJKlTy1P6DT1BUkjmh3bQJpfNgMciREpx+9kPN42jgExEMfCqGQSxGFxy0F6OGBZhigQXWhU4ZZQEZIcYmSywxL0mMMCrsi/43JOeMqQBsCfX3uyXbVuvAhGSn78umNOSQjPB4W26fXOkelB4eTLw9mu050Xt/OF2xEloXjCC/lTZo/ViZGPVOyk6b8ZweorIUzawWlFuTpGiOfRFgYfE/TWcQ5UbUAzesed7+tU56OxOnatXHex+pWlGyep8QCbaFR/f203eyeuDp+oalqTTdTnllKXF3YVEhrRssARKkmO55ryMAGlc2idu8zLrlSyt9u+VrO/2zYZ0vwrKvmBpIrk10dVvt3mh7Zymb01Spfczww2LsULBc38fcAf0F91VM06QvlqsAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDgtMDNUMDg6MTY6MzYrMDI6MDAyllYAAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTA4LTAzVDA4OjE2OjM2KzAyOjAwQ8vuvAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=a("VU/8")({name:"App"},i,!1,function(t){a("U0il")},null,null).exports,n=a("/ocq"),r=a("M4fF"),l=a("mvHQ"),c=a.n(l),d=a("mtWM"),m=a.n(d),p=a("sLv0"),u=a.n(p),v=m.a.create({baseURL:"https://inventa.live/api/",timeout:3e4,headers:{},withCredentials:!0,transformRequest:[function(t,e){var a=window.localStorage.getItem("x-access-token"),s=window.localStorage.getItem("x-refresh-token");return a&&s&&(e["x-access-token"]=a,e["x-refresh-token"]=s),e["Content-Type"]="application/json;charset=UTF-8",c()(t)}],transformResponse:[function(t){return"tokenParams"in(t=JSON.parse(t))&&t.tokenParams.isTokenRefreshed&&(delete v.defaults.headers["x-access-token"],window.localStorage.setItem("x-access-token",t.tokenParams["x-access-token"])),t.status||new u.a({title:"Oops! Something went wrong!",description:c()(t.validation),type:"error",duration:4}),t}]}),f=m.a.create({baseURL:"https://inventa.live/chat/",timeout:3e4,headers:{},withCredentials:!0,transformRequest:[function(t,e){var a=window.localStorage.getItem("x-access-token"),s=window.localStorage.getItem("x-refresh-token");return a&&s&&(e["x-access-token"]=a,e["x-refresh-token"]=s),e["Content-Type"]="application/json;charset=UTF-8",c()(t)}]}),g=m.a.create({baseURL:"https://inventa.live/chat/",timeout:3e4,headers:{},withCredentials:!0,transformRequest:[function(t,e){var a=window.localStorage.getItem("x-access-token"),s=window.localStorage.getItem("x-refresh-token");return a&&s&&(e["x-access-token"]=a,e["x-refresh-token"]=s),e["Content-Type"]="multipart/form-data;",t}]}),h={name:"Login",data:function(){return{username:"",password:"",new_password:"",show_password:!1,change_password:!1}},created:function(){},methods:{toggleView:function(t){this.change_password=t},doLogin:function(){v.post("/v1/user-login/",{username:this.username,password:this.password}).then(this.postLoginCallBack).catch(function(t){console.log(t)})},changePassword:function(){v.post("/v1/user-change-password/",{username:this.username,password:this.password,new_password:this.new_password}).then(this.postLoginCallBack).catch(function(t){console.log(t)})},postLoginCallBack:function(t){if(t.data.status){window.localStorage.setItem("x-access-token",t.data.data[0]["x-access-token"]),window.localStorage.setItem("p_id",t.data.data[0].p_id),window.localStorage.setItem("app_id",t.data.data[0].app_id),window.localStorage.setItem("username",t.data.data[0].username),window.localStorage.setItem("roles",c()(t.data.data[0].roles)),window.localStorage.setItem("x-refresh-token",t.data.data[0]["x-refresh-token"]);var e={};e.username=t.data.data[0].username,e.roles=t.data.data[0].roles,e.p_id=t.data.data[0].p_id,e.app_id=t.data.data[0].app_id,this.$store.commit("general/setAuthUser",e),this.$router.push({path:"/dashboard"})}}}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Login"},[a("el-card",{staticClass:"Card",attrs:{shadow:"always"}},[a("div",{staticClass:"login-form"},[a("div",[a("label",{staticStyle:{"font-size":"0.8em",color:"#888"}},[t._v("Username")]),a("br"),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"input",attrs:{type:"text",name:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),0==t.show_password?a("div",{staticStyle:{"margin-top":"20px"}},[a("label",{staticStyle:{"font-size":"0.8em",color:"#888"}},[t._v("Password")]),a("br"),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{type:"password",name:"password"},domProps:{value:t.password},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.doLogin()},input:function(e){e.target.composing||(t.password=e.target.value)}}})]):a("div",{staticStyle:{"margin-top":"20px"}},[a("label",{staticStyle:{"font-size":"0.8em"}},[t._v("Password")]),a("br"),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{type:"text",name:"password"},domProps:{value:t.password},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.doLogin()},input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),t.change_password?a("div",[0==t.show_password?a("div",[a("label",{staticStyle:{"font-size":"0.8em"}},[t._v("New Password")]),a("br"),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.new_password,expression:"new_password"}],staticClass:"input",attrs:{type:"password",name:"password"},domProps:{value:t.new_password},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.changePassword()},input:function(e){e.target.composing||(t.new_password=e.target.value)}}})]):a("div",[a("label",{staticStyle:{"font-size":"0.8em"}},[t._v("New Password")]),a("br"),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.new_password,expression:"new_password"}],staticClass:"input",attrs:{type:"text",name:"password"},domProps:{value:t.new_password},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.changePassword()},input:function(e){e.target.composing||(t.new_password=e.target.value)}}})])]):t._e(),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.show_password,expression:"show_password"}],staticClass:"row-bg",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.show_password)?t._i(t.show_password,null)>-1:t.show_password},on:{change:function(e){var a=t.show_password,s=e.target,i=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&(t.show_password=a.concat([null])):o>-1&&(t.show_password=a.slice(0,o).concat(a.slice(o+1)))}else t.show_password=i}}}),a("span",{staticStyle:{"font-size":"0.8em"}},[t._v(" Show password")])]),t._v(" "),t.change_password?a("div",{staticStyle:{"text-align":"center",margin:"10px 0"}},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.changePassword()}}},[t._v("Change Password")])],1):a("div",{staticStyle:{"text-align":"center",margin:"10px 0"}},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.doLogin()}}},[t._v("Login")])],1),t._v(" "),t.change_password?t._e():a("div",{staticStyle:{margin:"0 auto","text-align":"center","font-size":"0.8em",cursor:"pointer"},on:{click:function(e){t.toggleView(!0)}}},[t._v("\n         Change Password\n       ")]),t._v(" "),t.change_password?a("div",{staticStyle:{margin:"0 auto","font-size":"0.8em",cursor:"pointer","text-align":"center"},on:{click:function(e){t.toggleView(!1)}}},[t._v("\n         Login\n       ")]):t._e()])])],1)},staticRenderFns:[]};var x=a("VU/8")(h,y,!1,function(t){a("y6ko")},"data-v-679991de",null).exports,b=new s.default,A={name:"TopBar",data:function(){return{sidebar:!1,username:window.localStorage.getItem("username"),logged_in_details:[],role:{}}},created:function(){this.authUser.p_id||this.getAuthUserFromLocalStorage()},computed:{authUser:function(){return this.$store.state.general.authUser},app_id:function(){return this.$store.state.general.app_id}},methods:{getAuthUserFromLocalStorage:function(){var t={};t.p_id=window.localStorage.getItem("p_id"),t.username=window.localStorage.getItem("username");try{t.roles=JSON.parse(window.localStorage.getItem("roles"))}catch(e){t.roles=[]}this.$store.commit("general/setAuthUser",t),console.log("this.authUser",this.authUser),this.authUser.p_id||this.$router.push({path:"/"})},window:function(t){t.target==modal&&console.log(t.target)},openSidebar:function(){this.sidebar=!this.sidebar},postLoggedInRoleCallBack:function(t){this.logged_in_details=t.data.data,window.localStorage.setItem("role",t.data.data[0].role),this.role=t.data.data[0].role,b.$emit("authChange",this.logged_in_details)},doLogout:function(){var t=window.OneSignal||[];t.push(function(){t.deleteTags(["userId","username","role"]).then(function(t){})}),v.post("/v1/user-logout/",{username:this.username}).then(this.postLogoutCallBack).catch(function(t){window.localStorage.clear(),delete v.defaults.headers["x-access-token"],delete v.defaults.headers["x-refresh-token"],this.$router.push({path:"/"})}.bind(this))},postLogoutCallBack:function(t){window.localStorage.clear(),delete v.defaults.headers["x-access-token"],delete v.defaults.headers["x-refresh-token"],this.$router.push({path:"/"})}}},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"TopBar",staticStyle:{"background-color":"#409EFF"}},[s("div",{staticClass:"Top-Navbar"},[s("div",{staticClass:"Left"},[s("div",{staticClass:"Menu-button"},[s("img",{staticStyle:{height:"25px","vertical-align":"middle","margin-right":"10px"},attrs:{src:a("P/F5")},on:{click:function(e){t.$router.go(-1)}}})]),t._v(" "),s("div",{staticClass:"Menu-button"},[s("i",{staticClass:"el-icon-menu",staticStyle:{color:"#444"},on:{click:t.openSidebar}})]),t._v(" "),s("div",{staticClass:"logo"},[s("router-link",{staticStyle:{"text-decoration":"none",color:"#444"},attrs:{to:{path:"/dashboard"}}},[t._v("\n          Inventa\n        ")])],1)]),t._v(" "),s("div",{staticClass:"Center text-center"},[t._v("\n      Welcome, "+t._s(t.username)+"\n      "),s("div",{staticStyle:{"font-size":"0.7em"}},[t._v("\n        "+t._s(t.authUser.roles[0].name)+"\n      ")])]),t._v(" "),s("div",{staticClass:"Right"},[t.authUser.p_id?s("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(e){t.doLogout()}}},[t._v("Logout")]):t._e()],1)]),t._v(" "),t.sidebar?s("div",{class:{"side-bar":t.sidebar},staticStyle:{"text-align":"left"}},[s("div",{staticClass:"sidebar-menu"},[s("div",{staticClass:"close-button"},[s("span",{staticClass:"sidebar-logo",staticStyle:{float:"left"}},[s("router-link",{staticClass:"links",attrs:{to:{path:"/dashboard"}}},[t._v("\n            Inventa\n          ")])],1),t._v(" "),s("span",{staticClass:"close-sidebar-btn",on:{click:function(e){t.sidebar=!1}}},[t._v("✕")])]),t._v(" "),"BE Admin"!=t.authUser.roles[0].name||this.app_id?t._e():s("div",{staticClass:"sidebar-menu-item"},[t._v("\n        Please select an app to proceed...\n      ")]),t._v(" "),"BE Admin"==t.authUser.roles[0].name&&this.app_id?s("div",{staticClass:"sidebar-menu-item"},[s("el-collapse",{staticClass:"collapse",attrs:{accordion:""}},[s("el-collapse-item",{attrs:{name:"1"}},[s("template",{slot:"title"},[s("span",{staticClass:"title"},[t._v("User Profile Config")])]),t._v(" "),s("p",{staticClass:"menu"},[s("router-link",{staticClass:"links",attrs:{to:{path:"/profile-config/"+this.app_id}}},[t._v(" List All User Profile Config")])],1),t._v(" "),s("p",{staticClass:"menu"},[s("router-link",{staticClass:"links",attrs:{to:{path:"/profile-config/"+this.app_id}}},[t._v(" Create New User Profile Config")])],1)],2),t._v(" "),s("el-collapse-item",{attrs:{name:"2"}},[s("template",{slot:"title"},[s("span",{staticClass:"title"},[t._v(" Store Profile Config")])]),t._v(" "),s("p",{staticClass:"menu"},[s("router-link",{staticClass:"links",attrs:{to:{path:"/store-config/"+this.app_id}}},[t._v("List All Store Profile Config")])],1),t._v(" "),s("p",{staticClass:"menu"},[s("router-link",{staticClass:"links",attrs:{to:{path:"/store-config/"+this.app_id}}},[t._v("Create New Store Profile Config")])],1)],2),t._v(" "),s("el-collapse-item",{attrs:{name:"3"}},[s("template",{slot:"title"},[s("span",{staticClass:"title"},[t._v(" Zone")])]),t._v(" "),s("p",{staticClass:"menu"},[s("router-link",{staticClass:"links",attrs:{to:{path:"/geozone-list/"+this.app_id}}},[t._v("List All Zones")])],1),t._v(" "),s("p",{staticClass:"menu"},[s("router-link",{staticClass:"links",attrs:{to:{path:"/geozone-create/"+this.app_id}}},[t._v("Create New Zone")])],1)],2),t._v(" "),s("el-collapse-item",{attrs:{name:"4"}},[s("template",{slot:"title"},[s("span",{staticClass:"title"},[t._v(" Users")])]),t._v(" "),s("p",{staticClass:"menu"},[s("router-link",{staticClass:"links",attrs:{to:{path:"/profile-list/"+this.app_id}}},[t._v("List All Users")])],1),t._v(" "),s("p",{staticClass:"menu"},[s("router-link",{staticClass:"links",attrs:{to:{path:"/profile-create/"+this.app_id}}},[t._v("Create New User")])],1)],2),t._v(" "),s("el-collapse-item",{attrs:{name:"5"}},[s("template",{slot:"title"},[s("span",{staticClass:"title"},[t._v(" Brands")])]),t._v(" "),s("p",{staticClass:"menu"},[s("router-link",{staticClass:"links",attrs:{to:{path:"/brand-list/"+this.app_id}}},[t._v("List All Brands")])],1),t._v(" "),s("p",{staticClass:"menu"},[s("router-link",{staticClass:"links",attrs:{to:{path:"/brand-create/"+this.app_id}}},[t._v("Create New Brand")])],1)],2),t._v(" "),s("el-collapse-item",{attrs:{name:"6"}},[s("template",{slot:"title"},[s("span",{staticClass:"title"},[t._v(" Relations")])]),t._v(" "),s("p",{staticClass:"menu"},[s("router-link",{staticClass:"links",attrs:{to:{path:"/relation-create/"+this.app_id}}},[t._v("Create New Relation")])],1)],2),t._v(" "),s("el-collapse-item",{attrs:{name:"7"}},[s("template",{slot:"title"},[s("span",{staticClass:"title"},[t._v(" Stores")])]),t._v(" "),s("p",{staticClass:"menu"},[s("router-link",{staticClass:"links",attrs:{to:{path:"/app-store-list/"+this.app_id}}},[t._v("List All Stores")])],1),t._v(" "),s("p",{staticClass:"menu"},[s("router-link",{staticClass:"links",attrs:{to:{path:"/app-store/"+this.app_id}}},[t._v("Create New Store")])],1)],2),t._v(" "),s("el-collapse-item",{attrs:{name:"8"}},[s("template",{slot:"title"},[s("span",{staticClass:"title"},[t._v(" Broadcast Notification")])]),t._v(" "),s("p",{staticClass:"menu"},[s("router-link",{staticClass:"links",attrs:{to:{path:"/broadcast-notification/"+this.app_id}}},[t._v("Manage")])],1)],2)],1)],1):t._e(),t._v(" "),"Platform Admin"==t.authUser.roles[0].name?s("div",{staticClass:"sidebar-menu-item"},[s("el-collapse",{staticClass:"collapse",attrs:{accordion:""}},[s("el-collapse-item",{attrs:{name:"1"}},[s("template",{slot:"title"},[s("span",{staticClass:"title"},[t._v(" Platform")])]),t._v(" "),s("p",{staticClass:"menu"},[s("router-link",{staticClass:"links",attrs:{to:{path:"/platform-list"}}},[t._v(" List")])],1)],2),t._v(" "),s("el-collapse-item",{attrs:{name:"2"}},[s("template",{slot:"title"},[s("span",{staticClass:"title"},[t._v(" Services")])]),t._v(" "),s("p",{staticClass:"menu"},[s("router-link",{staticClass:"links",attrs:{to:{path:"/service-list"}}},[t._v("List")])],1)],2),t._v(" "),s("el-collapse-item",{attrs:{name:"3"}},[s("template",{slot:"title"},[s("span",{staticClass:"title"},[t._v(" Roles")])]),t._v(" "),s("p",{staticClass:"menu"},[s("router-link",{staticClass:"links",attrs:{to:{path:"/role-list"}}},[t._v("List")])],1)],2),t._v(" "),s("el-collapse-item",{attrs:{name:"4"}},[s("template",{slot:"title"},[s("span",{staticClass:"title"},[t._v(" Business Entity")])]),t._v(" "),s("p",{staticClass:"menu"},[s("router-link",{staticClass:"links",attrs:{to:{path:"/business-entity-create"}}},[t._v("Create")])],1),t._v(" "),s("p",{staticClass:"menu"},[s("router-link",{staticClass:"links",attrs:{to:{path:"/business-entity-list"}}},[t._v("List")])],1)],2)],1)],1):t._e()])]):t._e()])},staticRenderFns:[]};var w=a("VU/8")(A,C,!1,function(t){a("pH7/"),a("Zcn/")},"data-v-43f3e4a2",null).exports,S={name:"Dashboard",components:{TopBar:w},data:function(){return{showAccessDeniedError:!1,isLoading:!1,role:"",apps:[],deleteAppDialogVisible:!1,selectedIndexForDelete:null,stores:[],chatRooms:[]}},beforeRouteUpdate:function(t,e,a){console.log("dahsboard beforeRouteUpdate",t.query),this.showAccessDeniedError=!1,this.$store.commit("general/setAppId",null),this.isLoading=!0,this.authChangeHandler(),t.query.error&&(this.showAccessDeniedError=!0),a()},mounted:function(){console.log("dahsboard mounted",this.$route.query),this.showAccessDeniedError=!1,this.$store.commit("general/setAppId",null),this.isLoading=!0,this.authChangeHandler(),this.$route.query.error&&(this.showAccessDeniedError=!0),this.initiatePushy(),console.log("$route.query.error: ",this.$route.query.error)},computed:{authUser:function(){return this.$store.state.general.authUser},app_id:function(){return localStorage.getItem("app_id")}},methods:{redirectToChatroom:function(t,e){this.$router.push({path:"/admin-room-list/"+t+"/"+e})},initiatePushy:function(){console.log("registering with pushy...",window.Pushy),window.Pushy.register({appId:"5bdc624f6f4b49664308fc4f"}).then(function(t){console.log("Pushy device token: "+t),v.post("/v1/profile/update-notification-token/",{notification_token:t}).then(function(t){return console.log("notification token update callback: ",t)}).catch(function(t){console.log(t)})}).catch(function(t){console.error(t)})},initiateOneSignalTags:function(){var t=this;console.log("setting one signal tags...");var e=window.OneSignal||[];e.push(function(){e.deleteTags(["userId","username","role"]).then(function(a){e.sendTags({userId:t.authUser.p_id,username:t.authUser.username}).then(function(t){console.log("tagsSent",t)})}),e.getUserId().then(function(t){console.log("OneSignal User ID:",t)})})},closeAccessDeniedMsg:function(){console.log("closeAccessDeniedMsg"),this.showAccessDeniedError=!1,this.$router.push({path:"/dashboard/",query:{}})},openApp:function(t){this.$store.commit("general/setAppId",t.app_id),this.$router.push({path:"/app-dashboard/"+t.app_id+"/"+t.name}),localStorage.setItem("app_id",t.app_id)},checkRole:function(t){return!!this.authUser.roles&&this.authUser.roles.some(function(e){return e.name===t})},authChangeHandler:function(t){this.checkRole("BE Admin")&&v.post("/v1/app/").then(this.getAppCallback).catch(function(t){console.log(t)})},getAppCallback:function(t){this.isLoading=!1,t.data.status&&(this.apps=t.data.data)},edit:function(t){var e=this.apps[t].app_id;this.$router.push({path:"/app-create/"+e})},removeApp:function(t){v.post("/v1/app/delete/",{app_id:this.apps[t].app_id}).then(this.postRemoveCallback).catch(function(t){console.log(t)})},postRemoveCallback:function(t){t.data.status&&(this.deleteAppDialogVisible=!1,this.selectedIndexForDelete=null,new u.a({title:"Success",description:"App deleted successfully.",className:"notices",type:"success",duration:3}),v.post("/v1/app/").then(this.getAppCallback).catch(function(t){console.log(t)}))}},beforeDestroy:function(){b.$off("authChange",this.authChangeHandler)}},k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Dashboard"},[s("TopBar"),t._v(" "),t.showAccessDeniedError?s("el-card",{staticClass:"box-card",staticStyle:{"max-width":"90vw",margin:"10px auto","background-color":"tomato"}},[s("h4",{staticStyle:{margin:"0px",display:"flex","align-items":"center",color:"#FFF"}},[s("span",{staticStyle:{"flex-grow":"1"}},[t._v(" "+t._s(t.$route.query.error)+" ")]),t._v(" "),s("el-button",{attrs:{type:"default",size:"mini"},nativeOn:{click:function(e){return t.closeAccessDeniedMsg(e)}}},[t._v("Close")])],1)]):t._e(),t._v(" "),t.checkRole("Platform Admin")?s("div",{staticStyle:{margin:"30px"}},[s("el-card",{staticClass:"box-card",staticStyle:{"max-width":"100vw",margin:"22px 0"}},[s("div",{staticClass:"clearfix"},[s("span",[t._v("Platform Admin Dashboard")])])]),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[s("el-card",{staticClass:"text-center"},[s("img",{attrs:{src:a("pIja"),alt:"",width:"30px",srcset:""}}),t._v(" "),s("h3",[t._v("Platform")]),t._v(" "),s("span",[s("router-link",{staticClass:"links",attrs:{to:{path:"/platform-list"}}},[t._v(" List")])],1)])],1),t._v(" "),s("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[s("el-card",{staticClass:"text-center"},[s("img",{attrs:{src:a("NAuA"),alt:"",width:"30px",srcset:""}}),t._v(" "),s("h3",[t._v("Services")]),t._v(" "),s("span",[s("router-link",{staticClass:"links",attrs:{to:{path:"/service-list"}}},[t._v(" List")])],1)])],1),t._v(" "),s("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[s("el-card",{staticClass:"text-center"},[s("img",{attrs:{src:a("PuXe"),alt:"",width:"30px",srcset:""}}),t._v(" "),s("h3",[t._v("Roles")]),t._v(" "),s("span",[s("router-link",{staticClass:"links",attrs:{to:{path:"/role-list"}}},[t._v(" List")])],1)])],1),t._v(" "),s("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[s("el-card",{staticClass:"text-center"},[s("img",{attrs:{src:a("ntQ2"),alt:"",width:"30px",srcset:""}}),t._v(" "),s("h3",[t._v("Business Entity")]),t._v(" "),s("router-link",{staticClass:"links",attrs:{to:{path:"/business-entity-create"}}},[t._v(" Create")]),t._v("\n               \n          "),s("router-link",{staticClass:"links",attrs:{to:{path:"/business-entity-list"}}},[t._v(" List")])],1)],1)],1)],1):t._e(),t._v(" "),t.checkRole("BE Admin")?s("div",{staticStyle:{"max-width":"90vw",margin:"10px auto",padding:"8px","box-sizing":"border-box"}},[s("el-card",{staticClass:"box-card"},[s("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[s("span",{staticStyle:{"flex-grow":"1"}},[t._v(" Business Admin Dashboard ")]),t._v(" "),s("router-link",{staticStyle:{display:"inline","margin-left":"20px"},attrs:{to:{path:"/app-create"}}},[s("el-button",{attrs:{type:"success",size:"mini"}},[t._v("New App")])],1)],1)])],1):t._e(),t._v(" "),s("el-row",{staticClass:"margin-10",staticStyle:{"max-width":"90vw",margin:"10px auto"},attrs:{gutter:16}},[t._l([1,2,3,4,5],function(e,a){return t.isLoading&&t.checkRole("BE Admin")?s("el-col",{key:"loading"+a,staticStyle:{"margin-bottom":"15px"},attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[s("el-card",{staticClass:"box-card"},[s("content-placeholders",{attrs:{rounded:!0}},[s("content-placeholders-img"),t._v(" "),s("content-placeholders-heading")],1)],1)],1):t._e()}),t._v(" "),t._l(t.apps,function(e,a){return s("el-col",{key:a,staticStyle:{"margin-bottom":"15px"},attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t.checkRole("BE Admin")?s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"text item"},[s("p",{staticClass:"card-label"},[t._v("App Name")]),t._v("\n          "+t._s(e.name)+"\n          "),s("p",{staticClass:"card-label"},[t._v(" App ID ")]),t._v(" "),s("span",{staticStyle:{"font-size":"0.8em"}},[t._v(t._s(e.app_id))]),t._v(" "),s("p",{staticClass:"card-label"},[t._v(" Client API ID ")]),t._v(" "),s("span",{staticStyle:{"font-size":"0.8em"}},[t._v(t._s(e.client_api_id?e.client_api_id:"--"))]),t._v(" "),s("div",{staticStyle:{"margin-top":"10px","border-top":"1px solid #EEE","padding-top":"10px"}},[s("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""},nativeOn:{click:function(e){t.edit(a)}}}),t._v(" "),s("el-button",{attrs:{type:"primary",icon:"el-icon-delete",circle:""},nativeOn:{click:function(e){t.deleteAppDialogVisible=!0,t.selectedIndexForDelete=a}}}),t._v(" "),s("el-button",{attrs:{type:"primary",icon:"el-icon-d-arrow-right",circle:""},nativeOn:{click:function(a){t.openApp(e)}}})],1)])]):t._e(),t._v(" "),s("el-dialog",{attrs:{title:"Delete App",visible:t.deleteAppDialogVisible},on:{"update:visible":function(e){t.deleteAppDialogVisible=e}}},[s("h3",{staticStyle:{color:"tomato"}},[t._v("Are you sure? This action can not be reversed.")]),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.deleteAppDialogVisible=!1,t.selectedIndexForDelete=null}}},[t._v("Cancel")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.removeApp(t.selectedIndexForDelete)}}},[t._v("Confirm")])],1)])],1)})],2),t._v(" "),t.checkRole("Consumer")?s("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("Consumer Dashboard")])]),t._v(" "),s("div",{staticClass:"text item"},[s("el-row",{staticClass:"text-left"},[s("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[s("h3",[t._v("Chat")]),t._v(" "),s("router-link",{attrs:{to:{path:"/consumer-chat-rooms-list"}}},[t._v("Chat rooms")])],1),t._v(" "),s("el-col",{staticClass:"media-xs-view",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[s("h3",[t._v("Subscribed stores")]),t._v(" "),s("router-link",{attrs:{to:{path:"/consumer-subscribed-store-list"}}},[t._v("Store List")])],1)],1)],1)]):t._e(),t._v(" "),t.checkRole("Store Manager")?s("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("Manager Dashboard")])]),t._v(" "),s("div",{staticClass:"text item"},[s("el-row",{staticClass:"text-left"},[s("el-col",{staticClass:"desktopChatLink",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[s("h3",[t._v("Chat")]),t._v(" "),s("router-link",{attrs:{to:{path:"/admin-room-list"}}},[t._v("Chat rooms")])],1),t._v(" "),s("el-col",{staticClass:"mobileChatLink",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[s("h3",[t._v("Chat")]),t._v(" "),s("router-link",{attrs:{to:{path:"/mobile-admin-room-list"}}},[t._v("Mobile Chat rooms")])],1),t._v(" "),s("el-col",{staticClass:"media-xs-view",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[s("h3",[t._v("Notification")]),t._v(" "),s("router-link",{staticClass:"links",attrs:{to:{path:"/broadcast-notification/"+t.app_id}}},[t._v("Broadcast Notification")])],1)],1)],1)]):t._e(),t._v(" "),t.checkRole("Customer Care Admin")?s("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("Customer Care Admin Dashboard")])]),t._v(" "),s("div",{staticClass:"text item"},[s("el-row",{staticClass:"text-left"},[s("el-col",{staticClass:"desktopChatLink",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[s("h3",[t._v("Chat")]),t._v(" "),s("router-link",{attrs:{to:{path:"/admin-room-list"}}},[t._v("Chat rooms")])],1),t._v(" "),s("el-col",{staticClass:"mobileChatLink",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[s("h3",[t._v("Chat")]),t._v(" "),s("router-link",{attrs:{to:{path:"/mobile-admin-room-list"}}},[t._v("Mobile Chat rooms")])],1)],1)],1)]):t._e()],1)},staticRenderFns:[]};var N=a("VU/8")(S,k,!1,function(t){a("h3ZV")},"data-v-10bb73a8",null).exports,M={name:"AppDashboard",components:{TopBar:w},props:["id","name"],data:function(){return{helpTextToShow:null}},methods:{showDashboardHelpText:function(t){this.helpTextToShow=t}}},I={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"AppDashboard"},[s("TopBar"),t._v(" "),s("div",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[s("el-card",[s("div",{staticClass:"clearfix"},[s("span",[t._v(t._s(t.name?t.name:"App")+" Dashboard")])])]),t._v(" "),s("div",{staticClass:"text item"},[s("el-row",{staticClass:"margin-top-20",attrs:{gutter:30}},[s("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[s("el-card",{staticClass:"text-center",nativeOn:{mouseover:function(e){t.showDashboardHelpText("PROFILE_CONFIG")},mouseout:function(e){t.showDashboardHelpText(null)}}},[s("img",{attrs:{src:a("q4rX"),width:"30px",alt:"",srcset:""}}),t._v(" "),s("h3",[t._v("User Profile Config")]),t._v(" "),s("router-link",{staticClass:"links",attrs:{to:{path:"/profile-config/"+t.id}}},[t._v("  Manage ")])],1)],1),t._v(" "),s("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[s("el-card",{staticClass:"text-center",nativeOn:{mouseover:function(e){t.showDashboardHelpText("STORE_CONFIG")},mouseout:function(e){t.showDashboardHelpText(null)}}},[s("img",{attrs:{src:a("o2oU"),width:"30px",alt:"",srcset:""}}),t._v(" "),s("h3",[t._v("Store Profile Config")]),t._v(" "),s("router-link",{staticClass:"links",attrs:{to:{path:"/store-config/"+t.id}}},[t._v(" Manage")])],1)],1),t._v(" "),s("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[s("el-card",{staticClass:"text-center",nativeOn:{mouseover:function(e){t.showDashboardHelpText("PROFILE")},mouseout:function(e){t.showDashboardHelpText(null)}}},[s("img",{attrs:{src:a("zmSi"),width:"30px",alt:"",srcset:""}}),t._v(" "),s("h3",[t._v("Users")]),t._v(" "),s("router-link",{staticClass:"links",attrs:{to:{path:"/profile-list/"+t.id}}},[t._v("List")]),t._v(" "),s("router-link",{staticClass:"links",attrs:{to:{path:"/profile-create/"+t.id}}},[t._v("Create")])],1)],1)],1),t._v(" "),s("el-row",{staticClass:"margin-top-20",attrs:{gutter:30}},[s("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[s("el-card",{staticClass:"text-center",nativeOn:{mouseover:function(e){t.showDashboardHelpText("GEOZONE")},mouseout:function(e){t.showDashboardHelpText(null)}}},[s("img",{attrs:{src:a("AHUJ"),width:"30px",alt:"",srcset:""}}),t._v(" "),s("h3",[t._v("Zones")]),t._v(" "),s("router-link",{staticClass:"links",attrs:{to:{path:"/geozone-list/"+t.id}}},[t._v("List")]),t._v(" "),s("router-link",{staticClass:"links",attrs:{to:{path:"/geozone-create/"+t.id}}},[t._v("Create")])],1)],1),t._v(" "),s("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[s("el-card",{staticClass:"text-center",nativeOn:{mouseover:function(e){t.showDashboardHelpText("BRAND")},mouseout:function(e){t.showDashboardHelpText(null)}}},[s("img",{attrs:{src:a("aaIl"),width:"35px",alt:"",srcset:""}}),t._v(" "),s("h3",[t._v("Brands")]),t._v(" "),s("router-link",{staticClass:"links",attrs:{to:{path:"/brand-list/"+t.id}}},[t._v("List")]),t._v(" "),s("router-link",{staticClass:"links",attrs:{to:{path:"/brand-create/"+t.id}}},[t._v("Create")])],1)],1),t._v(" "),s("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[s("el-card",{staticClass:"text-center",nativeOn:{mouseover:function(e){t.showDashboardHelpText("RELATIONS")},mouseout:function(e){t.showDashboardHelpText(null)}}},[s("img",{attrs:{src:a("vcBl"),width:"30px",alt:"",srcset:""}}),t._v(" "),s("h3",[t._v("Relations")]),t._v(" "),s("router-link",{staticClass:"links",attrs:{to:{path:"/relation-create/"+t.id}}},[t._v("List")])],1)],1)],1),t._v(" "),s("el-row",{staticClass:"margin-top-20",attrs:{gutter:30}},[s("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[s("el-card",{staticClass:"text-center",nativeOn:{mouseover:function(e){t.showDashboardHelpText("GEOZONE")},mouseout:function(e){t.showDashboardHelpText(null)}}},[s("img",{attrs:{src:a("AHUJ"),width:"30px",alt:"",srcset:""}}),t._v(" "),s("h3",[t._v("Notifications")]),t._v(" "),s("router-link",{staticClass:"links",attrs:{to:{path:"/global-notifications-list/"+t.id}}},[t._v("List")]),t._v(" "),s("router-link",{staticClass:"links",attrs:{to:{path:"/global-notifications/"+t.id}}},[t._v("Create")])],1)],1),t._v(" "),s("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[s("el-card",{staticClass:"text-center",nativeOn:{mouseover:function(e){t.showDashboardHelpText("STORE")},mouseout:function(e){t.showDashboardHelpText(null)}}},[s("img",{attrs:{src:a("AHUJ"),width:"30px",alt:"",srcset:""}}),t._v(" "),s("h3",[t._v("Stores")]),t._v(" "),s("router-link",{staticClass:"links",attrs:{to:{path:"/app-store-list/"+t.id}}},[t._v("List")]),t._v(" "),s("router-link",{staticClass:"links",attrs:{to:{path:"/app-store/"+t.id}}},[t._v("Create")])],1)],1),t._v(" "),s("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[s("el-card",{staticClass:"text-center",nativeOn:{mouseover:function(e){t.showDashboardHelpText("STORE")},mouseout:function(e){t.showDashboardHelpText(null)}}},[s("img",{attrs:{src:a("AHUJ"),width:"30px",alt:"",srcset:""}}),t._v(" "),s("h3",[t._v("Manage Staff")]),t._v(" "),s("router-link",{staticClass:"links",attrs:{to:{path:"/manage-customer-care/"+t.id}}},[t._v("Customer care")]),t._v(" "),s("router-link",{staticClass:"links",attrs:{to:{path:"/manage-store-manager/"+t.id}}},[t._v("Store manager")])],1)],1)],1),t._v(" "),s("el-row",{staticClass:"margin-top-20",attrs:{gutter:30}},[s("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[s("el-card",{staticClass:"text-center"},[s("img",{attrs:{src:a("0Wqa"),width:"30px",alt:"",srcset:""}}),t._v(" "),s("h3",[t._v("Broadcast Notification")]),t._v(" "),s("router-link",{staticClass:"links",attrs:{to:{path:"/broadcast-notification/"+t.id}}},[t._v("Manage")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var E=a("VU/8")(M,I,!1,function(t){a("EjhX")},"data-v-683ee4c4",null).exports,D={name:"PlatformList",components:{TopBar:w},data:function(){return{platforms:[]}},created:function(){v.post("/v1/platform/").then(this.getPlatformCallback).catch(function(t){console.log(t)})},methods:{getPlatformCallback:function(t){this.platforms=t.data.data}}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"PlatformList"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card text-center",staticStyle:{"max-width":"80vw",margin:"0 auto"}},[a("div",{staticClass:"text item"},[a("el-row",{staticClass:"vertical-center text-left"},[a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[a("h3",[t._v("Username")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:10,md:10,lg:10,xl:10}},[a("h3",[t._v("Profile ID")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[a("h3",[t._v("Platform ID:")])])],1),t._v(" "),t._l(t.platforms,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center text-left"},[a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[t._v("\n          "+t._s(e.username)+"\n        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:10,md:10,lg:10,xl:10}},[t._v("\n          "+t._s(e.p_id)+"\n        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n          "+t._s(e.b_id)+"\n        ")])],1)})],2)])],1)},staticRenderFns:[]};var L=a("VU/8")(D,T,!1,function(t){a("ONut")},"data-v-7128bc80",null).exports,R={name:"ServiceCreate",components:{TopBar:w},props:["id"],data:function(){return{name:"",service_attributes:[]}},created:function(){this.id&&v.post("/v1/service/get/",{s_id:this.id}).then(this.getServiceCallBack).catch(function(t){console.log(t)})},methods:{getServiceCallBack:function(t){t.data.status&&(this.name=t.data.data[0].name,this.service_attributes=t.data.data[0].service_attributes)},addSA:function(){this.service_attributes.push({key:"",display_name:"",value:"",value_type:"",required:!1})},RemoveAttr:function(t){this.service_attributes.splice(t,1)},save:function(){var t={name:this.name};this.id&&(t.s_id=this.id);var e=!0;this.name||(e=!1,alert("Please fill service name"));for(var a=0;a<this.service_attributes.length;a++)if(!(this.service_attributes[a].key&&this.service_attributes[a].value&&this.service_attributes[a].display_name&&this.service_attributes[a].value_type)){e=!1,alert("Please fill all the fields for service_attributes");break}this.name&&e&&(this.id?v.post("/v1/service/update/",{service:t,service_attributes:this.service_attributes}).then(this.postSaveCallBack).catch(function(t){console.log(t)}):v.post("/v1/service/create/",{service:t,service_attributes:this.service_attributes}).then(this.postSaveCallBack).catch(function(t){console.log(t)}))},postSaveCallBack:function(t){console.log("Response: ",t),t.data.status&&(new u.a({title:"Success",description:"Service created successfully.",className:"notices",type:"success",duration:3}),this.$router.push({path:"/service-list"}))}}},O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ServiceCreate text-center"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"50vw",margin:"0 auto"}},[a("div",{staticClass:"text item"},[a("el-row",{staticClass:"vertical-center",staticStyle:{"text-align":"center"}},[a("el-col",{staticStyle:{"vertical-align":"middle"},attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n          Service name:\n        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:20,md:12,lg:12,xl:12}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticStyle:{width:"90%"},attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(e){t.addSA()}}},[t._v("Add Service Attribute")])],1)],1),t._v(" "),a("div",{staticClass:"text item",staticStyle:{margin:"20px  0 0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(e){t.save()}}},[t._v("Create Service")])],1)],1)]),t._v(" "),a("div",{staticStyle:{margin:"10px"}},[a("el-row",{attrs:{gutter:10}},t._l(t.service_attributes,function(e,s){return a("el-col",{key:s,staticStyle:{"margin-top":"10px"},attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("Service Attribute "+t._s(s+1)+": ")]),t._v(" "),a("span",{staticStyle:{float:"right",cursor:"pointer"},on:{click:function(e){t.RemoveAttr(s)}}},[t._v("✕")])]),t._v(" "),a("div",{staticClass:"text item"},[a("el-row",{staticClass:"vertical-center",attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("p",{staticClass:"form-label"},[t._v("Key")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.key,expression:"sa.key"}],attrs:{type:"text"},domProps:{value:e.key},on:{input:function(a){a.target.composing||t.$set(e,"key",a.target.value)}}})])],1),t._v(" "),a("el-row",{staticClass:"vertical-center",attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("p",{staticClass:"form-label"},[t._v("display name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.display_name,expression:"sa.display_name"}],attrs:{type:"text"},domProps:{value:e.display_name},on:{input:function(a){a.target.composing||t.$set(e,"display_name",a.target.value)}}})])],1),t._v(" "),a("el-row",{staticClass:"vertical-center",attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("p",{staticClass:"form-label"},[t._v("value type")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.value_type,expression:"sa.value_type"}],on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"value_type",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:"str"}},[t._v("String")]),t._v(" "),a("option",{attrs:{value:"boolean"}},[t._v("Boolean")]),t._v(" "),a("option",{attrs:{value:"int"}},[t._v("Number")]),t._v(" "),a("option",{attrs:{value:"float"}},[t._v("Float")]),t._v(" "),a("option",{attrs:{value:"date"}},[t._v("Date Field")]),t._v(" "),a("option",{attrs:{value:"datetime"}},[t._v("DateTime Field")]),t._v(" "),a("option",{attrs:{value:"password"}},[t._v("Password")])])])],1),t._v(" "),a("el-row",{staticClass:"vertical-center",attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("p",{staticClass:"form-label"},[t._v("value")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"sa.value"}],attrs:{type:"text"},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})])],1),t._v(" "),a("el-row",{staticClass:"vertical-center margin-top-20",attrs:{gutter:10}},[a("el-col",{staticClass:"text-right",attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("p",{staticClass:"form-label"},[t._v("Required?")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.required,expression:"required"}],attrs:{name:"isRequired",type:"radio"},domProps:{value:!0,checked:t._q(t.required,!0)},on:{change:function(e){t.required=!0}}}),t._v(" Yes\n                "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.required,expression:"required"}],attrs:{name:"isRequired",type:"radio"},domProps:{value:!1,checked:t._q(t.required,!1)},on:{change:function(e){t.required=!1}}}),t._v(" No\n              ")])],1)],1)])],1)}))],1)],1)},staticRenderFns:[]};var U=a("VU/8")(R,O,!1,function(t){a("ki4a")},"data-v-6a2a3d0e",null).exports,F={name:"ServiceList",components:{TopBar:w},data:function(){return{services:[]}},created:function(){v.post("/v1/platfrom-service/").then(this.getServiceCallback).catch(function(t){console.log(t)})},methods:{getServiceCallback:function(t){this.services=t.data.data},edit:function(t){var e=this.services[t].s_id;this.$router.push({path:"/service-create/"+e})},remove:function(t){v.post("/v1/service/delete/",{s_id:this.services[t].s_id}).then(this.postRemoveCallback).catch(function(t){console.log(t)})},postRemoveCallback:function(t){t.data.status&&(new u.a({title:"Success",description:"Service deleted successfully.",className:"notices",type:"success",duration:3}),v.post("/v1/service/").then(this.getServiceCallback).catch(function(t){console.log(t)}))}}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ServiceList"},[a("TopBar"),t._v(" "),t._l(t.services,function(e,s){return a("div",{key:s},[a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"clearfix",staticStyle:{display:"flex"},attrs:{slot:"header"},slot:"header"},[a("h2",{staticStyle:{"font-weight":"bold",margin:"auto"}},[t._v(t._s(e.name))]),t._v(" "),a("div",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.edit(s)}}},[t._v("Edit")]),t._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.remove(s)}}},[t._v("Delete")])],1)]),t._v(" "),a("div",{staticClass:"text item"},[a("el-row",{staticClass:"vertical-center text-center"},[a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[a("h3",[t._v(" Name ")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[a("h3",[t._v(" Key ")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[a("h3",[t._v(" Value ")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[a("h3",[t._v(" Type ")])])],1),t._v(" "),t._l(e.service_attributes,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center text-center"},[a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[t._v("\n            "+t._s(e.display_name)+"\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[t._v("\n            "+t._s(e.key)+"\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[t._v("\n            "+t._s(e.value)+"\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[t._v("\n            "+t._s(e.value_type)+"\n          ")])],1)})],2)])],1)})],2)},staticRenderFns:[]},P=a("VU/8")(F,B,!1,null,null,null).exports,z=a("+cKO"),q={name:"RoleCreate",components:{TopBar:w},props:["id"],data:function(){return{name:""}},validations:{name:{required:z.required}},created:function(){this.id&&v.post("/v1/role/get/",{r_id:this.id}).then(this.getRoleCallBack).catch(function(t){console.log(t)})},methods:{setName:function(t){this.name=t,this.$v.name.$touch()},getRoleCallBack:function(t){this.name=t.data.data[0].name},save:function(){this.$v.$touch(),this.$v.$invalid||(this.id?v.post("/v1/role/update/",{r_id:this.id,properties:{name:this.name}}).then(this.postSaveCallBack).catch(function(t){console.log(t)}):v.post("/v1/role/create/",{properties:{name:this.name}}).then(this.postSaveCallBack).catch(function(t){console.log(t)}))},postSaveCallBack:function(t){console.log("Response: ",t),t.data.status&&new u.a({title:"Success",description:"Roles created successfully.",className:"notices",type:"success",duration:3}),this.$router.push({path:"/role-list"})}}},j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"RoleCreate"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"50vw",margin:"0 auto"}},[a("div",{staticClass:"text item"},[a("el-row",{staticClass:"vertical-center",staticStyle:{"text-align":"center"}},[a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n          Role name:\n        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:14,md:14,lg:14,xl:14}},[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.name.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form__input",staticStyle:{width:"80%"},attrs:{type:"text"},domProps:{value:t.name},on:{input:[function(e){e.target.composing||(t.name=e.target.value)},function(e){t.setName(e.target.value)}]}})]),t._v(" "),t.$v.name.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.save()}}},[t._v("Create Role")])],1)],1)],1)])],1)},staticRenderFns:[]},V=a("VU/8")(q,j,!1,null,null,null).exports,Z={name:"RoleList",components:{TopBar:w},data:function(){return{roles:[]}},created:function(){v.post("/v1/get-platform-roles/").then(this.getRoleCallback).catch(function(t){console.log(t)})},methods:{getRoleCallback:function(t){t.data.status&&(this.roles=t.data.data)},edit:function(t){var e=this.roles[t].r_id;this.$router.push({path:"/role-create/"+e})},remove:function(t){v.post("/v1/role/delete/",{r_id:this.roles[t].r_id}).then(this.postRemoveCallback).catch(function(t){console.log(t)})},postRemoveCallback:function(t){t.data.status&&(new u.a({title:"Success",description:"Role deleted successfully.",className:"notices",type:"success",duration:3}),v.post("/v1/role/").then(this.getRoleCallback).catch(function(t){console.log(t)}))}}},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"RoleList"},[a("TopBar"),t._v(" "),a("div",[a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("h3",{staticStyle:{margin:"auto"}},[t._v(" Roles ")])]),t._v(" "),a("div",{staticClass:"text item"},t._l(t.roles,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center margin-bottom-10"},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n            "+t._s(e.name)+"\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:10,md:10,lg:10,xl:10}},[t._v("\n            "+t._s(e.r_id)+"\n          ")])],1)}))])],1)],1)},staticRenderFns:[]},Q=a("VU/8")(Z,G,!1,null,null,null).exports,$={name:"ConsumerChatRoomsList",components:{TopBar:w},data:function(){return{stores:[],selected_id:"",chatRooms:[],defaultStoreRoom:[]}},created:function(){v.post("/v1/profile/consumer/get-subscribed-store-chat-room/",{p_id:window.localStorage.getItem("p_id")}).then(this.getStoreCallback).catch(function(t){console.log(t)})},methods:{getStoreCallback:function(t){this.stores=t.data.data;for(var e=0;e<this.stores.length;e++){var a={brand:{uuid:null,name:"defualt"},st_id:this.stores[e].st_id,store_attr:this.stores[e].store_attributes};this.chatRooms.push(a);for(var s=0;s<this.stores[e].brands.length;s++){console.log("this.chatRooms",this.stores[e].brands[s]);var i={brand:this.stores[e].brands[s],st_id:this.stores[e].st_id,store_attr:this.stores[e].store_attributes};this.chatRooms.push(i)}}},redirectToChatroom:function(t,e){this.$router.push({path:"/consumer-chat/"+t+"/"+window.localStorage.getItem("p_id")+"/"+e})},UnsubscribeStore:function(t){v.post("/v1/store/unsubscribe-for-notification/",{p_id:window.localStorage.getItem("p_id"),st_id:t}).then(this.$router.go(this.$router.current)).catch(function(t){console.log(t)})},redirectToBack:function(){this.$router.go(-1)}}},Y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ConsumerChatRoomsList"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"text item"},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Chat room list")]),t._v(" "),a("router-link",{attrs:{to:{path:"/consumer-available-stores-for-subscription"}}},[a("el-button",{attrs:{type:"success",size:"mini"}},[t._v("Subscribe New Store")])],1)],1)])]),t._v(" "),t._l(t.chatRooms,function(e,s){return a("div",{key:s},[a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticStyle:{color:"#409EFF",cursor:"pointer","text-align":"right"},on:{click:function(a){t.redirectToChatroom(e.st_id,e.brand.uuid)}}},[t._v("Chat")]),t._v(" "),a("el-row",{staticClass:"card-row",staticStyle:{"border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{xs:8,sm:8,md:8,lg:8,xl:8}},[t._v("\n              Brand name:\n          ")]),t._v(" "),a("el-col",{attrs:{xs:16,sm:16,md:16,lg:16,xl:16}},[t._v("\n            "+t._s(e.brand.name)+"\n          ")]),t._v(" "),a("el-col",{attrs:{xs:8,sm:8,md:8,lg:8,xl:8}},[t._v("\n              Brand id:\n          ")]),t._v(" "),a("el-col",{attrs:{xs:16,sm:16,md:16,lg:16,xl:16}},[e.brand.uuid?a("span",[t._v("\n              "+t._s(e.brand.uuid)+"\n            ")]):a("span",[t._v("\n              ---\n            ")])])],1),t._v(" "),a("el-row",{staticClass:"card-row",staticStyle:{"border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{xs:8,sm:8,md:8,lg:8,xl:8}},[t._v("\n            Store id:\n        ")]),t._v(" "),a("el-col",{attrs:{xs:16,sm:16,md:16,lg:16,xl:16}},[t._v("\n            "+t._s(e.st_id)+"\n        ")])],1),t._v(" "),t._l(e.store_attr,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center card-row"},["City"==e.display_name||"Country"==e.display_name||"State"==e.display_name||"Name"==e.display_name?a("el-col",{staticStyle:{"border-bottom":"1px solid #F1F1F1"},attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n            "+t._s(e.display_name)+"\n          ")]):t._e(),t._v(" "),"City"==e.display_name||"Country"==e.display_name||"State"==e.display_name||"Name"==e.display_name?a("el-col",{staticStyle:{"border-bottom":"1px solid #F1F1F1"},attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[t._v("\n            "+t._s(e.value)+"\n          ")]):t._e()],1)})],2)],1)})],2)},staticRenderFns:[]};var J=a("VU/8")($,Y,!1,function(t){a("kCUs")},"data-v-36a8f072",null).exports,H={name:"SubscribedStoreList",components:{TopBar:w},data:function(){return{stores:[],selected_id:"",app_id:""}},computed:{authUser:function(){return this.$store.state.general.authUser}},created:function(){v.post("/v1/profile/consumer/get-subscribed-store/",{p_id:window.localStorage.getItem("p_id")}).then(this.getStoreCallback).catch(function(t){console.log(t)})},methods:{getStoreCallback:function(t){this.stores=t.data.data},UnsubscribeStore:function(t){v.post("/v1/store/unsubscribe-for-notification/",{p_id:window.localStorage.getItem("p_id"),st_id:t}).then(this.$router.go(this.$router.current)).catch(function(t){console.log(t)})},redirectToBack:function(){this.$router.go(-1)}}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"SubscribedStoreList"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"text item"},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Subscribed Stores")]),t._v(" "),a("router-link",{attrs:{to:{path:"/consumer-available-stores-for-subscription"}}},[a("el-button",{attrs:{type:"success",size:"mini"}},[t._v("Subscribe Store")])],1)],1)])]),t._v(" "),t._l(t.stores,function(e,s){return a("div",{key:s},[a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"text item"},[a("div",{staticStyle:{"font-size":"0.8em",padding:"10px","border-bottom":"1px solid #F1F1F1",display:"flex"}},[a("span",{staticStyle:{"flex-grow":"1"}},[t._v(t._s(e.st_id))]),t._v(" "),a("span",[a("span",{staticStyle:{color:"#409EFF",cursor:"pointer"},on:{click:function(a){t.UnsubscribeStore(e.st_id)}}},[t._v("Unsubscribe")])])]),t._v(" "),t._l(e.store_attributes,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center",staticStyle:{"border-bottom":"1px solid #F1F1F1",padding:"10px"}},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n            "+t._s(e.display_name)+"\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[t._v("\n            "+t._s(e.value)+"\n          ")])],1)})],2)])],1)})],2)},staticRenderFns:[]},W=a("VU/8")(H,K,!1,null,null,null).exports,X={name:"UnSubscribedStoreList",components:{TopBar:w},data:function(){return{stores:[],selected_id:"",app_id:""}},created:function(){v.post("/v1/profile/consumer/get-unsubscribed-store/",{p_id:window.localStorage.getItem("p_id")}).then(this.getStoreCallback).catch(function(t){console.log(t)})},methods:{getStoreCallback:function(t){this.stores=t.data.data},subscribeToStore:function(t){v.post("/v1/store/subscribe-for-notification/",{p_id:window.localStorage.getItem("p_id"),st_id:t}).then(this.$router.go(this.$router.current)).catch(function(t){console.log(t)})},redirectToBack:function(){this.$router.go(-1)}}},tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"UnSubscribedStoreList"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"text item"},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.redirectToBack()}}},[t._v("Store >  ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Stores available for subscription")]),t._v(" "),a("router-link",{attrs:{to:{path:"/consumer-subscribed-store-list"}}},[a("el-button",{attrs:{type:"success",size:"mini"}},[t._v("Subscribed Stores")])],1)],1)])]),t._v(" "),t._l(t.stores,function(e,s){return a("div",{key:s},[a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"text item"},[a("div",{staticStyle:{"font-size":"0.8em",padding:"10px","border-bottom":"1px solid #F1F1F1",display:"flex"}},[a("span",{staticStyle:{"flex-grow":"1"}},[t._v(t._s(e.store.uuid))]),t._v(" "),a("span",[a("span",{staticStyle:{color:"#409EFF",cursor:"pointer"},on:{click:function(a){t.subscribeToStore(e.store.uuid)}}},[t._v("Subscribe")])])]),t._v(" "),t._l(e.store_attributes,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center",staticStyle:{"border-bottom":"1px solid #F1F1F1",padding:"10px"}},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n            "+t._s(e.display_name)+"\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[t._v("\n            "+t._s(e.value)+"\n          ")])],1)})],2)])],1)})],2)},staticRenderFns:[]},et=a("VU/8")(X,tt,!1,null,null,null).exports,at=a("DmT9"),st=a.n(at),it=a("q5eO"),ot=a.n(it),nt=a("oiih"),rt={name:"Chat",data:function(){return{lastSeenTimeStampIntervalId:null,lastSeenTimeStamp:!1,profile_name:"",image:null,file:"",toggleRoomAccess:!0,isRoomOpenForStaff:!0,systemAccess:JSON.parse(c()(nt.access)),accessBlocked:!1,message:"",storeId:null,consumerUUID:null,brandId:null,consumerNotificationToken:null,chat_server_url:null,isNewConversation:!0,isConsumerOnline:!1,messages:[],userRoles:JSON.parse(window.localStorage.getItem("roles")),isAdmin:!1,socket:st()(this.chat_server_url?this.chat_server_url:"https://inventa.live/chat/",{secure:!0,rejectUnauthorized:!1,path:"/chat/socket.io",transports:["websocket"],query:"user=admin"})}},computed:{appId:function(){return localStorage.getItem("app_id")},authUser:function(){return this.$store.state.general.authUser}},methods:{getUserLastSeenTimeStamp:function(t){var e=this;f.post("/get-last-seen-time-stamp/",{consumerUUID:t}).then(function(a){var s=a.data.data[0].timestamp;e.getDiffOfLastSeenTimeStamp(s,t)}).catch(function(t){console.log(t)})},getDiffOfLastSeenTimeStamp:function(t,e){var a=parseInt((parseInt((new Date).getTime())-parseInt(t))/1e3),s=parseInt(a/60);console.log("consumerUUID",e),console.log("lastSeenTimeStamp",t),console.log("diffTime",a),console.log("diffMin",s),2>s&&this.consumerUUID==e?this.lastSeenTimeStamp=!0:this.lastSeenTimeStamp=!1},getProfileNameByID:function(t){v.post("/v1/profile-name-by-id/",{app_id:this.authUser.app_id?this.authUser.app_id:this.appId,p_id:t}).then(this.getProfileNameByIDCallback).catch(function(t){console.log(t)})},getProfileNameByIDCallback:function(t){console.log("getProfileNameByIDCallback",t.data),this.profile_name=t.data.data[0].profile_name},sendImage:function(){this.file=this.$refs.file.files[0],this.sendImageMessage()},handleImageUpload:function(){this.$refs.file.click()},roomAccessChanged:function(){var t={consumerUUID:this.consumerUUID,storeId:this.storeId,brandId:this.brandId,token:window.localStorage.getItem("x-access-token")};this.toggleRoomAccess?(console.log("restoring default room access",this.toggleRoomAccess),this.socket.emit("ROOM_ACCESS_PERMISSIONS_CHANGE_TO_DEFAULT",t)):(console.log("restricting room access to BE Admin only",this.toggleRoomAccess),this.socket.emit("ROOM_ACCESS_PERMISSIONS_CHANGE_TO_BE_ADMIN_ONLY",t))},refreshRoomAccessPermissions:function(t){var e=this;if(this.consumerUUID==t.consumerUUID&&this.storeId==t.storeId&&this.brandId==t.brandId){if(console.log("roomdata",t),t.access)var a=t.access.some(function(t){return t===e.systemAccess.STORE_MANAGER}),s=t.access.some(function(t){return t===e.systemAccess.STORE_MANAGER});this.isRoomOpenForStaff=a&&s,this.accessBlocked=!this.isRoomOpenForStaff&&(this.checkRole(this.systemAccess.STORE_MANAGER)||this.checkRole(this.systemAccess.CUSTOMER_CARE_ADMIN)),this.toggleRoomAccess=this.isRoomOpenForStaff}console.log("refreshRoomAccessPermissions",t,this.accessBlocked),console.log("accessToSm",this.systemAccess,a),console.log("accessToCCA",s)},getConsumerNotificationToken:function(){var t=this;v.post("/v1/profile/get-notification-token-by-profile-id/",{p_ids:[this.consumerUUID]}).then(function(e){e.data.data&&e.data.data.length?t.consumerNotificationToken=e.data.data[0].notification_token:console.log("consumer notification token not found...")}).catch(function(t){console.log(t)})},sendNotification:function(t){f.post("/pushy-send-notification/",t).then(function(t){console.log("send notification response: ",t)}).catch(function(t){console.log(t)})},resetDataModelsOnRoomChange:function(){console.log("resetDataModelsOnRoomChange"),this.isConsumerOnline=!1,this.messages=[],this.message="",this.isAdmin=!this.checkRole(this.systemAccess.CONSUMER),this.isAdmin||(this.consumerUUID=window.localStorage.getItem("p_id")),this.getConsumerNotificationToken(),this.initiateRoom()},detectSubmit:function(t){if(13===t.keyCode&&t.shiftKey){var e=this.message;e.trim().length?this.sendMessage(e):(console.log("cant send blank msg..."),this.message="")}},preProcessMsgForDisplay:function(t,e){return e||(e="message"),"text"==t.type?(t[e]=ot()(t[e],{truncate:[26,15],attributes:[{name:"target",value:"_blank"},{name:"class",value:"inline-link"}]}),t):t},sendMessage:function(t){if(this.consumerNotificationToken&&this.isAdmin)var e={device_notification_tokens:[this.consumerNotificationToken],message:{title:t,st_id:this.storeId,p_id:window.localStorage.getItem("p_id"),manager:window.localStorage.getItem("username"),brandId:this.brandId,type:"text"},notification_type:"MSG"};else e=null;var a={profileName:this.profile_name,user:window.localStorage.getItem("username"),userUUID:window.localStorage.getItem("p_id"),consumerUUID:this.consumerUUID,token:window.localStorage.getItem("x-access-token"),storeId:this.storeId,brandId:this.brandId,message:t,userType:JSON.parse(window.localStorage.getItem("roles"))[0].name,type:"text"};console.log("sendMessage socket emit"),this.socket.emit("SEND_MESSAGE",a),e&&this.sendNotification(e),this.message=""},sendImageMessage:function(){var t=this;if(this.file){var e={user:window.localStorage.getItem("username"),userUUID:window.localStorage.getItem("p_id"),consumerUUID:this.consumerUUID,token:window.localStorage.getItem("x-access-token"),storeId:this.storeId,brandId:this.brandId,userType:JSON.parse(window.localStorage.getItem("roles"))[0].name,type:"image",image:this.file},a=new FormData;for(var s in e)a.append(s,e[s]);g.post("/save-chat-images/",a).then(function(e){if(console.log("save chat image: ",e.data),e.data.imageUrl){if(t.consumerNotificationToken&&t.isAdmin){var a={device_notification_tokens:[t.consumerNotificationToken],message:{title:e.data.imageUrl,st_id:t.storeId,p_id:window.localStorage.getItem("p_id"),brandId:t.brandId,message:"New image",type:"image"},notification_type:"MSG"};console.log("notification_msg",a)}else a=null;var s={user:window.localStorage.getItem("username"),userUUID:window.localStorage.getItem("p_id"),consumerUUID:t.consumerUUID,token:window.localStorage.getItem("x-access-token"),storeId:t.storeId,brandId:t.brandId,image:e.data.imageUrl,userType:JSON.parse(window.localStorage.getItem("roles"))[0].name,type:"image"};t.socket.emit("SEND_MESSAGE",s),a&&t.sendNotification(a)}}).catch(function(t){console.log(t)})}},initiateRoom:function(){console.log("chat component initiateRoom consumerUUID",this.consumerUUID),console.log("chat component initiateRoom storeId",this.storeId),this.socket.emit("adduser",{user:window.localStorage.getItem("username"),consumerUUID:this.consumerUUID,token:window.localStorage.getItem("x-access-token"),storeId:this.storeId,brandId:this.brandId})},getOldMessages:function(){var t=this.messages[this.messages.length-1];t.token=window.localStorage.getItem("x-access-token"),console.log("getting old msgs before: ",t),this.socket.emit("GET_OLD_MESSAGES",t)},checkRole:function(t){return this.userRoles.some(function(e){return e.name===t})}},created:function(){var t=this;console.log("Chat initialized..."),this.lastSeenTimeStampIntervalId=setInterval(function(){t.getUserLastSeenTimeStamp(t.consumerUUID)},6e4),console.log("lastSeenTimeStampIntervalId",this.lastSeenTimeStampIntervalId),b.$on("currentRoomChanged",function(e){console.log("<Chat> currentRoomChanged: ",e),t.consumerUUID=e.consumerUUID,t.storeId=e.storeId,t.brandId=e.brandId,t.refreshRoomAccessPermissions(e),t.resetDataModelsOnRoomChange(),t.getProfileNameByID(window.localStorage.getItem("p_id")),t.getUserLastSeenTimeStamp(t.consumerUUID)}),this.socket.on("reconnect",function(){console.log("reconnected..."),t.resetDataModelsOnRoomChange()}),this.socket.on("disconnect",function(){console.log("user disconnecting")}),this.socket.on("ON__JOIN_ROOM_ACK",function(e){console.log("ON__JOIN_ROOM_ACK...",e),t.socket.emit("GET_INITIAL_MESSAGES",{consumerUUID:t.consumerUUID,storeId:t.storeId,brandId:t.brandId,token:window.localStorage.getItem("x-access-token")})}),this.socket.on("UPDATED_LAST_SEEN_TIME_STAMP",function(e){console.log("UPDATED_LAST_SEEN_TIME_STAMP",e);var a=e.timestamp;t.getDiffOfLastSeenTimeStamp(a,e.consumerUUID)}),b.$on("searchMsgString",function(e,a){t.socket.emit("SEARCH_MSGS",{consumerUUID:t.consumerUUID,token:window.localStorage.getItem("x-access-token")}),t.socket.on("EMIT__GET_SEARCHED_MSGS",function(e){t.messages=e.filter(function(t){return t.message==a||t.message.includes(a)}),console.log("SEARCH_MSGS: ",t.messages)})}),this.socket.on("updaterooms",function(t){console.log("Room in Mongo: ",t),b.$emit("EventBus_updaterooms",t)}),this.socket.on("ROOM_ACCESS_PERMISSIONS_CHANGED",function(e){console.log("ON ROOM_ACCESS_PERMISSIONS_CHANGED: ",e),t.refreshRoomAccessPermissions(e),b.$emit("ROOM_ACCESS_PERMISSIONS_CHANGED",e)}),this.socket.on("updatechat",function(e){console.log("new msg updatechat: ",e),t.isNewConversation=!1,e.isSystemMsg?"CONSUMER"===e.userType.toUpperCase()&&(t.isConsumerOnline=e.isUserOnline):e.consumerUUID==t.consumerUUID&&t.messages.unshift(t.preProcessMsgForDisplay(e))}),this.socket.on("loadinitialchat",function(e){console.log("loadinitialchat: ",e),t.isNewConversation=!e.length;for(var a=0;a<e.length;a++)t.messages.push(t.preProcessMsgForDisplay(e[a]))}),this.socket.on("GET_OLD_MESSAGES",function(e){console.log("GET_OLD_MESSAGES: ",e),e.olderMsgs.length?e.olderMsgs.forEach(function(e){t.messages.push(t.preProcessMsgForDisplay(e))}):console.log("No More messages...")})},beforeRouteUpdate:function(t,e,a){},beforeDestroy:function(){console.log("EMIT_LAST_SEEN_STATUS_ON_PAGE_DESTROYED"),this.socket.emit("EMIT_LAST_SEEN_STATUS_ON_PAGE_DESTROYED",{consumerUUID:this.consumerUUID}),this.socket.disconnect(),b.$off(),clearInterval(this.lastSeenTimeStampIntervalId)},mounted:function(){}},lt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Chat"},[s("div",{staticClass:"chat-box"},[s("div",{staticClass:"new-msg-form"},[s("div",{staticStyle:{"font-size":"0.85rem","margin-bottom":"10px"}},[t.checkRole(t.systemAccess.BE_ADMIN)?s("el-switch",{on:{change:function(e){t.roomAccessChanged()}},model:{value:t.toggleRoomAccess,callback:function(e){t.toggleRoomAccess=e},expression:"toggleRoomAccess"}}):t._e(),t._v(" "),t.checkRole(this.systemAccess.STORE_MANAGER)||this.checkRole(this.systemAccess.CUSTOMER_CARE_ADMIN)?s("div",[t.isRoomOpenForStaff?s("span",{staticStyle:{color:"#58716F"}},[t._v("\n                Room open for staff\n              ")]):s("span",{staticStyle:{color:"tomato"}},[t._v("\n                Room access restricted to BE Admin only\n              ")])]):t._e()],1),t._v(" "),t.isAdmin?s("div",{staticStyle:{display:"flex"}},[t.lastSeenTimeStamp?s("div",{staticClass:"consumer-online-status-text",staticStyle:{color:"rgb(78, 140, 255)"}},[t._v("Consumer Online...")]):s("div",{staticClass:"consumer-online-status-text",staticStyle:{color:"#999"}},[t._v("Consumer Offline...")])]):t._e(),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.message,expression:"message",modifiers:{trim:!0}}],staticClass:"new-msg-input",class:{"consumer-online":t.lastSeenTimeStamp&&t.isAdmin,"access-blocked":t.accessBlocked},attrs:{placeholder:"Write your message here...",disabled:t.accessBlocked},domProps:{value:t.message},on:{keyup:t.detectSubmit,input:function(e){e.target.composing||(t.message=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),t.accessBlocked?t._e():s("div",{staticStyle:{margin:"5px 0"}},[s("img",{staticStyle:{width:"50px",height:"50px",cursor:"pointer","vertical-align":"middle"},attrs:{src:a("feCs")},on:{click:function(e){t.handleImageUpload()}}}),t._v(" "),s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.sendImage()}}},[t._v("Send Image")]),t._v(" "),s("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",name:"upload",accept:"image/jpeg,image/gif,image/png,application/pdf,image/x-eps",id:"fileUpload"}})],1)]),t._v(" "),t.isNewConversation?t._e():s("div",{staticClass:"messages-container"},[t._l(t.messages,function(e,a){return s("div",{key:a},["Server"==e.user?s("div",[t.isAdmin?s("p",{staticStyle:{"text-align":"center"},domProps:{innerHTML:t._s(e.message)}}):t._e()]):s("div",{staticClass:"msg-balloon-container"},[t.isAdmin?s("div",["Consumer"==e.userType?s("div",{staticClass:"msg-balloon left"},["image"==e.type?s("div",[s("a",{attrs:{href:e.image,target:"_blank"}},[s("img",{staticStyle:{height:"100px",width:"100px","object-fit":"cover"},attrs:{src:e.image}})])]):t._e(),t._v(" "),s("p",{domProps:{innerHTML:t._s(e.message)}}),t._v(" "),e.user.startsWith("anonymous--")?s("p",{staticClass:"balloon-meta"},[t._v(t._s(e.profileName?e.profileName:e.user.split("--")[1])+"@"+t._s(e.userType))]):s("p",{staticClass:"balloon-meta"},[t._v(t._s(e.profileName?e.profileName:e.user)+"@"+t._s(e.userType))])]):s("div",{staticClass:"msg-balloon right"},["image"==e.type?s("div",[s("a",{attrs:{href:e.image,target:"_blank"}},[s("img",{staticStyle:{height:"100px",width:"100px","object-fit":"cover"},attrs:{src:e.image}})])]):t._e(),t._v(" "),s("p",{domProps:{innerHTML:t._s(e.message)}}),t._v(" "),e.user.startsWith("anonymous--")?s("p",{staticClass:"balloon-meta"},[t._v(t._s(e.profileName?e.profileName:e.user.split("--")[1])+"@"+t._s(e.userType))]):s("p",{staticClass:"balloon-meta"},[t._v(t._s(e.profileName?e.profileName:e.user)+"@"+t._s(e.userType))])])]):s("div",["Consumer"==e.userType?s("div",{staticClass:"msg-balloon right"},["image"==e.type?s("div",[s("a",{attrs:{href:e.image,target:"_blank"}},[s("img",{staticStyle:{height:"100px",width:"100px","object-fit":"cover"},attrs:{src:e.image}})])]):t._e(),t._v(" "),s("p",{domProps:{innerHTML:t._s(e.message)}}),t._v(" "),e.user.startsWith("anonymous--")?s("p",{staticClass:"balloon-meta"},[t._v(t._s(e.profileName?e.profileName:e.user.split("--")[1])+"@"+t._s(e.userType))]):s("p",{staticClass:"balloon-meta"},[t._v(t._s(e.profileName?e.profileName:e.user)+"@"+t._s(e.userType))])]):s("div",{staticClass:"msg-balloon left"},["image"==e.type?s("div",[s("a",{attrs:{href:e.image,target:"_blank"}},[s("img",{staticStyle:{height:"100px",width:"100px","object-fit":"cover"},attrs:{src:e.image}})])]):t._e(),t._v(" "),s("p",{domProps:{innerHTML:t._s(e.message)}}),t._v(" "),s("p",{staticClass:"balloon-meta"},[t._v("Admin@"+t._s(e.userType))])])])])])}),t._v(" "),s("div",{staticClass:"load-more-chat",on:{click:t.getOldMessages}},[t._v("\n            Load More...\n        ")])],2),t._v(" "),t.isNewConversation?s("div",{staticClass:"messages-container"},[s("el-row",t._l([1,2,3,4],function(e,a){return t.messages.length?s("el-col",{key:"loader"+a,staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[s("content-placeholders",[s("content-placeholders-text",{attrs:{lines:2}})],1)],1):t._e()}))],1):t._e()])])},staticRenderFns:[]};var ct=a("VU/8")(rt,lt,!1,function(t){a("bw/I"),a("OfwC")},"data-v-263a1233",null).exports,dt=a("RUzx"),mt=a.n(dt),pt={name:"AdminRoomList",components:{TopBar:w,Chat:ct,multiselect:mt.a},props:["st_id","app_id"],data:function(){return{searchString:"",brand_dropdown:[],filteredBrandList:[],selected_brand:"",userRoles:JSON.parse(window.localStorage.getItem("roles")),stores:[],rooms:[],storeIdList:[],brandIdList:[],profileIdList:[],currentRoom:{storeId:null,consumerUUID:null,brandId:null}}},watch:{selected_brand:function(t,e){t?(console.log("selected",t),this.filteredBrandList=this.rooms.filter(function(e){return e.storeId==t.st_id&&e.brandId==t.br_id}),console.log("filteredBrandList",this.filteredBrandList)):(console.log("not selected",e),this.filteredBrandList=[])},searchString:function(t,e){t.trim()?(console.log("newString",t),b.$emit("searchMsgString",this.consumerUUID,t.trim())):console.log("oldString",e)}},mounted:function(){var t=this;b.$on("ROOM_ACCESS_PERMISSIONS_CHANGED",function(e){console.log("<Chat> ROOM_ACCESS_PERMISSIONS_CHANGED: ",e);var a=Object(r.findIndex)(t.rooms,function(t){return t.storeId==e.storeId&&t.brandId==e.brandId&&t.consumerUUID==e.consumerUUID});t.rooms[a].access=e.access});var e="";if(console.log("this.authUser","CCA or SM"),this.checkRole(nt.access.CUSTOMER_CARE_ADMIN))console.log("this.authUser","CCA"),e="/customer-care-admin/get-conversation-rooms/",f.post(e,{app_id:this.authUser.app_id}).then(this.getConversationRoomCallback).catch(function(t){console.log(t)});else if(this.checkRole(nt.access.STORE_MANAGER))console.log("this.authUser","SM"),e="/store-manager/get-conversation-rooms/",f.post(e,{app_id:this.authUser.app_id}).then(this.getConversationRoomCallback).catch(function(t){console.log(t)});else if(this.checkRole(nt.access.BE_ADMIN)){console.log("this.authUser","BE_ADMIN"),console.log("st_id",this.st_id);var a=[];a.push(this.st_id),f.post("/get-conversation-rooms/",{stores:a}).then(this.getConversationRoomCallback).catch(function(t){console.log(t)})}},computed:{authUser:function(){return this.$store.state.general.authUser},storeNamesMap:function(){return this.$store.state.cache.storeNamesMap},brandNamesMap:function(){return this.$store.state.cache.brandNamesMap},profileNamesMap:function(){return this.$store.state.cache.profileNamesMap}},methods:{searchMessage:function(){console.log("searchMessage",this.searchString),this.searchString&&b.$emit("searchMsgString",this.consumerUUID,this.searchString.trim())},checkRole:function(t){return!!this.userRoles&&this.userRoles.some(function(e){return e.name===t})},getStoreCallback:function(t){this.stores=t.data.data;for(var e=[],a=0;a<this.stores.length;a++)e.push(this.stores[a].store.uuid);f.post("/get-conversation-rooms/",{stores:e}).then(this.getConversationRoomCallback).catch(function(t){console.log(t)})},storeIdWithName:function(t){var e=t.brand_name,a=t.st_id;return e+" - ["+(this.getStoreNameFromCache(a)?this.getStoreNameFromCache(a):a)+"]"},getConversationRoomCallback:function(t){if(t.status){if(this.rooms=t.data.data,this.rooms.length)for(var e=0;e<this.rooms.length;e++){var a={};a.id=this.rooms[e],a.br_id=this.rooms[e].brandId,a.st_id=this.rooms[e].storeId,a.store_name="","default"==this.rooms[e].brandId?a.brand_name="default":a.brand_name=this.getBrandNameFromCache(this.rooms[e].brandId),this.brand_dropdown.push(a)}try{this.currentRoom.consumerUUID=this.rooms[0].consumerUUID,this.currentRoom.storeId=this.rooms[0].storeId,this.currentRoom.brandId=this.rooms[0].brandId}catch(t){}b.$emit("currentRoomChanged",this.currentRoom),this.rooms.length&&this.openChatRoom(this.rooms[0]),this.storeIdList=this.getStoreIdListForMap(this.rooms),this.brandIdList=this.getBrandIdListForMap(this.rooms),this.profileIdList=this.getProfileIdListForMap(this.rooms),this.getNamesMapForStoreBrandProfile(this.storeIdList,this.brandIdList,this.profileIdList)}},getStoreNameFromCache:function(t){var e=_.find(this.storeNamesMap,{st_id:t});return e?e.store_name:null},getBrandNameFromCache:function(t){var e=_.find(this.brandNamesMap,{br_id:t});return e?e.brand_name:null},getProfileNameFromCache:function(t){var e=_.find(this.profileNamesMap,{p_id:t});return e?e.profile_name:null},getStoreIdListForMap:function(t){for(var e=[],a=0;a<t.length;a++)_.find(this.storeNamesMap,{st_id:t[a].storeId})||e.push(t[a].storeId);return e},getBrandIdListForMap:function(t){for(var e=[],a=0;a<t.length;a++)_.find(this.brandNamesMap,{br_id:t[a].brandId})||e.push(t[a].brandId);return e},getProfileIdListForMap:function(t){for(var e=[],a=0;a<t.length;a++)_.find(this.profileNamesMap,{p_id:t[a].consumerUUID})||e.push(t[a].consumerUUID);return e},openChatRoom:function(t){console.log("openChatRoommmmmmmm: ",t),this.currentRoom.storeId=t.storeId,this.currentRoom.brandId=t.brandId,this.currentRoom.consumerUUID=t.consumerUUID,setTimeout(function(){b.$emit("currentRoomChanged",t)},0)},redirectToBack:function(){this.$router.go(-1)},getStoreNamesMap:function(t){return t.length?v.post("/v1/profile/get-store-names-map/",{app_id:this.authUser.app_id?this.authUser.app_id:this.app_id,storeIdList:t}):{data:{data:[]}}},getBrandNamesMap:function(t){return console.log("getBrandNamesMap() ",t),t.length?v.post("/v1/profile/get-brand-names-map/",{app_id:this.authUser.app_id?this.authUser.app_id:this.app_id,brandIdList:t}):{data:{data:[]}}},getProfileNamesMap:function(t){return t.length?v.post("/v1/profile/get-profile-names-map/",{app_id:this.authUser.app_id?this.authUser.app_id:this.app_id,profileIdList:t}):{data:{data:[]}}},getNamesMapForStoreBrandProfile:function(t,e,a){var s=this;m.a.all([this.getStoreNamesMap(t),this.getBrandNamesMap(e),this.getProfileNamesMap(a)]).then(m.a.spread(function(t,e,a){console.log("getNamesMapForStoreBrandProfile Response",t,e,a);for(var i=0;i<t.data.data.length;i++)s.$store.commit("cache/updateStoreNamesMap",t.data.data[i]);for(i=0;i<e.data.data.length;i++)s.$store.commit("cache/updateBrandNamesMap",e.data.data[i]);for(i=0;i<a.data.data.length;i++)s.$store.commit("cache/updateProfileNamesMap",a.data.data[i])}))}}},ut={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AdminRoomList"},[a("TopBar"),t._v(" "),t.rooms.length?t._e():a("div",{staticStyle:{border:"1px solid #ddd","text-align":"center","font-size":"14px",width:"50%",margin:"0 auto","margin-top":"50px",padding:"20px"}},[t._v("No store is assigned")]),t._v(" "),t.rooms.length?a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto",overflow:"initial"}},[a("div",{staticClass:"text item"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[a("multiselect",{attrs:{"deselect-label":"","select-label":"","track-by":"id",label:"name","custom-label":t.storeIdWithName,placeholder:"Select brand",options:t.brand_dropdown,searchable:!0,"allow-empty":!0},scopedSlots:t._u([{key:"singleLabel",fn:function(e){var s=e.option;return a("div",{},[t._v(t._s(s.brand_name))])}}]),model:{value:t.selected_brand,callback:function(e){t.selected_brand=e},expression:"selected_brand"}})],1),t._v(" "),a("el-col",{staticClass:"top-margin",attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],staticStyle:{"min-height":"40px","font-size":"14px"},attrs:{type:"text",placeholder:"Search here"},domProps:{value:t.searchString},on:{input:function(e){e.target.composing||(t.searchString=e.target.value)}}})])],1)],1)]):t._e(),t._v(" "),a("div",{staticClass:"desktop-chat-layout"},[a("div",{staticClass:"chat-rooms-list"},t._l(t.filteredBrandList.length?t.filteredBrandList:t.rooms,function(e,s){return a("el-card",{key:s,staticClass:"box-card",class:{"current-room":t.currentRoom.storeId==e.storeId&&t.currentRoom.consumerUUID==e.consumerUUID&&t.currentRoom.brandId==e.brandId},staticStyle:{width:"100%","margin-bottom":"10px",cursor:"pointer"},nativeOn:{click:function(a){t.openChatRoom(e)}}},[a("div",{staticClass:"text item"},[a("div",{staticStyle:{"font-size":"0.8em",padding:"10px"}},[a("div",[a("b",[t._v("Consumer:")]),t._v("\n              "+t._s(t.getProfileNameFromCache(e.consumerUUID)?t.getProfileNameFromCache(e.consumerUUID):e.consumerUUID)+"\n            ")]),t._v(" "),a("div",[a("b",[t._v("Store:")]),t._v("\n              "+t._s(t.getStoreNameFromCache(e.storeId)?t.getStoreNameFromCache(e.storeId):e.storeId)+"\n            ")]),t._v(" "),a("div",[a("b",[t._v("Brand:")]),t._v("\n              "+t._s(t.getBrandNameFromCache(e.brandId)?t.getBrandNameFromCache(e.brandId):e.brandId)+"\n            ")])])])])})),t._v(" "),t.rooms.length?a("Chat",{staticStyle:{width:"65%"}}):t._e()],1)],1)},staticRenderFns:[]};var _t=a("VU/8")(pt,ut,!1,function(t){a("BLyY"),a("mvdR")},"data-v-e36a16e8",null).exports,vt={name:"NotificationRoomList",components:{TopBar:w,Chat:ct,multiselect:mt.a},props:["app_id","room_data"],data:function(){return{userRoles:JSON.parse(window.localStorage.getItem("roles")),stores:[],rooms:[],storeIdList:[],brandIdList:[],profileIdList:[],currentRoom:{storeId:null,consumerUUID:null,brandId:null}}},created:function(){},watch:{},mounted:function(){var t=this;b.$on("ROOM_ACCESS_PERMISSIONS_CHANGED",function(e){console.log("<Chat> ROOM_ACCESS_PERMISSIONS_CHANGED: ",e);var a=Object(r.findIndex)(t.rooms,function(t){return t.storeId==e.storeId&&t.brandId==e.brandId&&t.consumerUUID==e.consumerUUID});t.rooms[a].access=e.access});if(console.log("this.authUser","CCA or SM"),this.checkRole(nt.access.CUSTOMER_CARE_ADMIN))console.log("this.authUser","CCA"),console.log("CCA don't have access to this page");else if(this.checkRole(nt.access.STORE_MANAGER))console.log("this.authUser","SM"),console.log("SM don't have access to this page");else if(this.checkRole(nt.access.BE_ADMIN)){console.log("this.authUser","BE_ADMIN");var e={status:!0,data:{}};e.data.data=JSON.parse(decodeURI(this.room_data)).data,this.getConversationRoomCallback(e)}},computed:{authUser:function(){return this.$store.state.general.authUser},storeNamesMap:function(){return this.$store.state.cache.storeNamesMap},brandNamesMap:function(){return this.$store.state.cache.brandNamesMap},profileNamesMap:function(){return this.$store.state.cache.profileNamesMap}},methods:{getAllBrandsCallback:function(t){if(t.data.status){var e=t.data.data;e.push({br_id:"default",name:"default"}),this.$store.commit("cache/setBrandList",e)}console.log("getAllBrandsCallback",t)},checkRole:function(t){return!!this.userRoles&&this.userRoles.some(function(e){return e.name===t})},getConversationRoomCallback:function(t){if(console.log("getConversationRoomCallback",t),t.status){this.rooms=t.data.data;try{this.currentRoom.consumerUUID=this.rooms[0].consumerUUID,this.currentRoom.storeId=this.rooms[0].storeId,this.currentRoom.brandId=this.rooms[0].brandId}catch(t){}b.$emit("currentRoomChanged",this.currentRoom),console.log("this.rooms: ",this.rooms),this.rooms.length&&this.openChatRoom(this.rooms[0]),this.storeIdList=this.getStoreIdListForMap(this.rooms),this.brandIdList=this.getBrandIdListForMap(this.rooms),this.profileIdList=this.getProfileIdListForMap(this.rooms),this.getNamesMapForStoreBrandProfile(this.storeIdList,this.brandIdList,this.profileIdList)}},getStoreNameFromCache:function(t){var e=_.find(this.storeNamesMap,{st_id:t});return e?e.store_name:null},getBrandNameFromCache:function(t){var e=_.find(this.brandNamesMap,{br_id:t});return e?e.brand_name:null},getProfileNameFromCache:function(t){var e=_.find(this.profileNamesMap,{p_id:t});return e?e.profile_name:null},getStoreIdListForMap:function(t){for(var e=[],a=0;a<t.length;a++)console.log("rooms[i]",t[a]),_.find(this.storeNamesMap,{st_id:t[a].storeId})||e.push(t[a].storeId);return e},getBrandIdListForMap:function(t){for(var e=[],a=0;a<t.length;a++)_.find(this.brandNamesMap,{br_id:t[a].brandId})||e.push(t[a].brandId);return e},getProfileIdListForMap:function(t){for(var e=[],a=0;a<t.length;a++)_.find(this.profileNamesMap,{p_id:t[a].consumerUUID})||e.push(t[a].consumerUUID);return e},openChatRoom:function(t){console.log("openChatRoommmmmmmm: ",t),this.currentRoom.storeId=t.storeId,this.currentRoom.brandId=t.brandId,this.currentRoom.consumerUUID=t.consumerUUID,setTimeout(function(){b.$emit("currentRoomChanged",t)},0)},redirectToBack:function(){this.$router.go(-1)},getStoreNamesMap:function(t){return console.log("getStoreNamesMap() ",t),t.length?v.post("/v1/profile/get-store-names-map/",{app_id:this.authUser.app_id?this.authUser.app_id:this.app_id,storeIdList:t}):{data:{data:[]}}},getBrandNamesMap:function(t){return console.log("getBrandNamesMap() ",t),t.length?v.post("/v1/profile/get-brand-names-map/",{app_id:this.authUser.app_id?this.authUser.app_id:this.app_id,brandIdList:t}):{data:{data:[]}}},getProfileNamesMap:function(t){return console.log("getProfileNamesMap() ",t),t.length?v.post("/v1/profile/get-profile-names-map/",{app_id:this.authUser.app_id?this.authUser.app_id:this.app_id,profileIdList:t}):{data:{data:[]}}},getNamesMapForStoreBrandProfile:function(t,e,a){var s=this;console.log("getNamesMapForStoreBrandProfile",t,e,a),m.a.all([this.getStoreNamesMap(t),this.getBrandNamesMap(e),this.getProfileNamesMap(a)]).then(m.a.spread(function(t,e,a){console.log("getNamesMapForStoreBrandProfile Response",t,e,a);for(var i=0;i<t.data.data.length;i++)s.$store.commit("cache/updateStoreNamesMap",t.data.data[i]);for(i=0;i<e.data.data.length;i++)s.$store.commit("cache/updateBrandNamesMap",e.data.data[i]);for(i=0;i<a.data.data.length;i++)s.$store.commit("cache/updateProfileNamesMap",a.data.data[i])}))}}},ft={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"NotificationRoomList"},[a("TopBar"),t._v(" "),t.rooms.length?t._e():a("div",{staticStyle:{border:"1px solid #ddd","text-align":"center","font-size":"14px",width:"50%",margin:"0 auto","margin-top":"50px",padding:"20px"}},[t._v("No store is assigned")]),t._v(" "),a("div",{staticClass:"desktop-chat-layout"},[a("div",{staticClass:"chat-rooms-list"},t._l(t.rooms,function(e,s){return a("el-card",{key:s,staticClass:"box-card",class:{"current-room":t.currentRoom.storeId==e.storeId&&t.currentRoom.consumerUUID==e.consumerUUID&&t.currentRoom.brandId==e.brandId},staticStyle:{width:"100%","margin-bottom":"10px",cursor:"pointer"},nativeOn:{click:function(a){t.openChatRoom(e)}}},[a("div",{staticClass:"text item"},[a("div",{staticStyle:{"font-size":"0.8em",padding:"10px"}},[a("div",[a("b",[t._v("Consumer:")]),t._v("\n              "+t._s(t.getProfileNameFromCache(e.consumerUUID)?t.getProfileNameFromCache(e.consumerUUID):e.consumerUUID)+"\n            ")]),t._v(" "),a("div",[a("b",[t._v("Store:")]),t._v("\n              "+t._s(t.getStoreNameFromCache(e.storeId)?t.getStoreNameFromCache(e.storeId):e.storeId)+"\n            ")]),t._v(" "),a("div",[a("b",[t._v("Brand:")]),t._v("\n              "+t._s(t.getBrandNameFromCache(e.brandId)?t.getBrandNameFromCache(e.brandId):e.brandId)+"\n            ")]),t._v(" "),a("div",[t._v("\n              Awaiting response since "),a("b",[t._v(t._s(e.minutes)+" min")])])])])])})),t._v(" "),t.rooms.length?a("Chat",{staticStyle:{width:"65%"}}):t._e()],1)],1)},staticRenderFns:[]};var gt=a("VU/8")(vt,ft,!1,function(t){a("0/dX"),a("RHWt")},"data-v-4cbf6cbf",null).exports,ht={name:"MobileAdminRoomList",components:{TopBar:w,Chat:ct},props:["st_id","app_id"],data:function(){return{login_app_id:null,stores:[],rooms:[],storeIdList:[],brandIdList:[],profileIdList:[],currentRoom:{storeId:null,consumerUUID:null,brandId:null}}},mounted:function(){this.login_app_id=localStorage.getItem("app_id");var t="";if(console.log("this.authUser","CCA or SM"),this.checkRole(nt.access.CUSTOMER_CARE_ADMIN))console.log("this.authUser","CCA"),t="/customer-care-admin/get-conversation-rooms/",f.post(t,{app_id:this.login_app_id}).then(this.getConversationRoomCallback).catch(function(t){console.log(t)});else if(this.checkRole(nt.access.STORE_MANAGER))console.log("this.authUser","SM"),t="/store-manager/get-conversation-rooms/",f.post(t,{app_id:this.login_app_id}).then(this.getConversationRoomCallback).catch(function(t){console.log(t)});else if(this.checkRole(nt.access.BE_ADMIN)){console.log("this.authUser","BE_ADMIN"),console.log("st_id",this.st_id);var e=[];e.push(this.st_id),f.post("/get-conversation-rooms/",{stores:e}).then(this.getConversationRoomCallback).catch(function(t){console.log(t)})}},computed:{authUser:function(){return this.$store.state.general.authUser},storeNamesMap:function(){return this.$store.state.cache.storeNamesMap},brandNamesMap:function(){return this.$store.state.cache.brandNamesMap},profileNamesMap:function(){return this.$store.state.cache.profileNamesMap}},methods:{checkRole:function(t){return!!this.authUser.roles&&this.authUser.roles.some(function(e){return e.name===t})},getStoreCallback:function(t){this.stores=t.data.data;for(var e=[],a=0;a<this.stores.length;a++)e.push(this.stores[a].store.uuid);f.post("/get-conversation-rooms/",{stores:e}).then(this.getConversationRoomCallback).catch(function(t){console.log(t)})},getConversationRoomCallback:function(t){if(console.log("getConversationRoomCallback",t),t.status){this.rooms=t.data.data;try{this.currentRoom.consumerUUID=this.rooms[0].consumerUUID,this.currentRoom.storeId=this.rooms[0].storeId,this.currentRoom.brandId=this.rooms[0].brandId}catch(t){}b.$emit("currentRoomChanged",this.currentRoom),console.log("this.rooms: ",this.rooms),this.storeIdList=this.getStoreIdListForMap(this.rooms),this.brandIdList=this.getBrandIdListForMap(this.rooms),this.profileIdList=this.getProfileIdListForMap(this.rooms),this.getNamesMapForStoreBrandProfile(this.storeIdList,this.brandIdList,this.profileIdList)}},getStoreNameFromCache:function(t){var e=_.find(this.storeNamesMap,{st_id:t});return e?e.store_name:null},getBrandNameFromCache:function(t){var e=_.find(this.brandNamesMap,{br_id:t});return e?e.brand_name:null},getProfileNameFromCache:function(t){var e=_.find(this.profileNamesMap,{p_id:t});return e?e.profile_name:null},getStoreIdListForMap:function(t){for(var e=[],a=0;a<t.length;a++)console.log("rooms[i]",t[a]),_.find(this.storeNamesMap,{st_id:t[a].storeId})||e.push(t[a].storeId);return e},getBrandIdListForMap:function(t){for(var e=[],a=0;a<t.length;a++)_.find(this.brandNamesMap,{br_id:t[a].brandId})||e.push(t[a].brandId);return e},getProfileIdListForMap:function(t){for(var e=[],a=0;a<t.length;a++)_.find(this.profileNamesMap,{p_id:t[a].consumerUUID})||e.push(t[a].consumerUUID);return e},openChatRoom:function(t){console.log("openChatRoommmmmmmm: ",t),this.currentRoom.storeId=t.storeId,this.currentRoom.brandId=t.brandId,this.currentRoom.consumerUUID=t.consumerUUID;var e=c()(t.access),a=this.login_app_id?this.login_app_id:this.app_id;this.$router.push({path:"/mobile-chat/"+a+"/"+t.storeId+"/"+t.brandId+"/"+t.consumerUUID+"/"+e})},redirectToBack:function(){this.$router.go(-1)},getStoreNamesMap:function(t){return console.log("getStoreNamesMap() ",t),t.length?v.post("/v1/profile/get-store-names-map/",{app_id:this.login_app_id?this.login_app_id:this.app_id,storeIdList:t}):{data:{data:[]}}},getBrandNamesMap:function(t){return console.log("getBrandNamesMap() ",t),t.length?v.post("/v1/profile/get-brand-names-map/",{app_id:this.login_app_id?this.login_app_id:this.app_id,brandIdList:t}):{data:{data:[]}}},getProfileNamesMap:function(t){return console.log("getProfileNamesMap() ",t),t.length?v.post("/v1/profile/get-profile-names-map/",{app_id:this.login_app_id?this.login_app_id:this.app_id,profileIdList:t}):{data:{data:[]}}},getNamesMapForStoreBrandProfile:function(t,e,a){var s=this;console.log("getNamesMapForStoreBrandProfile",t,e,a),m.a.all([this.getStoreNamesMap(t),this.getBrandNamesMap(e),this.getProfileNamesMap(a)]).then(m.a.spread(function(t,e,a){console.log("getNamesMapForStoreBrandProfile Response",t,e,a);for(var i=0;i<t.data.data.length;i++)s.$store.commit("cache/updateStoreNamesMap",t.data.data[i]);for(i=0;i<e.data.data.length;i++)s.$store.commit("cache/updateBrandNamesMap",e.data.data[i]);for(i=0;i<a.data.data.length;i++)s.$store.commit("cache/updateProfileNamesMap",a.data.data[i])}))}}},yt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"MobileAdminRoomList"},[a("TopBar"),t._v(" "),t.rooms.length?t._e():a("div",{staticStyle:{border:"1px solid #ddd","text-align":"center","font-size":"14px",width:"50%",margin:"0 auto","margin-top":"50px",padding:"20px"}},[t._v("No store is assigned")]),t._v(" "),a("div",{staticClass:"desktop-chat-layout"},[a("div",{staticClass:"chat-rooms-list"},t._l(t.rooms,function(e,s){return a("el-card",{key:s,staticClass:"box-card",staticStyle:{width:"100%","margin-bottom":"10px",cursor:"pointer"},nativeOn:{click:function(a){t.openChatRoom(e)}}},[a("div",{staticClass:"text item"},[a("div",{staticStyle:{"font-size":"0.8em",padding:"10px"}},[a("div",[a("b",[t._v("Consumer:")]),t._v("\n              "+t._s(t.getProfileNameFromCache(e.consumerUUID)?t.getProfileNameFromCache(e.consumerUUID):e.consumerUUID)+"\n            ")]),t._v(" "),a("div",[a("b",[t._v("Store:")]),t._v("\n              "+t._s(t.getStoreNameFromCache(e.storeId)?t.getStoreNameFromCache(e.storeId):e.storeId)+"\n            ")]),t._v(" "),a("div",[a("b",[t._v("Brand:")]),t._v("\n              "+t._s(t.getBrandNameFromCache(e.brandId)?t.getBrandNameFromCache(e.brandId):e.brandId)+"\n            ")])])])])}))])],1)},staticRenderFns:[]};var xt=a("VU/8")(ht,yt,!1,function(t){a("dHxz")},"data-v-57f2e38f",null).exports,bt={name:"BusinessEntityCreate",components:{TopBar:w},data:function(){return{name:"",userCreds:[{username:"",password:""}],roles:[],relations:[],selectedRoles:[],selectedRelations:[]}},created:function(){v.post("/v1/get-platform-roles/").then(this.getRolesCallBack).catch(function(t){console.log(t)}),v.post("/v1/platform-relation-config/").then(this.getRelationsCallBack).catch(function(t){console.log(t)})},mounted:function(){},methods:{getRolesCallBack:function(t){t.data.status&&(this.roles=t.data.data)},getRelationsCallBack:function(t){t.data.status&&(this.relations=t.data.data)},addAdminCreds:function(){this.userCreds.push({username:"",password:""})},removeAdmin:function(t){this.userCreds.splice(t,1)},save:function(){if(this.name)if(this.userCreds[0].username&&this.userCreds[0].password)if(this.selectedRoles.length<=0)alert("Please select atleast one role");else{var t={be_properties:{name:this.name},admin:this.userCreds,roles:this.selectedRoles,relations:this.selectedRelations};v.post("/v1/business-entity/create/",t).then(this.postSaveCallBack).catch(function(t){console.log(t)})}else alert("Login Credentails are compulsory. Please add in first row.");else alert("Please fill Business Entity name")},postSaveCallBack:function(t){console.log("Response: ",t),t.data.status&&(new u.a({title:"Success",description:"BE created successfully.",className:"notices",type:"success",duration:3}),this.$router.push({path:"/business-entity-list"}))}}},At={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"BusinessEntityCreate text-center"},[a("TopBar"),t._v(" "),a("el-row",{staticStyle:{"max-width":"80vw",margin:"0 auto"}},[a("el-col",{staticClass:"box-card",staticStyle:{"margin-bottom":"20px"}},[a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"60vw",margin:"0 auto"}},[a("div",{staticClass:"text item"},[a("el-row",{staticClass:"vertical-center",staticStyle:{"text-align":"center"}},[a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[t._v("\n              Business Entity name:\n            ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:18,md:18,lg:18,xl:18}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticStyle:{width:"80%"},attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])],1)],1)]),t._v(" "),a("el-row",{staticClass:"vertical-center",staticStyle:{"text-align":"center","align-items":"start"},attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"60vw",margin:"20px auto"}},[a("div",{staticClass:"clearfix",staticStyle:{display:"flex"},attrs:{slot:"header"},slot:"header"},[a("div",{staticStyle:{margin:"auto"}},[t._v("Login Credentails For Business Entity Admin: ")]),t._v(" "),a("div",[a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(e){t.addAdminCreds()}}},[t._v("Add Admin")])],1)]),t._v(" "),a("div",{staticClass:"text item"},t._l(t.userCreds,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center margin-bottom-10",staticStyle:{"text-align":"center"}},[a("el-col",{attrs:{xs:24,sm:5,md:5,lg:5,xl:5}},[t._v("\n                  Username:\n                ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"user.username"}],staticStyle:{width:"100%"},attrs:{type:"text"},domProps:{value:e.username},on:{input:function(a){a.target.composing||t.$set(e,"username",a.target.value)}}})]),t._v(" "),a("el-col",{attrs:{xs:24,sm:5,md:5,lg:5,xl:5}},[t._v("\n                  Password:\n                ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"user.password"}],staticStyle:{width:"100%"},attrs:{type:"password"},domProps:{value:e.password},on:{input:function(a){a.target.composing||t.$set(e,"password",a.target.value)}}})]),t._v(" "),0!=s?a("el-col",{attrs:{xs:24,sm:2,md:2,lg:2,xl:2}},[a("div",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.removeAdmin(s)}}},[t._v("✕")])]):t._e()],1)}))])],1)],1),t._v(" "),a("el-row",{staticClass:"vertical-center",staticStyle:{"text-align":"center","align-items":"start"},attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"60vw",margin:"20px auto"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("Select Roles for Business Entity: ")])]),t._v(" "),a("div",{staticClass:"text item"},t._l(t.roles,function(e,s){return"Platform Admin"!=e.name?a("el-row",{key:s,staticClass:"vertical-center",attrs:{gutter:10}},[a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:2,md:2,lg:2,xl:2}},[a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedRoles,expression:"selectedRoles"}],attrs:{name:"roles",type:"checkbox"},domProps:{value:e.name,checked:Array.isArray(t.selectedRoles)?t._i(t.selectedRoles,e.name)>-1:t.selectedRoles},on:{change:function(a){var s=t.selectedRoles,i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=e.name,r=t._i(s,n);i.checked?r<0&&(t.selectedRoles=s.concat([n])):r>-1&&(t.selectedRoles=s.slice(0,r).concat(s.slice(r+1)))}else t.selectedRoles=o}}})])]),t._v(" "),a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n                  "+t._s(e.name)+"\n                ")]),t._v(" "),a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:14,md:14,lg:14,xl:14}},[t._v("\n                  "+t._s(e.r_id)+"\n                ")])],1):t._e()}))])],1)],1),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"60vw",margin:"20px auto"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("Select Relations for Business Entity: ")])]),t._v(" "),a("div",{staticClass:"text item"},t._l(t.relations,function(e,s){return"platform"!=e.relation.node1_type?a("el-row",{key:s,staticClass:"vertical-center",attrs:{gutter:10}},[a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:2,md:2,lg:2,xl:2}},[a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedRelations,expression:"selectedRelations"}],attrs:{name:"relations",type:"checkbox"},domProps:{value:e,checked:Array.isArray(t.selectedRelations)?t._i(t.selectedRelations,e)>-1:t.selectedRelations},on:{change:function(a){var s=t.selectedRelations,i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=e,r=t._i(s,n);i.checked?r<0&&(t.selectedRelations=s.concat([n])):r>-1&&(t.selectedRelations=s.slice(0,r).concat(s.slice(r+1)))}else t.selectedRelations=o}}})])]),t._v(" "),a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[t._v("\n              "+t._s(e.relation.node1_arg_value)+" : "+t._s(e.relation.node1_type)+"\n            ")]),t._v(" "),a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:10,md:10,lg:10,xl:10}},[t._v("\n              -- [: "+t._s(e.relation.relation)+" { "),t._l(e.parameters,function(e){return a("span",{key:e.key},[t._v(t._s(e.display_name))])}),t._v(" } ] --\x3e\n            ")],2),t._v(" "),a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[t._v("\n              "+t._s(e.relation.node2_arg_value)+" : "+t._s(e.relation.node2_type)+"\n            ")])],1):t._e()}))]),t._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.save()}}},[t._v("Create Business Entity")])],1)],1)],1)},staticRenderFns:[]},Ct=a("VU/8")(bt,At,!1,null,null,null).exports,wt={name:"BusinessEntityCreate",components:{TopBar:w},props:["id"],data:function(){return{name:"",userCreds:[],roles:[],username:"",password:"",assigned_roles:[],selectedRoles:[],confirmationDialogVisible:!1,tempIndexForRoleRemoval:"",new_password:[],relations:[],selectedRelations:[]}},created:function(){v.post("/v1/business-entity/get/",{b_id:this.id}).then(this.getBECallBack).catch(function(t){console.log(t)}),v.post("/v1/get-platform-roles/").then(this.getRolesCallBack).catch(function(t){console.log(t)}),v.post("/v1/platform-relation-config/").then(this.getRelationsCallBack).catch(function(t){console.log(t)})},methods:{getBECallBack:function(t){if(t.data.status){this.name=t.data.data[0].name,this.assigned_roles=t.data.data[0].roles,this.userCreds=t.data.data[0].userCreds;for(var e=0;e<t.data.data[0].roles.length;e++)this.selectedRoles.push(t.data.data[0].roles[e].name);v.post("/v1/business-entity/get/relation-config/",{b_id:this.id}).then(this.getRelationConfigCallBack).catch(function(t){console.log(t)})}},getRelationConfigCallBack:function(t){if(t.data.status){for(var e=t.data.data,a=0;a<e.length;a++)e[a].relation.migration_id=e[a].relation.migration_id.split("__").length>1?e[a].relation.migration_id.split("__")[1]:e[a].relation.migration_id,null==e[a].parameters&&(e[a].parameters=[]);this.selectedRelations=e}},getRolesCallBack:function(t){t.data.status&&(this.roles=t.data.data)},getRelationsCallBack:function(t){t.data.status&&(this.relations=t.data.data)},addAdminCreds:function(t,e){if(this.username&&this.password){var a={b_id:this.id,properties:{username:this.username,password:this.password}};v.post("/v1/business-entity/create/admin/",a).then(this.postSaveCallBack).catch(function(t){console.log(t)})}else alert("Please fill required fields")},removeAdmin:function(t){if(this.userCreds.length>1){var e={b_id:this.id,p_id:this.userCreds[t].uuid};v.post("/v1/business-entity/delete/admin/",e).then(this.postSaveCallBack).catch(function(t){console.log(t)})}else alert("Atleast one Admin is required")},changeAdminPassword:function(t){v.post("/v1/business-entity/update/admin-password/",{b_id:this.id,p_id:this.userCreds[t].uuid,password:this.new_password[t]}).then(this.postSaveCallBack).catch(function(t){console.log(t)})},openConfirmationDialog:function(t){this.confirmationDialogVisible=!0,this.tempIndexForRoleRemoval=t},AddRole:function(t){v.post("/v1/business-entity/create/role/",{n_id:this.id,properties:{name:this.roles[t].name}}).then(this.postSaveCallBack).catch(function(t){console.log(t)})},removeRole:function(){for(var t=null,e=0;e<this.assigned_roles.length;e++)this.roles[this.tempIndexForRoleRemoval].name==this.assigned_roles[e].name&&(t=this.assigned_roles[e].uuid);t?v.post("/v1/business-entity/delete/role/",{n_id:this.id,r_id:t}).then(this.postSaveCallBack).catch(function(t){console.log(t)}):alert("Error occured while Removing Role!")},save:function(){if(this.name){var t={b_id:this.id,properties:{name:this.name}};v.post("/v1/business-entity/update/",t).then(this.postSaveCallBack).catch(function(t){console.log(t)})}else alert("Please fill Business Entity name")},saveRelations:function(){for(var t=0;t<this.selectedRelations.length;t++)this.selectedRelations[t].parameters.length<=0&&null==this.selectedRelations[t].relation&&this.selectedRelations.splice(t,1);var e={b_id:this.id,relations:this.selectedRelations};v.post("/v1/business-entity/update/relation-config/",e).then(this.postSaveCallBack).catch(function(t){console.log(t)})},postSaveCallBack:function(t){t.data.status&&(new u.a({title:"Success",description:"Business Entity updated successfully.",className:"notices",type:"success",duration:3}),window.location.reload())}}},St={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"BusinessEntityCreate"},[a("TopBar"),t._v(" "),a("div",{staticStyle:{padding:"0 20px","max-width":"70vw",margin:"0 auto"}},[a("el-card",{staticClass:"box-card",staticStyle:{margin:"0 auto"}},[a("div",{staticClass:"text item"},[a("el-row",{staticClass:"vertical-center",staticStyle:{"text-align":"center"}},[a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[t._v("\n            Business Entity name:\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:14,md:14,lg:14,xl:14}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticStyle:{width:"80%",padding:"10px 15px"},attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.save()}}},[t._v("Save")])],1)],1)],1)]),t._v(" "),a("el-row",{staticClass:"vertical-center",staticStyle:{"align-items":"start"},attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-card",{staticClass:"box-card",staticStyle:{margin:"20px auto"}},[a("div",{staticClass:"clearfix",staticStyle:{display:"flex"},attrs:{slot:"header"},slot:"header"},[a("div",{staticStyle:{margin:"auto"}},[t._v("Business Entity Admin: ")])]),t._v(" "),a("div",{staticClass:"text item"},[a("el-row",{staticClass:"hr-line",attrs:{gutter:15}},[a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticStyle:{width:"100%",padding:"10px 15px"},attrs:{type:"text",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),a("el-col",{attrs:{xs:24,sm:9,md:9,lg:9,xl:9}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticStyle:{width:"100%",padding:"10px 15px"},attrs:{type:"text",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),a("el-col",{attrs:{xs:24,sm:9,md:9,lg:9,xl:9}},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.addAdminCreds()}}},[t._v("Add Admin")])],1)],1),t._v(" "),t._l(t.userCreds,function(e,s){return a("el-row",{key:e.uuid+s,staticClass:"vertical-center margin-bottom-10 margin-top-20",attrs:{gutter:15}},[a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[t._v("\n                "+t._s(e.username)+"\n              ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:9,md:9,lg:9,xl:9}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.new_password[s],expression:"new_password[index]"}],staticStyle:{padding:"10px 15px"},attrs:{type:"text",placeholder:"New Password"},domProps:{value:t.new_password[s]},on:{input:function(e){e.target.composing||t.$set(t.new_password,s,e.target.value)}}})]),t._v(" "),a("el-col",{attrs:{xs:24,sm:9,md:9,lg:9,xl:9}},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.changeAdminPassword(s)}}},[t._v("Change Password")]),t._v(" "),a("el-button",{staticStyle:{display:"inline-block"},attrs:{type:"danger",icon:"el-icon-delete",circle:""},nativeOn:{click:function(e){t.removeAdmin(s)}}})],1)],1)})],2)])],1)],1),t._v(" "),a("el-row",{staticStyle:{"align-items":"start"},attrs:{lass:"vertical-center",gutter:20}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-card",{staticClass:"box-card",staticStyle:{margin:"20px auto"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("Roles")])]),t._v(" "),a("div",{staticClass:"text item"},[a("el-row",[a("el-col",{staticClass:"text-center",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},t._l(t.roles,function(e,s){return"Platform Admin"!=e.name?a("el-row",{key:e.r_id+s,staticClass:"vertical-center margin-bottom-10",attrs:{gutter:10}},[a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:20,md:20,lg:20,xl:20}},[t._v("\n                    "+t._s(e.name)+"\n                  ")]),t._v(" "),a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[-1!=t.selectedRoles.indexOf(e.name)?a("el-button",{staticStyle:{display:"inline-block"},attrs:{type:"danger",icon:"el-icon-delete",circle:""},nativeOn:{click:function(e){t.openConfirmationDialog(s)}}}):a("el-button",{attrs:{type:"success",icon:"el-icon-plus",circle:""},nativeOn:{click:function(e){t.AddRole(s)}}})],1)],1):t._e()}))],1)],1)])],1)],1),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"20px auto"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("Select Relations for Business Entity: ")])]),t._v(" "),a("div",{staticClass:"text item text-center"},[t._l(t.relations,function(e,s){return"platform"!=e.relation.node1_type?a("el-row",{key:s,staticClass:"vertical-center",attrs:{gutter:10}},[a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:2,md:2,lg:2,xl:2}},[a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedRelations,expression:"selectedRelations"}],attrs:{name:"relations",type:"checkbox"},domProps:{value:e,checked:Array.isArray(t.selectedRelations)?t._i(t.selectedRelations,e)>-1:t.selectedRelations},on:{change:function(a){var s=t.selectedRelations,i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=e,r=t._i(s,n);i.checked?r<0&&(t.selectedRelations=s.concat([n])):r>-1&&(t.selectedRelations=s.slice(0,r).concat(s.slice(r+1)))}else t.selectedRelations=o}}})])]),t._v(" "),a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[t._v("\n          "+t._s(e.relation.node1_arg_value)+" : "+t._s(e.relation.node1_type)+"\n        ")]),t._v(" "),a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:10,md:10,lg:10,xl:10}},[t._v("\n           -- [: "+t._s(e.relation.relation)+" { "),t._l(e.parameters,function(e){return a("span",{key:e.key},[t._v(t._s(e.display_name))])}),t._v(" } ] --\x3e\n        ")],2),t._v(" "),a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[t._v("\n          "+t._s(e.relation.node2_arg_value)+" : "+t._s(e.relation.node2_type)+"\n        ")])],1):t._e()}),t._v(" "),a("br"),t._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.saveRelations()}}},[t._v("Save")])],2)])],1),t._v(" "),a("el-dialog",{attrs:{title:"WARNING",visible:t.confirmationDialogVisible,width:"50%",center:""},on:{"update:visible":function(e){t.confirmationDialogVisible=e}}},[a("span",[t._v("All the Relations under this Entity containing this Role will be deleted. Are you sure?")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.confirmationDialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.removeRole(t.index)}}},[t._v("Confirm")])],1)])],1)},staticRenderFns:[]},kt=a("VU/8")(wt,St,!1,null,null,null).exports,Nt={name:"BusinessEntityList",components:{TopBar:w},data:function(){return{business_entities:[]}},created:function(){v.post("/v1/business-entity/").then(this.getBusinessEntityCallback).catch(function(t){console.log(t)})},methods:{getBusinessEntityCallback:function(t){this.business_entities=t.data.data},edit:function(t){var e=this.business_entities[t].b_id;this.$router.push({path:"/business-entity-edit/"+e})},remove:function(t){v.post("/v1/business-entity/delete/",{b_id:this.business_entities[t].b_id}).then(this.postRemoveCallback).catch(function(t){console.log(t)})},postRemoveCallback:function(t){t.data.status&&(new u.a({title:"Success",description:"Business Entity deleted successfully.",className:"notices",type:"success",duration:3}),v.post("/v1/business-entity/").then(this.getBusinessEntityCallback).catch(function(t){console.log(t)}))}}},Mt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"BusinessEntityList"},[a("TopBar"),t._v(" "),t._l(t.business_entities,function(e,s){return a("div",{key:s},[a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"clearfix",staticStyle:{display:"flex"},attrs:{slot:"header"},slot:"header"},[a("h2",{staticStyle:{"font-weight":"bold",margin:"auto"}},[t._v(t._s(e.name))]),t._v(" "),a("div")]),t._v(" "),a("el-row",[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h3",[t._v(" Admin ")])])],1),t._v(" "),t._l(e.userCreds,function(e,s){return a("el-row",{key:s},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",[t._v(" "+t._s(e.username)+" ")])])],1)})],2),t._v(" "),a("el-col",{attrs:{xs:24,sm:10,md:10,lg:10,xl:10}},[a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h3",[t._v(" Roles ")])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},t._l(e.roles,function(s,i){return a("span",{key:i},[t._v(" "+t._s(s.name)),i!=e.roles.length-1?a("span",[t._v(",")]):t._e()])}))],1)],1),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h3",[t._v(" ")])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(e){t.edit(s)}}},[t._v("Edit")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(e){t.remove(s)}}},[t._v("Delete")])],1)],1)],1)],1)],1)],1)})],2)},staticRenderFns:[]},It=a("VU/8")(Nt,Mt,!1,null,null,null).exports,Et={name:"AppCreate",components:{TopBar:w},props:["id"],data:function(){return{name:"",update_client_api_id:!1}},validations:{name:{required:z.required}},created:function(){this.id&&v.post("/v1/app/get/",{app_id:this.id}).then(this.getAppCallBack).catch(function(t){console.log(t)})},methods:{setName:function(t){this.name=t,this.$v.name.$touch()},getAppCallBack:function(t){this.name=t.data.data[0].name},save:function(){this.$v.$touch(),this.$v.$invalid||(this.id?v.post("/v1/app/update/",{app_id:this.id,properties:{name:this.name,update_client_api_id:this.update_client_api_id}}).then(this.postSaveCallBack).catch(function(t){console.log(t)}):v.post("/v1/app/create/",{properties:{name:this.name}}).then(this.postSaveCallBack).catch(function(t){console.log(t)}))},postSaveCallBack:function(t){console.log("Response: ",t),t.data.status&&new u.a({title:"Success",description:"App created successfully.",className:"notices",type:"success",duration:3}),this.$router.push({path:"/dashboard"})}}},Dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AppCreate"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"50vw",margin:"0 auto"}},[a("div",{staticClass:"text item"},[a("el-row",{staticClass:"vertical-center",staticStyle:{"text-align":"center"}},[a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n          App name:\n        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:14,md:7,lg:7,xl:7}},[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.name.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form__input",staticStyle:{width:"80%"},attrs:{type:"text"},domProps:{value:t.name},on:{input:[function(e){e.target.composing||(t.name=e.target.value)},function(e){t.setName(e.target.value)}]}})]),t._v(" "),t.$v.name.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:7,md:7,lg:7,xl:7}},[t.id?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.update_client_api_id,expression:"update_client_api_id"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.update_client_api_id)?t._i(t.update_client_api_id,null)>-1:t.update_client_api_id},on:{change:function(e){var a=t.update_client_api_id,s=e.target,i=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&(t.update_client_api_id=a.concat([null])):o>-1&&(t.update_client_api_id=a.slice(0,o).concat(a.slice(o+1)))}else t.update_client_api_id=i}}}),t._v(" Update Client API ID\n          ")]):t._e()]),t._v(" "),a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.save()}}},[t._v("Create App")])],1)],1)],1)])],1)},staticRenderFns:[]},Tt=a("VU/8")(Et,Dt,!1,null,null,null).exports,Lt={name:"AppList",components:{TopBar:w},data:function(){return{apps:[],deleteAppDialogVisible:!1,selectedIndexForDelete:null}},created:function(){v.post("/v1/app/").then(this.getAppCallback).catch(function(t){console.log(t)})},methods:{getAppCallback:function(t){t.data.status&&(this.apps=t.data.data)},edit:function(t){var e=this.apps[t].app_id;this.$router.push({path:"/app-create/"+e})},remove:function(t){v.post("/v1/app/delete/",{app_id:this.apps[t].app_id}).then(this.postRemoveCallback).catch(function(t){console.log(t)})},postRemoveCallback:function(t){t.data.status&&(this.deleteAppDialogVisible=!1,selectedIndexForDelete=null,new u.a({title:"Success",description:"App deleted successfully.",className:"notices",type:"success",duration:3}),v.post("/v1/app/").then(this.getAppCallback).catch(function(t){console.log(t)}))}}},Rt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AppList"},[a("TopBar"),t._v(" "),a("div",[a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("h3",{staticStyle:{margin:"auto"}},[t._v(" Apps ")])]),t._v(" "),a("div",{staticClass:"text item"},t._l(t.apps,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center text-center margin-bottom-10"},[a("el-col",{attrs:{xs:24,sm:3,md:3,lg:3,xl:3}},[t._v("\n            App Name "),a("br"),t._v("\n            "+t._s(e.name)+"\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n            App ID "),a("br"),t._v("\n            "+t._s(e.app_id)+"\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n            Client API ID "),a("br"),t._v("\n            "+t._s(e.client_api_id?e.client_api_id:"--")+"\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:5,md:5,lg:5,xl:5}},[a("span",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.edit(s)}}},[t._v("Edit")])],1),t._v(" "),a("span",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.deleteAppDialogVisible=!0,t.selectedIndexForDelete=s}}},[t._v("Delete")])],1)])],1)}))]),t._v(" "),a("el-dialog",{attrs:{title:"Delete App",visible:t.deleteAppDialogVisible},on:{"update:visible":function(e){t.deleteAppDialogVisible=e}}},[a("h3",{staticStyle:{color:"tomato"}},[t._v("Are you sure? This action can not be reversed.")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.deleteAppDialogVisible=!1,t.selectedIndexForDelete=null}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.remove(t.selectedIndexForDelete)}}},[t._v("Confirm")])],1)])],1)],1)},staticRenderFns:[]},Ot=a("VU/8")(Lt,Rt,!1,null,null,null).exports,Ut={name:"ProfileConfig",components:{TopBar:w},props:["app_id"],data:function(){return{anonymous_user_value_error:!1,original_attribute_key_to_edit:null,key:"",display_name:"",value_type:"",privacy_level:0,required:!1,anonymous_user_value:"",profile_attributes:[],isEdit:!1,select_dropdown:[{value:"text",text:"String"},{value:"text_area",text:"Text-area"},{value:"checkbox",text:"Boolean"},{value:"number",text:"Number"},{value:"tel",text:"Mobile Number"},{value:"float",text:"Float"},{value:"date",text:"Date Field"},{value:"time",text:"Time Field"},{value:"password",text:"Password"},{value:"geo_point",text:"Location (lat, lng)"}]}},watch:{anonymous_user_value:function(t,e){t&&e||!this.required?this.anonymous_user_value_error=!1:this.anonymous_user_value_error=!0}},validations:{key:{required:z.required},display_name:{required:z.required},value_type:{required:z.required},privacy_level:{required:z.required},anonymous_user_value:{}},created:function(){v.post("/v1/profile-config/",{app_id:this.app_id}).then(this.getAppCallback).catch(function(t){console.log(t)})},methods:{saveChangedOrderOfProfileAttributes:function(){v.post("/v1/save-order-of-profile-config/",{app_id:this.app_id,profile_attributes:this.profile_attributes}).then(function(t){t.data?console.log("response: ",t):console.log("error")}).catch(function(t){console.log(t)})},setUp:function(t,e){console.log(e>0,e),e>0&&(this.profile_attributes.splice(e,1),this.profile_attributes.splice(e-1,0,t),console.log("setUp",this.profile_attributes))},setDown:function(t,e){console.log(e<this.profile_attributes.length-1,e),e<this.profile_attributes.length-1&&(this.profile_attributes.splice(e,1),this.profile_attributes.splice(e+1,0,t),console.log("setDown",this.profile_attributes))},setDefault_value:function(t){this.anonymous_user_value=t,this.$v.key.$touch()},setKey:function(t){this.key=t,this.$v.key.$touch()},setDisplay_name:function(t){this.display_name=t,this.$v.display_name.$touch()},setValue_type:function(t){this.value_type=t,this.$v.value_type.$touch(),console.log("this.value_type",this.value_type),"text"==this.value_type||"text_area"==this.value_type||"checkbox"==this.value_type||"geo_point"==this.value_type?document.getElementById("inputType").type="text":"number"==this.value_type||"float"==this.value_type?document.getElementById("inputType").type="number":"tel"==this.value_type?document.getElementById("inputType").type="tel":"date"==this.value_type?document.getElementById("inputType").type="date":"time"==this.value_type?document.getElementById("inputType").type="time":"password"==this.value_type?document.getElementById("inputType").type="password":document.getElementById("inputType").type="text"},setPrivacy_level:function(t){this.privacy_level=t,this.$v.privacy_level.$touch()},getAppCallback:function(t){t.data.status&&(this.profile_attributes=t.data.data[0].profile_attributes)},updateAttributeList:function(t){},createSystemConfigs:function(){var t=this;console.log("createSystemConfigs..."),v.post("/v1/profile-config/create-system-configs/",{app_id:this.app_id}).then(function(e){console.log("response: ",e),e.data&&e.data.status&&(console.log("success"),new u.a({title:"Success",description:"Created successfully.",className:"notices",type:"success",duration:3}),v.post("/v1/profile-config/",{app_id:t.app_id}).then(t.getAppCallback).catch(function(t){console.log(t)}))}).catch(function(t){console.log(t)})},save:function(){this.$v.$touch(),console.log("this.$v.$invalid)",this.$v.$invalid),this.$v.$invalid||(this.required&&""==this.anonymous_user_value?(this.$v.$touch(),this.anonymous_user_value_error=!0):this.isEdit?v.post("/v1/profile-config/update/",{app_id:this.app_id,properties:{original_attribute_key_to_edit:this.original_attribute_key_to_edit,key:this.key,display_name:this.display_name,value_type:this.value_type,privacy_level:String(this.privacy_level),required:this.required,anonymous_user_value:this.anonymous_user_value}}).then(this.postSaveCallBack).catch(function(t){console.log(t)}):v.post("/v1/profile-config/create/",{app_id:this.app_id,properties:{original_attribute_key_to_edit:this.key,key:this.key,display_name:this.display_name,value_type:this.value_type,privacy_level:this.privacy_level,required:this.required,anonymous_user_value:this.anonymous_user_value}}).then(this.postSaveCallBack).catch(function(t){console.log(t)}))},postSaveCallBack:function(t){t.data.status&&(this.profile_attributes=t.data.data,this.isEdit=!1,this.key="",this.display_name="",this.anonymous_user_value="",this.value_type="",this.privacy_level="",this.required=!1,this.original_attribute_key_to_edit=null,v.post("/v1/profile-config/",{app_id:this.app_id}).then(this.getAppCallback).catch(function(t){console.log(t)}))},edit:function(t){this.original_attribute_key_to_edit=this.profile_attributes[t].key,this.isEdit=!0,this.key=this.profile_attributes[t].key,this.display_name=this.profile_attributes[t].display_name,this.value_type=this.profile_attributes[t].value_type,this.privacy_level=this.profile_attributes[t].privacy_level,this.required=this.profile_attributes[t].required,this.anonymous_user_value=this.profile_attributes[t].anonymous_user_value},clearEdit:function(){this.original_attribute_key_to_edit=null,this.isEdit=!1,this.key="",this.display_name="",this.value_type="",this.privacy_level="",this.required=!1,this.anonymous_user_value=""},remove:function(t){v.post("/v1/profile-config/delete/",{app_id:this.app_id,key:this.profile_attributes[t].key}).then(this.postSaveCallBack).catch(function(t){console.log(t)})}}},Ft={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ProfileConfig"},[a("TopBar"),t._v(" "),t.app_id?a("el-row",{staticStyle:{padding:"0px 10px"},attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:6,lg:6,xl:6}},[a("el-card",{staticClass:"box-card"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("h3",{staticStyle:{margin:"0px"}},[t._v("New Profile Attribute")])]),t._v(" "),a("div",{staticClass:"text item"},[a("p",{staticClass:"form-label"},[t._v("Key "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("div",[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.key.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.key,expression:"key"}],staticClass:"form__input",attrs:{type:"text"},domProps:{value:t.key},on:{input:[function(e){e.target.composing||(t.key=e.target.value)},function(e){t.setKey(e.target.value)}]}})]),t._v(" "),t.$v.key.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")])]),t._v(" "),a("p",{staticClass:"form-label"},[t._v("Display Name "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("div",[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.display_name.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.display_name,expression:"display_name"}],staticClass:"form__input",attrs:{type:"text"},domProps:{value:t.display_name},on:{input:[function(e){e.target.composing||(t.display_name=e.target.value)},function(e){t.setDisplay_name(e.target.value)}]}})]),t._v(" "),t.$v.display_name.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")])]),t._v(" "),a("p",{staticClass:"form-label"},[t._v("Value Type "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.value_type.$error}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.value_type,expression:"value_type"}],staticClass:"form__input",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.value_type=e.target.multiple?a:a[0]},function(e){t.setValue_type(e.target.value)}]}},[a("option",{attrs:{value:""}},[t._v("Select")]),t._v(" "),t._l(t.select_dropdown,function(e,s){return a("option",{key:s,domProps:{value:e.value}},[t._v(" "+t._s(e.text)+" ")])})],2)]),t._v(" "),t.$v.value_type.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")]),t._v(" "),a("p",{staticClass:"form-label"},[t._v("Privacy Level "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.privacy_level.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.privacy_level,expression:"privacy_level"}],staticClass:"form__input",attrs:{type:"number"},domProps:{value:t.privacy_level},on:{input:[function(e){e.target.composing||(t.privacy_level=e.target.value)},function(e){t.setPrivacy_level(e.target.value)}]}})]),t._v(" "),t.$v.privacy_level.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")]),t._v(" "),a("div",[a("p",{staticClass:"form-label"},[t._v("Anonymous User Value "),t.required?a("span",{staticStyle:{color:"red"}},[t._v("*")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group",class:{"form-group--error":t.anonymous_user_value_error},on:{input:function(e){t.setDefault_value(e.target.value)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.anonymous_user_value,expression:"anonymous_user_value"}],staticClass:"form__input",attrs:{id:"inputType"},domProps:{value:t.anonymous_user_value},on:{input:function(e){e.target.composing||(t.anonymous_user_value=e.target.value)}}})]),t._v(" "),t.anonymous_user_value_error?a("div",{staticClass:"error"},[t._v("Field is required")]):t._e()]),t._v(" "),a("p",{staticClass:"form-label"},[t._v("Required?")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.required,expression:"required"}],attrs:{name:"isRequired",type:"radio"},domProps:{value:!0,checked:t._q(t.required,!0)},on:{change:function(e){t.required=!0}}}),t._v(" Yes\n                    "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.required,expression:"required"}],attrs:{name:"isRequired",type:"radio"},domProps:{value:!1,checked:t._q(t.required,!1)},on:{change:function(e){t.required=!1}}}),t._v(" No\n                    "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-button",{attrs:{size:"mini",type:"primary"},nativeOn:{click:function(e){t.save()}}},[t._v("Create Attributes")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},nativeOn:{click:function(e){t.clearEdit()}}},[t._v("Clear")])],1)])])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:18,lg:18,xl:18}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("h3",{staticStyle:{margin:"0px",display:"flex"}},[a("span",{staticStyle:{"flex-grow":"1"}},[t._v("Profile Attributes")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:t.createSystemConfigs}},[t._v("Create System Configs")])],1)]),t._v(" "),a("div",{staticClass:"text item"},[a("el-row",{staticClass:"vertical-center margin-bottom-10",staticStyle:{"border-bottom":"1px solid #EEE",padding:"5px 10px"}},[a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n                         Name\n                        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n                         Key\n                        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n                         Privacy Level\n                        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n                         Type\n                        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n                         Is Required\n                        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n                         Action\n                        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n                         Order\n                        ")])],1),t._v(" "),t._l(t.profile_attributes,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center",staticStyle:{padding:"10px 10px"},style:{"background-color":s%2==0?"white":"#F1F1F1"}},[a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n                            "+t._s(e.display_name)+"\n                        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n                            "+t._s(e.key)+"\n                        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n                            "+t._s(e.privacy_level)+"\n                        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n                            "+t._s(e.value_type)+"\n                        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n                            "+t._s(e.required)+"\n                        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[e.is_system_config?t._e():a("span",{staticStyle:{"font-weight":"bold",cursor:"pointer","font-size":"0.8em"},on:{click:function(e){t.edit(s)}}},[t._v("Edit")]),t._v(" "),e.is_system_config?t._e():a("span",[t._v(" | ")]),t._v(" "),e.is_system_config?t._e():a("span",{staticStyle:{"font-weight":"bold",cursor:"pointer","font-size":"0.8em"},on:{click:function(e){t.remove(s)}}},[t._v("Delete")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[a("button",{on:{click:function(a){t.setUp(e,s)}}},[t._v("Up")]),t._v(" "),a("button",{on:{click:function(a){t.setDown(e,s)}}},[t._v("Down")])])],1)})],2),t._v(" "),a("div",{staticStyle:{margin:"10px 0","text-align":"right"}},[a("button",{staticClass:"el-button el-button--primary el-button--mini",on:{click:t.saveChangedOrderOfProfileAttributes}},[t._v("Save order")])])])],1)],1):t._e()],1)},staticRenderFns:[]};var Bt=a("VU/8")(Ut,Ft,!1,function(t){a("Fa9k")},"data-v-e4a8776a",null).exports,Pt={name:"StoreConfig",components:{TopBar:w},props:["app_id"],data:function(){return{original_attribute_key_to_edit:null,key:"",display_name:"",value_type:"",privacy_level:"0",required:!1,store_attributes:[],isEdit:!1,select_dropdown:[{value:"text",text:"String"},{value:"text_area",text:"Text-area"},{value:"checkbox",text:"Boolean"},{value:"number",text:"Number"},{value:"tel",text:"Mobile Number"},{value:"float",text:"Float"},{value:"date",text:"Date Field"},{value:"time",text:"Time Field"},{value:"password",text:"Password"},{value:"geo_point",text:"Location (lat, lng)"}]}},validations:{key:{required:z.required},display_name:{required:z.required},value_type:{required:z.required},privacy_level:{required:z.required}},created:function(){v.post("/v1/store-config/",{app_id:this.app_id}).then(this.getAppCallback).catch(function(t){console.log(t)})},methods:{setKey:function(t){this.key=t,this.$v.key.$touch()},setDisplay_name:function(t){this.display_name=t,this.$v.display_name.$touch()},setValue_type:function(t){this.value_type=t,this.$v.value_type.$touch()},setPrivacy_level:function(t){this.privacy_level=t,this.$v.privacy_level.$touch()},getAppCallback:function(t){t.data.status&&(this.store_attributes=t.data.data[0].store_attributes)},updateAttributeList:function(t){},createSystemConfigs:function(){var t=this;console.log("createSystemConfigs..."),v.post("/v1/store-config/create-system-configs/",{app_id:this.app_id}).then(function(e){console.log("response: ",e),e.data&&e.data.status&&(console.log("success"),new u.a({title:"Success",description:"Created successfully.",className:"notices",type:"success",duration:3}),v.post("/v1/store-config/",{app_id:t.app_id}).then(t.getAppCallback).catch(function(t){console.log(t)}))}).catch(function(t){console.log(t)})},hasWhiteSpace:function(t){return/\s/g.test(t)},save:function(){this.$v.$touch(),this.$v.$invalid||(this.isEdit?v.post("/v1/store-config/update/",{app_id:this.app_id,properties:{original_attribute_key_to_edit:this.original_attribute_key_to_edit,key:this.key,display_name:this.display_name,value_type:this.value_type,privacy_level:this.privacy_level,required:this.required}}).then(this.postSaveCallBack).catch(function(t){console.log(t)}):v.post("/v1/store-config/create/",{app_id:this.app_id,properties:{original_attribute_key_to_edit:this.key,key:this.key,display_name:this.display_name,value_type:this.value_type,privacy_level:this.privacy_level,required:this.required}}).then(this.postSaveCallBack).catch(function(t){console.log(t)}))},postSaveCallBack:function(t){t.data.status&&(this.store_attributes=t.data.data,this.isEdit=!1,this.key="",this.display_name="",this.value_type="",this.privacy_level="",this.required=!1,this.original_attribute_key_to_edit=null,v.post("/v1/store-config/",{app_id:this.app_id}).then(this.getAppCallback).catch(function(t){console.log(t)}))},edit:function(t){this.original_attribute_key_to_edit=this.store_attributes[t].key,this.isEdit=!0,this.key=this.store_attributes[t].key,this.display_name=this.store_attributes[t].display_name,this.value_type=this.store_attributes[t].value_type,this.privacy_level=this.store_attributes[t].privacy_level,this.required=this.store_attributes[t].required},remove:function(t){v.post("/v1/store-config/delete/",{app_id:this.app_id,key:this.store_attributes[t].key}).then(this.postSaveCallBack).catch(function(t){console.log(t)})}}},zt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"StoreConfig"},[a("TopBar"),t._v(" "),t.app_id?a("el-row",{staticStyle:{padding:"0px 10px"},attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:6,lg:6,xl:6}},[a("el-card",{staticClass:"box-card"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("h3",{staticStyle:{margin:"0px"}},[t._v("New Store Attribute")])]),t._v(" "),a("div",{staticClass:"text item"},[a("p",{staticClass:"form-label"},[t._v("Key "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("div",[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.key.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.key,expression:"key"}],staticClass:"form__input",attrs:{type:"text"},domProps:{value:t.key},on:{input:[function(e){e.target.composing||(t.key=e.target.value)},function(e){t.setKey(e.target.value)}]}})]),t._v(" "),t.$v.key.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")])]),t._v(" "),a("p",{staticClass:"form-label"},[t._v("Display Name "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("div",[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.display_name.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.display_name,expression:"display_name"}],staticClass:"form__input",attrs:{type:"text"},domProps:{value:t.display_name},on:{input:[function(e){e.target.composing||(t.display_name=e.target.value)},function(e){t.setDisplay_name(e.target.value)}]}})]),t._v(" "),t.$v.display_name.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")])]),t._v(" "),a("p",{staticClass:"form-label"},[t._v("Value Type "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.value_type.$error}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.value_type,expression:"value_type"}],staticClass:"form__input",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.value_type=e.target.multiple?a:a[0]},function(e){t.setValue_type(e.target.value)}]}},[a("option",{attrs:{value:""}},[t._v("Select")]),t._v(" "),t._l(t.select_dropdown,function(e,s){return a("option",{key:s,domProps:{value:e.value}},[t._v(" "+t._s(e.text)+" ")])})],2)]),t._v(" "),t.$v.value_type.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")]),t._v(" "),a("p",{staticClass:"form-label"},[t._v("Privacy Level "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.privacy_level.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.privacy_level,expression:"privacy_level"}],staticClass:"form__input",attrs:{type:"number"},domProps:{value:t.privacy_level},on:{input:[function(e){e.target.composing||(t.privacy_level=e.target.value)},function(e){t.setPrivacy_level(e.target.value)}]}})]),t._v(" "),t.$v.privacy_level.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")]),t._v(" "),a("p",{staticClass:"form-label"},[t._v("Required?")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.required,expression:"required"}],attrs:{name:"isRequired",type:"radio"},domProps:{value:!0,checked:t._q(t.required,!0)},on:{change:function(e){t.required=!0}}}),t._v(" Yes\n                    "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.required,expression:"required"}],attrs:{name:"isRequired",type:"radio"},domProps:{value:!1,checked:t._q(t.required,!1)},on:{change:function(e){t.required=!1}}}),t._v(" No\n                    "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-button",{attrs:{size:"mini",type:"primary"},nativeOn:{click:function(e){t.save()}}},[t._v("Create Attributes")])],1)])])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:18,lg:18,xl:18}},[t.app_id?a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("h3",{staticStyle:{margin:"0px",display:"flex"}},[a("span",{staticStyle:{"flex-grow":"1"}},[t._v("Store Attributes")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:t.createSystemConfigs}},[t._v("Create System Configs")])],1)]),t._v(" "),a("div",{staticClass:"text item"},[a("el-row",{staticClass:"vertical-center margin-bottom-10",staticStyle:{"border-bottom":"1px solid #EEE",padding:"5px 10px"}},[a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n                           Name\n                      ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:5,md:5,lg:5,xl:5}},[t._v("\n                           Key\n                      ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:3,md:3,lg:3,xl:3}},[t._v("\n                           Privacy Level\n                      ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n                           Type\n                      ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n                           Is Required\n                      ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n                           Action\n                      ")])],1),t._v(" "),t._l(t.store_attributes,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center margin-bottom-10",staticStyle:{padding:"10px 10px"},style:{"background-color":s%2==0?"white":"#F1F1F1"}},[a("el-col",{staticStyle:{"padding-right":"5px"},attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n                          "+t._s(e.display_name)+"\n                      ")]),t._v(" "),a("el-col",{staticStyle:{"padding-right":"5px"},attrs:{xs:24,sm:5,md:5,lg:5,xl:5}},[t._v("\n                          "+t._s(e.key)+"\n                      ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:3,md:3,lg:3,xl:3}},[t._v("\n                          "+t._s(e.privacy_level)+"\n                      ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n                          "+t._s(e.value_type)+"\n                      ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n                          "+t._s(e.required)+"\n                      ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[e.is_system_config?t._e():a("span",{staticStyle:{"font-weight":"bold",cursor:"pointer","font-size":"0.8em"},on:{click:function(e){t.edit(s)}}},[t._v("Edit")]),t._v(" "),e.is_system_config?t._e():a("span",[t._v(" | ")]),t._v(" "),e.is_system_config?t._e():a("span",{staticStyle:{"font-weight":"bold",cursor:"pointer","font-size":"0.8em"},on:{click:function(e){t.remove(s)}}},[t._v("Delete")])])],1)})],2)]):t._e()],1)],1):t._e()],1)},staticRenderFns:[]};var qt=a("VU/8")(Pt,zt,!1,function(t){a("wH0s")},"data-v-33421082",null).exports,jt={name:"StoreList",components:{TopBar:w},props:["app_id","g_id","e_id"],data:function(){return{ezoneDetails:{},ezoneDetailsIsLoading:!1,resultLength0:!1,isLoading:!1,stores:[],selected_id:"",selected_gid:"",selected_eid:"",location:"",dialogVisible:!1}},created:function(){var t=this;this.isLoading=!0,this.resultLength0=!1,v.post("/v1/store/",{app_id:this.app_id,g_id:this.g_id,e_id:this.e_id}).then(this.getStoreCallback).catch(function(t){console.log(t)}),this.ezoneDetailsIsLoading=!0,v.post("/v1/engagement-zone/get/",{app_id:this.app_id,g_id:this.g_id,e_id:this.e_id}).then(function(e){t.ezoneDetailsIsLoading=!1,t.ezoneDetails=e.data.data[0]}).catch(function(t){console.log(t)})},methods:{getStoreCallback:function(t){this.isLoading=!1,this.stores=t.data.data,this.stores.length||(this.resultLength0=!0)},edit:function(t){console.log("edit store",t),this.$router.push({path:"/store-create/"+this.app_id+"/"+this.g_id+"/"+this.e_id+"/"+this.stores[t].store.uuid})},openDialog:function(t){console.log("this.stores[index]",this.stores[t]),this.selected_gid=this.stores[t].g_id,this.selected_eid=this.stores[t].e_id,this.selected_id=this.stores[t].store.uuid,this.dialogVisible=!0},updateLocation:function(){this.dialogVisible=!1,v.post("/v1/store/update-location/",{app_id:this.app_id,st_id:this.selected_id,g_id:this.selected_gid,e_id:this.selected_eid,properties:{location:this.location}}).then(this.postUpdateCallback).catch(function(t){console.log(t)})},remove:function(t){v.post("/v1/store/delete/",{app_id:this.app_id,g_id:this.g_id,e_id:this.e_id,st_id:this.stores[t].st_id}).then(this.postRemoveCallback).catch(function(t){console.log(t)})},postUpdateCallback:function(t){t.data.status&&(this.location="",new u.a({title:"Success",description:"Location Updated successfully.",className:"notices",type:"success",duration:3}))},postRemoveCallback:function(t){t.data.status&&(new u.a({title:"Success",description:"Store deleted successfully.",className:"notices",type:"success",duration:3}),v.post("/v1/store/",{app_id:this.app_id,g_id:this.g_id,e_id:this.e_id}).then(this.getStoreCallback).catch(function(t){console.log(t)}))},redirectToStoreNodification:function(t){this.$router.push({path:"/store/notification-list/"+this.app_id+"/"+this.e_id+"/"+t})},redirectToStoreManagement:function(t){this.$router.push({path:"/store/staff-list/"+this.app_id+"/"+t})},redirectToBrandManagement:function(t){this.$router.push({path:"/store/brand-list/"+this.app_id+"/"+this.e_id+"/"+t})},redirectToBack:function(){this.$router.push({path:"/engagement-zone-list/"+this.app_id+"/"+this.g_id})}}},Vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"StoreList"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"10px auto","max-width":"80vw"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{"flex-grow":"1"}},[a("i",{staticClass:"el-icon-back",staticStyle:{cursor:"pointer"},on:{click:function(e){t.redirectToBack()}}}),t._v("  EZone Details")])])]),t._v(" "),a("el-row",t._l([1,2],function(e,s){return t.ezoneDetailsIsLoading?a("el-col",{key:"loader"+s,staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1):t._e()})),t._v(" "),a("el-row",{staticClass:"vertical-center",staticStyle:{"font-size":"14px","margin-bottom":"20px"}},[a("el-col",{attrs:{xs:24,sm:5,md:5,lg:5,xl:5}},[a("label",[t._v("EZone Name")]),t._v("\n          "+t._s(t.ezoneDetails.name)+" \n        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:5,md:5,lg:5,xl:5}},[a("label",[t._v("Location")]),t._v("\n          "+t._s(t.ezoneDetails.location)+" \n        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[a("label",[t._v("EZone Id")]),t._v("\n          "+t._s(t.ezoneDetails.e_id)+" \n        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:3,md:3,lg:3,xl:3}},[a("label",[t._v("Status")]),t._v("\n          "+t._s(t.ezoneDetails.is_active?"Active":"Disabled")+" \n        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:3,md:3,lg:3,xl:3}},[a("label",[t._v("Size")]),t._v("\n          "+t._s(t.ezoneDetails.radius)+"m\n        ")])],1),t._v(" "),a("el-row",{staticStyle:{"font-size":"14px"}},[a("el-col",{attrs:{xs:24,sm:5,md:5,lg:5,xl:5}},[a("label",[t._v("Valid till")]),t._v("\n            "+t._s(t._f("formatDate")(t.ezoneDetails.expiry_timestamp))+" \n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[a("label",[t._v("Loitering Delay")]),t._v("\n            "+t._s(t.ezoneDetails.loitering_delay)+" \n          ")])],1)],1),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"10px auto","max-width":"80vw"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.redirectToBack()}}},[t._v(t._s(t.ezoneDetails.name)+"\n        "),a("i",{staticClass:"el-icon-arrow-right"}),t._v("  ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Stores")]),t._v(" "),a("router-link",{attrs:{to:{path:"/store-create/"+t.app_id+"/"+t.g_id+"/"+t.e_id}}},[a("el-button",{attrs:{type:"success",size:"mini"}},[t._v("New Store")])],1)],1)]),t._v(" "),a("el-row",[t._l([1,2,3],function(e,s){return t.isLoading?a("el-col",{key:"loader"+s,staticStyle:{padding:"10px"},attrs:{xs:24,sm:24,md:12,lg:24,xl:24}},[a("div",{staticStyle:{"margin-bottom":"30px"}},[a("content-placeholders",[a("content-placeholders-heading",{attrs:{img:!0}}),t._v(" "),a("content-placeholders-text",{attrs:{lines:2}})],1)],1)]):t._e()}),t._v(" "),a("el-row",{staticClass:"vertical-center margin-bottom-10"},[t.resultLength0&&!t.isLoading?a("el-col",{attrs:{span:24}},[a("h5",{staticStyle:{color:"#666"}},[t._v(" No Result Found...")])]):t._e()],1),t._v(" "),t._l(t.stores,function(e,s){return a("el-col",{key:s,staticStyle:{padding:"30px 10px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-dialog",{attrs:{title:"Add Location",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.location,expression:"location"}],attrs:{type:"text",placeholder:"latitude, longitude"},domProps:{value:t.location},on:{input:function(e){e.target.composing||(t.location=e.target.value)}}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.updateLocation()}}},[t._v("Confirm")])],1)]),t._v(" "),a("div",{staticClass:"text item"},[a("el-row",{staticClass:"vertical-center text-left",staticStyle:{"background-color":"#F1F1F1",padding:"10px 15px"}},[a("el-col",{attrs:{span:8}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Attribute ")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Value ")])])],1),t._v(" "),t._l(e.store_attributes,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center",staticStyle:{"font-size":"14px","border-bottom":"1px solid #F1F1F1",padding:"10px"}},[a("el-col",{staticClass:"bold",attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n                "+t._s(e.display_name)+"\n              ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[t._v("\n                "+t._s(e.value)+"\n              ")])],1)}),t._v(" "),a("div",{staticStyle:{"font-size":"0.8em",padding:"10px","border-bottom":"1px solid #F1F1F1"}},[a("span",{staticStyle:{"flex-grow":"1"}},[t._v(t._s(e.store.uuid))])]),t._v(" "),a("div",{staticStyle:{"font-size":"0.8em"}},[a("el-button",{staticStyle:{"padding-bottom":"0px","margin-left":"10px"},attrs:{type:"text"},nativeOn:{click:function(a){t.redirectToStoreNodification(e.store.uuid)}}},[t._v("Notification")]),t._v(" "),a("el-button",{staticStyle:{"padding-bottom":"0px"},attrs:{type:"text"},nativeOn:{click:function(e){t.edit(s)}}},[t._v("Edit")]),t._v(" "),a("el-button",{staticStyle:{"padding-bottom":"0px"},attrs:{type:"text"},nativeOn:{click:function(e){t.remove(s)}}},[t._v("Delete")]),t._v(" "),a("el-button",{staticStyle:{"padding-bottom":"0px"},attrs:{type:"text"},nativeOn:{click:function(e){t.openDialog(s)}}},[t._v("Update Location")]),t._v(" "),a("el-button",{staticStyle:{"padding-bottom":"0px"},attrs:{type:"text"},nativeOn:{click:function(a){t.redirectToBrandManagement(e.store.uuid)}}},[t._v("Manage Brands")]),t._v(" "),a("el-button",{staticStyle:{"padding-bottom":"0px"},attrs:{type:"text"},nativeOn:{click:function(a){t.redirectToStoreManagement(e.store.uuid)}}},[t._v("Manage Staff")])],1)],2)],1)})],2)],1)],1)},staticRenderFns:[]};var Zt=a("VU/8")(jt,Vt,!1,function(t){a("bB9M")},"data-v-60e51d50",null).exports,Gt={name:"EngagementZoneList",components:{TopBar:w},props:["app_id","g_id"],data:function(){return{geoZoneNotificationResultLength0:!1,engagementZoneResultLength0:!1,geoZoneDetails:{},geoZoneDetailsIsLoading:!1,engagementZoneIsLoading:!1,geoZoneNotificationIsLoading:!1,engagementZones:[],selected_id:"",location:"",dialogVisible:!1,geoNotification:[]}},created:function(){var t=this;this.geoZoneDetailsIsLoading=!0,v.post("/v1/geo-zone/get/",{app_id:this.app_id,g_id:this.g_id}).then(function(e){t.geoZoneDetails=e.data.data[0],t.geoZoneDetailsIsLoading=!1}).catch(function(t){console.log(t)}),this.engagementZoneIsLoading=!0,this.engagementZoneResultLength0=!1,v.post("/v1/engagement-zone/",{app_id:this.app_id,g_id:this.g_id}).then(this.getEZCallback).catch(function(t){console.log(t)}),this.geoZoneNotificationIsLoading=!0,this.geoZoneNotificationResultLength0=!1,v.post("/v1/geozone/notification/",{app_id:this.app_id,g_id:this.g_id}).then(this.getGZNotificationCallback).catch(function(t){console.log(t)})},methods:{openStoreList:function(t){this.$router.push({path:"/store-list/"+this.app_id+"/"+this.g_id+"/"+t.e_id})},getEZCallback:function(t){this.engagementZoneIsLoading=!1,this.engagementZones=t.data.data,this.engagementZones.length||(this.engagementZoneResultLength0=!0)},edit:function(t){this.$router.push({name:"EngagementZoneCreate",params:{app_id:this.app_id,g_id:this.g_id,id:this.engagementZones[t].e_id}})},openDialog:function(t){this.selected_id=this.engagementZones[t].store.uuid,this.dialogVisible=!0},updateLocation:function(){this.dialogVisible=!1,v.post("/v1/add-location/",{id:this.selected_id,properties:{location:this.location}}).then(this.postUpdateCallback).catch(function(t){console.log(t)})},remove:function(t){v.post("/v1/engagement-zone/delete/",{app_id:this.app_id,g_id:this.g_id,e_id:this.engagementZones[t].e_id}).then(this.postRemoveCallback).catch(function(t){console.log(t)})},postUpdateCallback:function(t){t.data.status&&(this.location="",new u.a({title:"Success",description:"Location Updated successfully.",className:"notices",type:"success",duration:3}))},postRemoveCallback:function(t){t.data.status&&(new u.a({title:"Success",description:"Store deleted successfully.",className:"notices",type:"success",duration:3}),v.post("/v1/engagement-zone/",{app_id:this.app_id,g_id:this.g_id}).then(this.getEZCallback).catch(function(t){console.log(t)}))},getGZNotificationCallback:function(t){this.geoZoneNotificationIsLoading=!1,this.geoNotification=t.data.data,this.geoNotification.length||(this.geoZoneNotificationResultLength0=!0)},editGeoNodification:function(t){this.$router.push({path:"/geozone/notification/create/"+this.app_id+"/"+this.g_id+"/"+t})},removeGeoNodification:function(t){v.post("/v1/drilled-down-notification/delete/",{app_id:this.app_id,nt_id:t,g_id:this.g_id,st_id:null}).then(this.postRemoveGNTCallback).catch(function(t){console.log(t)})},postRemoveGNTCallback:function(t){t.data.status&&(this.geoNotification=[],new u.a({title:"Success",description:"Store deleted successfully.",className:"notices",type:"success",duration:3}),v.post("/v1/geozone/notification/",{app_id:this.app_id,g_id:this.g_id}).then(this.getGZNotificationCallback).catch(function(t){console.log(t)}))},redirectToBack:function(){this.$router.push({path:"/geozone-list/"+this.app_id})}}},Qt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"EngagementZoneList"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{"flex-grow":"1"}},[a("i",{staticClass:"el-icon-back",staticStyle:{cursor:"pointer"},on:{click:function(e){t.redirectToBack()}}}),t._v("  Geozone Details")])])]),t._v(" "),a("el-row",t._l([1,2],function(e,s){return t.geoZoneDetailsIsLoading?a("el-col",{key:"loader"+s,staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1):t._e()})),t._v(" "),a("el-row",{staticClass:"vertical-center",staticStyle:{"font-size":"14px","margin-bottom":"20px"}},[a("el-col",{attrs:{xs:24,sm:5,md:5,lg:5,xl:5}},[a("label",[t._v("Geozone Name")]),t._v("\n          "+t._s(t.geoZoneDetails.name)+" \n        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:5,md:5,lg:5,xl:5}},[a("label",[t._v("Location")]),t._v("\n          "+t._s(t.geoZoneDetails.location)+" \n        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[a("label",[t._v("Geozone Id")]),t._v("\n          "+t._s(t.geoZoneDetails.g_id)+" \n        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:3,md:3,lg:3,xl:3}},[a("label",[t._v("Status")]),t._v("\n          "+t._s(t.geoZoneDetails.is_active?"Active":"Disabled")+" \n        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:3,md:3,lg:3,xl:3}},[a("label",[t._v("Size")]),t._v("\n          "+t._s(t.geoZoneDetails.radius)+"m\n        ")])],1),t._v(" "),a("el-row",{staticStyle:{"font-size":"14px"}},[a("el-col",{attrs:{xs:24,sm:5,md:5,lg:5,xl:5}},[a("label",[t._v("City")]),t._v("\n            "+t._s(t.geoZoneDetails.city)+" \n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:5,md:5,lg:5,xl:5}},[a("label",[t._v("State")]),t._v("\n            "+t._s(t.geoZoneDetails.state)+" \n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:5,md:5,lg:5,xl:5}},[a("label",[t._v("Country")]),t._v("\n            "+t._s(t.geoZoneDetails.country)+" \n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:5,md:5,lg:5,xl:5}},[a("label",[t._v("Valid till")]),t._v("\n            "+t._s(t._f("formatDate")(t.geoZoneDetails.expiry_timestamp))+" \n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[a("label",[t._v("Loitering Delay")]),t._v("\n            "+t._s(t.geoZoneDetails.loitering_delay)+" \n          ")])],1)],1),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.redirectToBack()}}},[t._v(t._s(t.geoZoneDetails.name)+"\n            "),a("i",{staticClass:"el-icon-arrow-right"}),t._v("  ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Engagement Zones")]),t._v(" "),a("router-link",{attrs:{to:{name:"EngagementZoneCreate",params:{app_id:this.app_id,g_id:this.g_id,g_name:this.geoZoneDetails.name}}}},[a("el-button",{attrs:{type:"success",size:"mini"}},[t._v("New Engagement Zone")])],1)],1)]),t._v(" "),a("div",{staticClass:"text item"},[a("el-row",t._l([1,2,3],function(e,s){return t.engagementZoneIsLoading?a("el-col",{key:"loader"+s,staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1):t._e()})),t._v(" "),a("el-row",{staticClass:"vertical-center margin-bottom-10",staticStyle:{"font-size":"14px","border-bottom":"1px solid #eee","padding-bottom":"10px"}},[a("el-col",{attrs:{xs:24,sm:5,md:5,lg:5,xl:5}},[a("label",[t._v("Name")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:3,md:3,lg:3,xl:3}},[a("label",[t._v("Location")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:7,md:7,lg:7,xl:7}},[a("label",[t._v("Id")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:3,md:3,lg:3,xl:3}},[a("label",[t._v("Status")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:2,md:2,lg:2,xl:2}},[a("label",[t._v("Size")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[a("label",[t._v("Actions")])])],1),t._v(" "),a("el-row",{staticClass:"vertical-center margin-bottom-10"},[t.engagementZoneResultLength0&&!t.engagementZoneIsLoading?a("el-col",{attrs:{span:24}},[a("h5",{staticStyle:{color:"#666"}},[t._v(" No Result Found...")])]):t._e()],1),t._v(" "),t._l(t.engagementZones,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center margin-bottom-10",staticStyle:{"font-size":"14px"}},[a("el-col",{attrs:{xs:24,sm:5,md:5,lg:5,xl:5}},[t._v("\n            "+t._s(e.name)+"\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:3,md:3,lg:3,xl:3}},[t._v("\n            "+t._s(e.location)+"\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:7,md:7,lg:7,xl:7}},[t._v("\n            "+t._s(e.e_id)+"\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:3,md:3,lg:3,xl:3}},[t._v("\n            "+t._s(e.is_active?"Active":"Disabled")+"\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:2,md:2,lg:2,xl:2}},[t._v("\n            "+t._s(e.radius)+"m\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[a("span",[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){t.remove(s)}}},[t._v("Delete")]),t._v(" |\n            ")],1),t._v(" "),a("span"),t._v(" "),a("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){t.edit(s)}}},[t._v("Edit")]),t._v(" |\n            "),a("span",[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){t.openStoreList(e)}}},[t._v("Details")])],1)],1)],1)})],2)]),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.redirectToBack()}}},[t._v(t._s(t.geoZoneDetails.name)+"\n          "),a("i",{staticClass:"el-icon-arrow-right"}),t._v("  ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Notifications")]),t._v(" "),a("router-link",{attrs:{to:{path:"/geozone/notification/create/"+t.app_id+"/"+t.g_id}}},[a("el-button",{attrs:{type:"success",size:"mini"}},[t._v("New Zone Notification")])],1)],1)]),t._v(" "),a("div",{staticClass:"text item"},[a("el-row",t._l([1,2,3],function(e,s){return t.geoZoneNotificationIsLoading?a("el-col",{key:"loader"+s,staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1):t._e()})),t._v(" "),a("el-row",{staticClass:"vertical-center margin-bottom-10"},[t.geoZoneNotificationResultLength0&&!t.geoZoneNotificationIsLoading?a("el-col",{attrs:{span:24}},[a("h5",{staticStyle:{color:"#666"}},[t._v(" No Result Found...")])]):t._e()],1),t._v(" "),t._l(t.geoNotification,function(e,s){return a("el-row",{key:s,staticClass:"notification-item",staticStyle:{padding:"15px 20px","font-size":"14px"},attrs:{gutter:10}},[a("el-col",{attrs:{span:10}},[a("div",[a("label",[t._v("Notification Id")]),t._v(" "),a("span",[t._v(t._s(e.nt_id))])]),t._v(" "),a("div",[a("label",[t._v("Notification Text")]),t._v("\n              "+t._s(e.notification[0].text)+" "),a("br"),t._v(" "),a("span",{staticStyle:{"font-size":"0.8em",color:"#666"}},[t._v(t._s(e.notification[0].sub_text))])])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("div",[a("label",[t._v("Notification Type")]),t._v("\n              "+t._s(e.notification_type[0].name)+"\n            ")]),t._v(" "),a("div",[a("label",[t._v("Action Type")]),t._v("\n              "+t._s(e.notification_action_type[0].name)+"\n            ")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("label",[t._v("Match Type")]),t._v("\n              "+t._s(e.notification[0].notification_match_type)+"\n            ")]),t._v(" "),"BRAND"==e.notification[0].notification_match_type?a("div",[a("label",[t._v("Associated Brands")]),t._v(" "),t._l(e.notification_brands,function(s,i){return a("span",{key:"brand"+i,staticStyle:{"font-size":"0.9em"}},[t._v("\n                  "+t._s(s.name)+" "),i<e.notification_brands.length-1?a("span",[t._v(", ")]):t._e()])})],2):t._e()]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){t.editGeoNodification(e.nt_id)}}},[t._v("Edit")]),t._v(" "),a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){t.removeGeoNodification(e.nt_id)}}},[t._v("Delete")])],1)],1)})],2)])],1)},staticRenderFns:[]};var $t=a("VU/8")(Gt,Qt,!1,function(t){a("0hVh")},"data-v-537569ea",null).exports,Yt=a("Dd8w"),Jt=a.n(Yt),Ht={name:"StoreCreate",components:{TopBar:w,multiselect:mt.a},props:["app_id","g_id","e_id","id"],data:function(){return{country:"",state:"",city:"",isLoaderLoading:!1,isFormLoading:!1,store_attributes:[],all_country_dropdown:[],all_states_dropdown:[],all_city_dropdown:[],dynamic_form_model:{},takeManualCityState:!1}},watch:{country:function(t,e){this.all_states_dropdown=[],this.all_city_dropdown=[],t&&this.getStates()},state:function(t,e){this.all_city_dropdown=[],this.city="",t&&this.getCities()}},created:function(){var t=this;this.isLoaderLoading=!0,this.isFormLoading=!1,v.post("/v1/dropdowns/countries/",{}).then(function(e){console.log("get-countries-dropdown",e),t.all_country_dropdown=e.data.data?e.data.data.map(function(t){return t.country}):[]}).catch(function(t){console.log(t)}),v.post("/v1/store-config/",{app_id:this.app_id}).then(this.getStoreConfigCallback).catch(function(t){console.log(t)})},methods:{getPlaceholder:function(t){return"wifi_primary_bssid"==t?"e.g. ab:cd:ef:12:34:56, 56:12:34:cd:ab:ef":"name"==t?"e.g. Westside R City Mall Mumbai":"location"==t?"e.g. 21.01,78.134":"wifi_tx_power"==t?"e.g. -30, -20, -10, -5, 10":"wifi_amb_bssid_list"==t?"e.g. ab:cd:ef:12:34:56":"ble_primary_address"==t?"e.g. ab:cd:ef:12:34:56":"ble_tx_power"==t?"e.g. -30, -20, -10, -5, 10":"ble_beacon_master_uuid"==t?"e.g. A1B2C3D4-E5F6-A7B8-C9D0-E1F2A3B4C5D6":"ble_beacon_slave_uuid"==t?"e.g. E1F2A3B4-C5D6-E7F8-A9B0-C1D2E3F4A5B6":""},getStates:function(){var t=this;v.post("/v1/dropdowns/states/",{country:this.country}).then(function(e){console.log("geo-zone-get-states-dropdown",e),t.all_states_dropdown=e.data.data?e.data.data.map(function(t){return t.state}):[]}).catch(function(t){console.log(t)})},getCities:function(){var t=this;v.post("/v1/dropdowns/cities-for-state/",{country:this.country,state:this.state}).then(function(e){console.log("geo-zone-get-cities-dropdown",e),t.all_city_dropdown=e.data.data?e.data.data.map(function(t){return t.city}):[]}).catch(function(t){console.log(t)})},getSortedAttributes:function(t){var e=t,a=Object(r.find)(e,function(t){return"country"==t.key}),s=Object(r.find)(e,function(t){return"state"==t.key}),i=Object(r.find)(e,function(t){return"city"==t.key}),o=Object(r.reject)(e,function(t){return["country","state","city"].indexOf(t.key)>-1});return Object(r.concat)(a,s,i,o)},getStoreConfigCallback:function(t){var e=this;console.log("getStoreConfigCallback",t),t.data.status&&(this.store_attributes=this.getSortedAttributes(t.data.data[0].store_attributes),this.dynamic_form_model={},this.store_attributes.forEach(function(t,a){e.$set(e.dynamic_form_model,t.key,Jt()({},t,{value:"",isFormFieldValid:!0}))}),this.id?(delete this.dynamic_form_model.location,this.isLoaderLoading=!0,this.isFormLoading=!1,v.post("/v1/store/get/",{app_id:this.app_id,g_id:this.g_id,e_id:this.e_id,st_id:this.id}).then(this.getStoreCallBack).catch(function(t){console.log(t)})):(this.isLoaderLoading=!1,this.isFormLoading=!0))},getStoreCallBack:function(t){var e=this;if(console.log("getStoreCallBack",t),this.isLoaderLoading=!1,this.isFormLoading=!0,t.data.status){for(var a=0;a<this.store_attributes.length;a++)for(var s=0;s<t.data.data[0].store_attributes.length;s++)this.store_attributes[a].key==t.data.data[0].store_attributes[s].key&&(this.store_attributes[a]=t.data.data[0].store_attributes[s]);this.dynamic_form_model={},this.store_attributes.forEach(function(t,a){e.$set(e.dynamic_form_model,t.key,Jt()({},t,{isFormFieldValid:!0}))});var i=!1,o="";for(var n in this.dynamic_form_model)if("geo_point"==this.dynamic_form_model[n].value_type){i=!0,o=n;break}console.log("isGeoPointFieldPresent: ",i,"gopPointFieldKey: ",o),i&&(this.dynamic_form_model[o].value=t.data.data[0].location.latitude+","+t.data.data[0].location.longitude)}},validateStore:function(){var t=[];for(var e in this.dynamic_form_model){var a=!1,s=(""+this.dynamic_form_model[e].value).trim();if(this.dynamic_form_model[e].regex&&s)a=!new RegExp(this.dynamic_form_model[e].regex).test(s),console.log("isError after regex check",a);this.dynamic_form_model[e].required&&!s&&(console.log("required constraint failed"),a=!0),a?(t.push(this.dynamic_form_model[e].key),this.dynamic_form_model[e].isFormFieldValid=!1):this.dynamic_form_model[e].isFormFieldValid=!0}return console.log("isStoreValid",t),0==t.length},saveStore:function(){this.id?v.post("/v1/store/update/",{app_id:this.app_id,g_id:this.g_id,e_id:this.e_id,st_id:this.id,properties:this.dynamic_form_model}).then(this.postSaveCallBack).catch(function(t){console.log(t)}):v.post("/v1/store/create/",{app_id:this.app_id,g_id:this.g_id,e_id:this.e_id,properties:this.dynamic_form_model}).then(this.postSaveCallBack).catch(function(t){console.log(t)})},save:function(){(console.log(this.dynamic_form_model),this.dynamic_form_model.city.value&&this.dynamic_form_model.state.value&&this.dynamic_form_model.country.value)?(console.log("city, state, country already filled"),this.validateStore()?(console.log("valid store"),console.log(this.dynamic_form_model),this.saveStore()):(console.log("invalid store"),console.log(this.dynamic_form_model))):(console.log("city, state, country not filled"),console.log("city state country missing in dynamic model"),this.getCityStateCountryFromGoogle())},getCityStateCountryFromGoogle:function(){var t=this;console.log("Getting city state from location coordinates...");var e=this.dynamic_form_model.location.value?this.dynamic_form_model.location.value.trim():"";if(!/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)\s*,\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/.test(e))return console.log("location not filled"),void this.validateStore();m.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng="+e.replace(" ","")+"&key=AIzaSyBWx06oZ1qYEP3OLaiY-yEaTEHQ_a9nUPA").then(function(e){console.log("location response: ",e);var a=e.data.results;if(a.length){t.city="",t.state="",t.country="",console.log("takeManualCityState false, taking values from google");for(var s=0;s<a[0].address_components.length;s++){var i=a[0].address_components[s];switch(i.types[0]){case"locality":i.long_name.trim().length&&(t.city=i.long_name);break;case"administrative_area_level_1":i.long_name.trim().length&&(t.state=i.long_name);break;case"country":i.long_name.trim().length&&(t.country=i.long_name)}}console.log("this.reverse_location",t.city,t.state,t.country)}t.populateLocationDropdown()}).catch(function(t){console.log(t)})},populateLocationDropdown:function(){""!=this.city.trim()&&""!=this.state.trim()&&""!=this.country.trim()||this.takeManualCityState?(this.dynamic_form_model.city.value=this.city,this.dynamic_form_model.state.value=this.state,this.dynamic_form_model.country.value=this.country,this.dynamic_form_model.city.value.trim().length&&this.dynamic_form_model.state.value.trim().length&&this.dynamic_form_model.country.value.trim().length?this.validateStore()?(console.log("valid store"),console.log(this.dynamic_form_model),this.saveStore()):(console.log("invalid store"),console.log(this.dynamic_form_model)):console.log("please fill manual city and state...")):(console.log("could not fild city or state from location..."),this.takeManualCityState=!0)},postSaveCallBack:function(t){console.log("Response: ",t,this.app_id),t.data.status&&(new u.a({title:"Success",description:"Store created successfully.",className:"notices",type:"success",duration:3}),this.$router.push({path:"/store-list/"+this.app_id+"/"+this.g_id+"/"+this.e_id}))}}},Kt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"StoreCreate"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("h3",{staticStyle:{margin:"0px","padding-bottom":"15px","border-bottom":"1px solid #EEE"}},[t._v("Create / Edit Store")]),t._v(" "),a("el-row",t._l([1,2,3,4],function(e,s){return t.isLoaderLoading?a("el-col",{key:"loader"+s,staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1):t._e()})),t._v(" "),t.isFormLoading?a("div",{staticClass:"text item"},[t.takeManualCityState?a("p",{staticStyle:{"margin-top":"10px",color:"red","font-size":"0.8em","text-align":"center"}},[t._v("Error getting city state from location. Please fill manually.")]):t._e(),t._v(" "),t._l(t.store_attributes,function(e,s){return a("div",{key:s},[a("el-row",{staticClass:"vertical-center",staticStyle:{"margin-top":"12px"},attrs:{gutter:10}},[a("el-col",{staticClass:"text-right",attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t.takeManualCityState?a("span",[t._v("\n              "+t._s(e.display_name)+"\n              "),e.required?a("span",{staticStyle:{color:"red"}},[t._v("*")]):t._e()]):a("span",["city"!=e.key&&"state"!=e.key&&"country"!=e.key?a("span",[t._v(t._s(e.display_name)),e.required?a("span",{staticStyle:{color:"red"}},[t._v("*")]):t._e()]):t._e()])]),t._v(" "),"text"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},["city"!=e.key&&"state"!=e.key&&"country"!=e.key?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[sa.key].value"}],staticClass:"form_input",attrs:{type:"text",required:e.required,placeholder:t.getPlaceholder(t.dynamic_form_model[e.key].key)},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v(" "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])]):"country"==e.key&&t.takeManualCityState?a("div",[a("multiselect",{staticStyle:{width:"80%"},attrs:{"deselect-label":"","select-label":"","show-labels":!1,placeholder:"Select Country",options:t.all_country_dropdown,searchable:!0,"allow-empty":!0},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v(" "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])],1):"state"==e.key&&t.takeManualCityState?a("div",[a("multiselect",{staticStyle:{width:"80%"},attrs:{"deselect-label":"","select-label":"","show-labels":!1,placeholder:"Select State",options:t.all_states_dropdown,searchable:!0,"allow-empty":!0},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v(" "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])],1):"city"==e.key&&t.takeManualCityState?a("div",[a("multiselect",{staticStyle:{width:"80%"},attrs:{"deselect-label":"","select-label":"","show-labels":!1,placeholder:"Select City",options:t.all_city_dropdown,searchable:!0,"allow-empty":!0},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v("  "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])],1):t._e()]):t._e(),t._v(" "),"text_area"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[sa.key].value"}],attrs:{rows:"4",cols:"50",required:e.required},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v("  "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])]):t._e(),t._v(" "),"checkbox"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[sa.key].value"}],staticClass:"form_input",attrs:{type:"checkbox",required:e.required},domProps:{checked:Array.isArray(t.dynamic_form_model[e.key].value)?t._i(t.dynamic_form_model[e.key].value,null)>-1:t.dynamic_form_model[e.key].value},on:{change:function(a){var s=t.dynamic_form_model[e.key].value,i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=t._i(s,null);i.checked?n<0&&t.$set(t.dynamic_form_model[e.key],"value",s.concat([null])):n>-1&&t.$set(t.dynamic_form_model[e.key],"value",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.dynamic_form_model[e.key],"value",o)}}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v("  "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])]):t._e(),t._v(" "),"number"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[sa.key].value"}],staticClass:"form_input",attrs:{type:"number",required:e.required,placeholder:t.getPlaceholder(t.dynamic_form_model[e.key].key)},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v("  "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])]):t._e(),t._v(" "),"tel"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[sa.key].value"}],staticClass:"form_input",attrs:{type:"tel",required:e.required},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v("  "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])]):t._e(),t._v(" "),"float"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[sa.key].value"}],staticClass:"form_input",attrs:{type:"number",required:e.required},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v("  "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])]):t._e(),t._v(" "),"date"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[sa.key].value"}],staticClass:"form_input",attrs:{type:"date",required:e.required},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v("  "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])]):t._e(),t._v(" "),"time"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[sa.key].value"}],staticClass:"form_input",attrs:{type:"time",required:e.required},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v("  "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])]):t._e(),t._v(" "),"password"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[sa.key].value"}],staticClass:"form_input",attrs:{type:"password",required:e.required},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v("  "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])]):t._e(),t._v(" "),"geo_point"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[sa.key].value"}],staticClass:"form_input",attrs:{type:"text",required:"",placeholder:t.getPlaceholder(t.dynamic_form_model[e.key].key),disabled:t.id&&"location"==t.dynamic_form_model[e.key].key},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v("  "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])]):t._e()],1)],1)}),t._v(" "),a("el-row",{staticClass:"vertical-center",staticStyle:{"text-align":"center","margin-top":"15px"}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.save()}}},[t._v("Save")])],1)],1)],2):t._e()],1)],1)},staticRenderFns:[]};var Wt=a("VU/8")(Ht,Kt,!1,function(t){a("obYM"),a("QP7P")},null,null).exports,Xt=a("fZjL"),te=a.n(Xt),ee={name:"ProfileCreate",components:{TopBar:w},props:["app_id","id"],data:function(){return{isAuthCredLoading:!0,isAssignedRolesLoading:!0,isProfileLoading:!0,isRoleLoading:!0,profile_attributes:[],dynamic_form_model:{},username:"",password:"",selected_role:{},roles:[],existing_roles:[]}},created:function(){v.post("/v1/profile-config/",{app_id:this.app_id}).then(this.getProfileConfigCallback).catch(function(t){console.log(t)}),v.post("/v1/get-business-entity-roles/").then(this.getRoleCallback).catch(function(t){console.log(t)}),this.id&&v.post("/v1/profile/get/",{app_id:this.app_id,p_id:this.id}).then(this.getProfileCallBack).catch(function(t){console.log(t)})},methods:{textInputPlaceholder:function(t){return"name"==t?"e.g. Anand":""},initProfileData:function(){v.post("/v1/profile/get/",{app_id:this.app_id,p_id:this.id}).then(this.getProfileCallBack).catch(function(t){console.log(t)})},removeRole:function(t){var e=this;v.post("/v1/profile/remove-role/",{r_id:t.uuid,p_id:this.id}).then(function(){e.initProfileData()}).catch(function(t){console.log(t)})},getRoleCallback:function(t){var e=this;this.isRoleLoading=!1,t.data.status&&(this.roles=t.data.data,this.roles.forEach(function(t){"Consumer"==t.name&&(e.selected_role=t)}))},getProfileConfigCallback:function(t){var e=this;this.isProfileLoading=!1,t.data.status&&(this.profile_attributes=t.data.data[0].profile_attributes,this.dynamic_form_model={},this.profile_attributes.forEach(function(t,a){e.$set(e.dynamic_form_model,t.key,Jt()({},t,{value:"",isFormFieldValid:!0}))}))},getProfileCallBack:function(t){var e=this;if(this.isAuthCredLoading=!1,this.isAssignedRolesLoading=!1,console.log("getProfileCallBack",t),t.data.status){for(var a=0;a<this.profile_attributes.length;a++)for(var s=0;s<t.data.data[0].profile_attributes.length;s++)this.profile_attributes[a].key==t.data.data[0].profile_attributes[s].key&&(this.profile_attributes[a]=t.data.data[0].profile_attributes[s]);"username"in t.data.data[0].profile&&(this.username=t.data.data[0].profile.username),this.dynamic_form_model={},this.profile_attributes.forEach(function(t,a){e.$set(e.dynamic_form_model,t.key,Jt()({},t,{isFormFieldValid:!0}))});var i=!1,o="";for(var n in this.dynamic_form_model)if("geo_point"==this.dynamic_form_model[n].value_type){i=!0,o=n;break}console.log("isGeoPointFieldPresent: ",i,"gopPointFieldKey: ",o),i&&t.data.data[0].location&&t.data.data[0].location.latitude&&t.data.data[0].location.longitude&&(this.dynamic_form_model[o].value=t.data.data[0].location.latitude+","+t.data.data[0].location.longitude),this.existing_roles=t.data.data[0].roles,console.log("this.existing_roles",this.existing_roles)}},validateProfile:function(){var t=!0;for(var e in this.dynamic_form_model)console.log(this.dynamic_form_model[e]),this.dynamic_form_model[e].required&&!(""+this.dynamic_form_model[e].value).trim()?(t=!1,this.dynamic_form_model[e].isFormFieldValid=!1):this.dynamic_form_model[e].isFormFieldValid=!0;return t},save:function(){var t=this;if(console.log(this.dynamic_form_model),this.validateProfile()){console.log("valid profile"),console.log(this.dynamic_form_model);var e={};te()(this.dynamic_form_model).forEach(function(a,s){e[a]=t.dynamic_form_model[a].value}),this.id?v.post("/v1/profile/update/",{app_id:this.app_id,p_id:this.id,properties:e,role:this.selected_role}).then(this.postSaveCallBack).catch(function(t){console.log(t)}):v.post("/v1/profile/create/",{app_id:this.app_id,properties:e,role:this.selected_role,username:this.username,password:this.password}).then(this.postSaveCallBack).catch(function(t){console.log(t)})}else console.log("invalid profile"),console.log(this.dynamic_form_model)},register:function(){this.id&&this.username&&this.password&&v.post("/v1/user-registration/",{p_id:this.id,username:this.username,password:this.password}).then(this.postSaveCallBack).catch(function(t){console.log(t)})},postSaveCallBack:function(t){console.log("Response: ",t,this.app_id),t.data.status&&(this.$router.go(-1),new u.a({title:"Success",description:this.id?"Profile updated successfully.":"Profile created successfully.",className:"notices",type:"success",duration:3}),this.id&&this.initProfileData())}}},ae={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ProfileCreate"},[a("TopBar"),t._v(" "),t.id?a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[t.id?a("h3",{staticClass:"form-section-header"},[t._v("Profile")]):t._e(),t._v(" "),t.isAuthCredLoading?t._e():a("div",[a("el-row",{staticClass:"vertical-center margin-top-20",attrs:{gutter:10}},[a("el-col",{staticClass:"text-left",attrs:{span:12}},[t._v("\n            Username"),a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"sampleuser@sampledomain.com",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),a("el-col",{staticClass:"text-left",attrs:{span:12}},[t._v("\n            Password"),a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])],1),t._v(" "),a("el-row",{staticClass:"vertical-center margin-top-20",attrs:{gutter:10}},[a("el-col",{staticClass:"text-left",attrs:{span:24}},[t.id?a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.register()}}},[t._v("Update Credentials")]):t._e()],1)],1)],1),t._v(" "),t.isAuthCredLoading?a("el-row",{staticStyle:{margin:"10px auto"},attrs:{gutter:15}},t._l([1,2,3,4],function(t,e){return a("el-col",{key:"loader"+e,staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:12,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1)})):t._e()],1):t._e(),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[t.id?t._e():a("h3",{staticClass:"form-section-header"},[t._v("Profile")]),t._v(" "),t.id?t._e():a("el-row",{staticClass:"vertical-center margin-top-20",attrs:{gutter:10}},[a("el-col",{staticClass:"text-left",attrs:{span:12}},[a("span",{staticClass:"form-label"},[t._v("Username"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"sampleuser@sampledomain.com",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),a("el-col",{staticClass:"text-left",attrs:{span:12}},[a("span",{staticClass:"form-label"},[t._v("Password"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])],1),t._v(" "),t.isProfileLoading?a("el-row",{staticStyle:{margin:"10px auto"},attrs:{gutter:15}},t._l([1,2,3,4],function(t,e){return a("el-col",{key:"loader"+e,staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:12,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1)})):t._e(),t._v(" "),t._l(t.profile_attributes,function(e,s){return a("div",{key:s},[a("el-row",{staticClass:"vertical-center margin-top-20",attrs:{gutter:10}},[a("el-col",{staticClass:"form-label",attrs:{span:24}},[t._v("\n            "+t._s(e.display_name)),e.required?a("span",{staticStyle:{color:"red"}},[t._v("*")]):t._e()])],1),t._v(" "),a("el-row",["text"==e.value_type&&"notification_token"!=e.key?a("el-col",{staticClass:"text-left",attrs:{span:24}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"text",required:e.required,placeholder:t.textInputPlaceholder(e.key)},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"text"==e.value_type&&"notification_token"==e.key?a("el-col",{staticClass:"text-left",attrs:{span:24}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"text",required:e.required,disabled:""},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"text_area"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{span:24}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{rows:"4",cols:"50",required:e.required},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"checkbox"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{span:24}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"checkbox",required:e.required},domProps:{checked:Array.isArray(t.dynamic_form_model[e.key].value)?t._i(t.dynamic_form_model[e.key].value,null)>-1:t.dynamic_form_model[e.key].value},on:{change:function(a){var s=t.dynamic_form_model[e.key].value,i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=t._i(s,null);i.checked?n<0&&t.$set(t.dynamic_form_model[e.key],"value",s.concat([null])):n>-1&&t.$set(t.dynamic_form_model[e.key],"value",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.dynamic_form_model[e.key],"value",o)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"number"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{span:24}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"number",required:e.required},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"tel"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{span:24}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"tel",required:e.required},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"float"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{span:24}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"number",required:e.required},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"date"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{span:24}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"date",required:e.required},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"time"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{span:24}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"time",required:e.required},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"password"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{span:24}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"password",required:e.required},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"geo_point"==e.value_type&&"location"!=e.key?a("el-col",{staticClass:"text-left",attrs:{span:24}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"text",required:e.required,placeholder:"latitude, longitude"},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"geo_point"==e.value_type&&"location"==e.key?a("el-col",{staticClass:"text-left",attrs:{span:24}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"text",required:e.required,placeholder:"latitude, longitude",disabled:""},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e()],1)],1)}),t._v(" "),a("el-row",{staticClass:"vertical-center margin-top-20",attrs:{gutter:10}},[a("el-col",{staticClass:"form-label",attrs:{span:24}},[t._v("\n            Role"),a("span",{staticStyle:{color:"red"}},[t._v("*")])])],1),t._v(" "),t.isRoleLoading?t._e():a("div",[a("el-row",[a("el-col",{staticClass:"text-left",attrs:{span:24}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_role,expression:"selected_role"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected_role=e.target.multiple?a:a[0]}}},[a("option",{domProps:{value:{}}},[t._v("Select profile role")]),t._v(" "),t._l(t.roles,function(e,s){return"BE Admin"!=e.name?a("option",{key:s,domProps:{value:e}},[t._v(" "+t._s(e.name)+" ")]):t._e()})],2)])],1),t._v(" "),a("el-row",{staticClass:"vertical-center margin-top-20",attrs:{gutter:10}},[a("el-col",{attrs:{span:24}},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.save()}}},[t._v("Save Profile")])],1)],1)],1),t._v(" "),t.isRoleLoading?a("el-row",{staticStyle:{margin:"10px auto"},attrs:{gutter:15}},[a("el-col",{staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:12,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1)],1):t._e()],2),t._v(" "),t.id?a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[t.id?a("h3",{staticClass:"form-section-header"},[t._v("Assigned Roles")]):t._e(),t._v(" "),t.isAssignedRolesLoading?a("el-row",{staticStyle:{margin:"10px auto"},attrs:{gutter:15}},t._l([1,2,3,4],function(t,e){return a("el-col",{key:"loader"+e,staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:12,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1)})):t._e(),t._v(" "),a("el-row",{staticClass:"vertical-center margin-top-20",attrs:{gutter:10}},[a("el-col",{staticClass:"text-left",attrs:{span:24}},t._l(t.existing_roles,function(e,s){return a("p",{key:s,staticStyle:{margin:"0px",padding:"10px"}},[a("i",{staticClass:"el-icon-circle-close-outline",staticStyle:{color:"red",cursor:"pointer"},on:{click:function(a){t.removeRole(e)}}}),t._v("    \n              "+t._s(s+1)+". "+t._s(e.name)+"\n            ")])}))],1)],1):t._e()],1)},staticRenderFns:[]};var se=a("VU/8")(ee,ae,!1,function(t){a("MC06")},null,null).exports,ie={name:"ProfileList",components:{TopBar:w},props:["app_id"],data:function(){return{selectedProfileForDelete:null,selectedIndexForDelete:null,deleteProfileDialogVisible:!1,isLoading:!1,profiles:[],selected_id:"",location:"",dialogVisible:!1}},created:function(){this.isLoading=!0,this.initProfileData()},computed:{authUser:function(){return this.$store.state.general.authUser}},methods:{goToUpdateCustomerId:function(t){null==this.profiles[t].profile.customer_id&&(this.profiles[t].profile.customer_id=""),this.$router.push({path:"/update-customer-id/"+this.app_id+"/"+this.profiles[t].profile.uuid+"/"+this.profiles[t].profile.customer_id})},deleteProfile:function(){var t=this;this.deleteProfileDialogVisible=!1,console.log("delete profile",this.selectedProfileForDelete),console.log("delete profile index",this.selectedIndexForDelete),v.post("/v1/profile/delete/",{app_id:this.app_id,p_id:this.selectedProfileForDelete.p_id}).then(function(e){console.log("deleteProfile: ",e),e.data.status&&t.profiles.splice(t.selectedIndexForDelete,1)}).catch(function(t){console.log(t)})},checkRole:function(t,e){return!!t.roles&&t.roles.some(function(t){return t.name===e})},initProfileData:function(t){v.post("/v1/profile/",{app_id:this.app_id}).then(this.getProfileCallback).catch(function(t){console.log(t)})},openProfilePreferredBrands:function(t){console.log("profile",t),this.$router.push({path:"/profile-preferred-brands/app_id/"+this.app_id+"/p_id/"+t.p_id+"/"+t.profile.username})},getProfileCallback:function(t){this.isLoading=!1,this.profiles=t.data.data},edit:function(t){this.$router.push({path:"/profile-create/"+this.app_id+"/"+this.profiles[t].profile.uuid})},openDialog:function(t){this.selected_id=this.profiles[t].profile.uuid,this.dialogVisible=!0},updateLocation:function(){this.dialogVisible=!1,v.post("/v1/add-location/",{id:this.selected_id,properties:{location:this.location}}).then(this.postUpdateCallback).catch(function(t){console.log(t)})},remove:function(t){v.post("/v1/profile/delete/",{p_id:this.profiles[t].p_id}).then(this.postRemoveCallback).catch(function(t){console.log(t)})},postUpdateCallback:function(t){t.data.status&&(this.location="",new u.a({title:"Success",description:"Location Updated successfully.",className:"notices",type:"success",duration:3}))},postRemoveCallback:function(t){t.data.status&&(new u.a({title:"Success",description:"Profile deleted successfully.",className:"notices",type:"success",duration:3}),v.post("/v1/profile/").then(this.getProfileCallback).catch(function(t){console.log(t)}))}}},oe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ProfileList"},[a("TopBar"),t._v(" "),a("el-row",{staticStyle:{margin:"0 auto",width:"90vw"},attrs:{gutter:15}},[t._l([1,2,3,4,5],function(e,s){return t.isLoading?a("el-col",{key:"loader"+s,staticStyle:{"margin-bottom":"15px"},attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-card",{staticStyle:{height:"270px"}},[a("content-placeholders",[a("content-placeholders-heading",{attrs:{img:!0}}),t._v(" "),a("content-placeholders-text",{attrs:{lines:3}}),t._v(" "),a("content-placeholders-text",{attrs:{lines:3}})],1)],1)],1):t._e()}),t._v(" "),t._l(t.profiles,function(e,s){return a("el-col",{key:s,staticStyle:{"margin-bottom":"15px"},attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-card",{staticClass:"box-card"},[a("el-dialog",{attrs:{title:"Add Location",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.location,expression:"location"}],attrs:{type:"text",placeholder:"latitude, longitude"},domProps:{value:t.location},on:{input:function(e){e.target.composing||(t.location=e.target.value)}}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.updateLocation()}}},[t._v("Confirm")])],1)]),t._v(" "),a("div",{staticStyle:{width:"100%",height:"180px","overflow-y":"auto"}},[a("el-row",{staticClass:"vertical-center text-left",staticStyle:{"background-color":"#F1F1F1",padding:"10px 15px"}},[a("el-col",{attrs:{span:8}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Attribute ")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Value ")])])],1),t._v(" "),t._l(e.profile_attributes,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[a("span",{staticStyle:{"font-size":"0.7em","font-weight":"bold"}},[t._v(t._s(e.display_name))])]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v("\n              "+t._s(e.value)+"\n            ")])],1)}),t._v(" "),a("el-row",{staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[a("span",{staticStyle:{"font-size":"0.7em","font-weight":"bold"}},[t._v("Role")])]),t._v(" "),a("el-col",{attrs:{span:16}},t._l(e.roles,function(e,s){return a("p",{key:s,staticStyle:{margin:"0px"}},[t._v(t._s(s+1)+". "+t._s(e.name)+" ")])}))],1),t._v(" "),a("el-row",{staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[a("span",{staticStyle:{"font-size":"0.7em","font-weight":"bold"}},[t._v("Username")])]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v("\n              "+t._s(e.profile.username)+"\n            ")])],1),t._v(" "),e.profile.customer_id?a("el-row",{staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[a("span",{staticStyle:{"font-size":"0.7em","font-weight":"bold"}},[t._v("Customer Id")])]),t._v(" "),a("el-col",{attrs:{span:24}},[t._v("\n              "+t._s(e.profile.customer_id)+"\n            ")])],1):t._e(),t._v(" "),a("div",{staticStyle:{"font-size":"0.8em",padding:"5px 10px"}},[t._v("\n            "+t._s(e.p_id)+"\n          ")])],2),t._v(" "),a("div",{staticClass:"text-right",staticStyle:{"margin-top":"10px"}},[t.checkRole(e,"Consumer")?a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){t.openProfilePreferredBrands(e)}}},[t._v("Preferred Brands")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){t.edit(s)}}},[t._v("Edit")]),t._v(" "),a("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){t.goToUpdateCustomerId(s)}}},[t._v("Update Customer Id")]),t._v(" "),a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){t.deleteProfileDialogVisible=!0,t.selectedIndexForDelete=s,t.selectedProfileForDelete=e}}},[t._v("Delete")])],1)],1)],1)})],2),t._v(" "),a("el-dialog",{attrs:{title:"Delete Profile",visible:t.deleteProfileDialogVisible},on:{"update:visible":function(e){t.deleteProfileDialogVisible=e}}},[a("h3",{staticStyle:{color:"tomato"}},[t._v("Are you sure? This action can not be reversed.")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.deleteProfileDialogVisible=!1,t.selectedIndexForDelete=null,t.selectedProfileForDelete=null}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.deleteProfile()}}},[t._v("Confirm")])],1)])],1)},staticRenderFns:[]},ne=a("VU/8")(ie,oe,!1,null,null,null).exports,re={name:"GeozoneCreate",components:{TopBar:w,multiselect:mt.a},props:["app_id","id"],data:function(){return{cityStateCountry:{city:"",state:"",country:""},city_state_country_dropdown:[],all_states_dropdown:[],all_city_dropdown:[],all_country_dropdown:[],isLoading:!0,name:"",city:"",state:"",country:"",img_url:"",mute_duration:0,call_to_action_text:"",takeManualCityState:!1,location:"",is_active:!0,radius:500,loitering_delay:3e4,expiry_timestamp:new Date((new Date).setFullYear((new Date).getFullYear()+1))}},validations:{name:{required:z.required},city:{},state:{},country:{},cityStateCountry:{},location:{required:z.required,isLocation:function(t){return""!=t.split(",")[0]&&void 0!=t.split(",")[0]&&""!=t.split(",")[1]&&void 0!=t.split(",")[1]&&!isNaN(parseInt(t.split(",")[0].trim()))&&!isNaN(parseInt(t.split(",")[1].trim()))}},radius:{required:z.required,minValue:Object(z.minValue)(0)},loitering_delay:{required:z.required,minValue:Object(z.minValue)(0)},mute_duration:{required:z.required,minValue:Object(z.minValue)(0),maxValue:Object(z.maxValue)(7)},expiry_timestamp:{required:z.required,greaterThanCurrentTime:function(t){return new Date(t)>new Date}}},watch:{country:function(t,e){this.all_states_dropdown=[],this.all_city_dropdown=[],t&&this.getStates()},state:function(t,e){this.all_city_dropdown=[],this.city="",t&&this.getCities()}},created:function(){var t=this;v.post("/v1/dropdowns/countries/",{}).then(function(e){console.log("geo-zone-get-countries-dropdown",e),t.all_country_dropdown=e.data.data?e.data.data.map(function(t){return t.country}):[]}).catch(function(t){console.log(t)}),v.post("/v1/dropdowns/get-all-city-state-country/",{}).then(function(e){console.log("get cities states countries dropdown",e),t.city_state_country_dropdown=e.data.data}).catch(function(t){console.log(t)}),this.id?v.post("/v1/geo-zone/get/",{g_id:this.id,app_id:this.app_id}).then(this.getGeozoneCallBack).catch(function(t){console.log(t)}):this.isLoading=!1},methods:{countryStateCityTagName:function(t){var e=t.country,a=t.state,s=t.city;if(s)return e+" -> "+a+" -> "+s},setCityStateCountry:function(t){console.log("setCityStateCountry",t),this.cityStateCountry=t,this.$v.cityStateCountry.$touch()},setMuteDuration:function(t){this.mute_duration=t,this.$v.mute_duration.$touch()},setName:function(t){this.name=t,this.$v.name.$touch()},setRadius:function(t){this.radius=t,this.$v.radius.$touch()},setLoiteringDelay:function(t){this.loitering_delay=t,this.$v.loitering_delay.$touch()},setExpiryTimestamp:function(t){console.log("setExpiryTimestamp",t),this.expiry_timestamp=t,this.$v.expiry_timestamp.$touch()},setLocation:function(t){this.location=t,this.$v.location.$touch()},getStates:function(){var t=this;v.post("/v1/dropdowns/states/",{country:this.country}).then(function(e){console.log("geo-zone-get-states-dropdown",e),t.all_states_dropdown=e.data.data?e.data.data.map(function(t){return t.state}):[]}).catch(function(t){console.log(t)})},getCities:function(){var t=this;v.post("/v1/dropdowns/cities-for-state/",{country:this.country,state:this.state}).then(function(e){console.log("geo-zone-get-cities-dropdown",e),t.all_city_dropdown=e.data.data?e.data.data.map(function(t){return t.city}):[]}).catch(function(t){console.log(t)})},convertUTCDateToLocalString:function(t){var e=60*(new Date).getTimezoneOffset()*1e3,a=new Date(t-e);return new Date(a).toISOString().replace("Z","")},getGeozoneCallBack:function(t){this.isLoading=!1,this.name=t.data.data[0].name,this.cityStateCountry.city=t.data.data[0].city,this.cityStateCountry.state=t.data.data[0].state,this.cityStateCountry.country=t.data.data[0].country,this.img_url=t.data.data[0].img_url,this.call_to_action_text=t.data.data[0].call_to_action_text,this.location=t.data.data[0].location,this.is_active=t.data.data[0].is_active,this.radius=t.data.data[0].radius,this.loitering_delay=t.data.data[0].loitering_delay,this.mute_duration=t.data.data[0].mute_duration,this.expiry_timestamp=new Date(t.data.data[0].expiry_timestamp),console.log("cityStateCountry",this.cityStateCountry)},save:function(){var t=this;if(this.$v.$touch(),this.$v.$invalid);else{console.log("Getting city state from location coordinates..."),m.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng="+this.location.replace(" ","")+"&key=AIzaSyBWx06oZ1qYEP3OLaiY-yEaTEHQ_a9nUPA").then(function(e){console.log("location response: ",e);var a=e.data.results;if(a.length){t.takeManualCityState||(t.cityStateCountry.city="",t.cityStateCountry.state="",t.cityStateCountry.country="");for(var s=0;s<a[0].address_components.length;s++){var i=a[0].address_components[s];switch(i.types[0]){case"locality":i.long_name.trim().length&&(t.cityStateCountry.city=i.long_name);break;case"administrative_area_level_1":i.long_name.trim().length&&(t.cityStateCountry.state=i.long_name);break;case"country":i.long_name.trim().length&&(t.cityStateCountry.country=i.long_name)}}}console.log("this.reverse_location",t.cityStateCountry.city,t.cityStateCountry.state,t.cityStateCountry.country),""!=t.cityStateCountry.city&&""!=t.cityStateCountry.state&&""!=t.cityStateCountry.country||t.takeManualCityState?t.cityStateCountry.city&&t.cityStateCountry.state&&t.cityStateCountry.country?(t.takeManualCityState=!1,t.storeGeozone()):console.log("please fill manual city and state..."):(console.log("could not fild city or state from location..."),t.takeManualCityState=!0)}).catch(function(t){console.log(t)})}},storeGeozone:function(){this.id?v.post("/v1/geo-zone/update/",{app_id:this.app_id,g_id:this.id,properties:{name:this.name,city:this.cityStateCountry.city,state:this.cityStateCountry.state,country:this.cityStateCountry.country,img_url:this.img_url,call_to_action_text:this.call_to_action_text,location:this.location,is_active:this.is_active,radius:parseFloat(this.radius),loitering_delay:parseFloat(this.loitering_delay),expiry_timestamp:new Date(this.expiry_timestamp).getTime(),mute_duration:Number(this.mute_duration)}}).then(this.postSaveCallBack).catch(function(t){console.log(t)}):v.post("/v1/geo-zone/create/",{app_id:this.app_id,properties:{name:this.name,city:this.cityStateCountry.city,state:this.cityStateCountry.state,country:this.cityStateCountry.country,img_url:this.img_url,location:this.location,is_active:this.is_active,call_to_action_text:this.call_to_action_text,radius:parseFloat(this.radius),loitering_delay:parseFloat(this.loitering_delay),expiry_timestamp:new Date(this.expiry_timestamp).getTime(),mute_duration:Number(this.mute_duration)}}).then(this.postSaveCallBack).catch(function(t){console.log(t)})},postSaveCallBack:function(t){if(console.log("Response: ",t),t.data.status){var e=this.id?"Zone updated successfully.":"Zone created successfully.";new u.a({title:"Success",description:e,className:"notices",type:"success",duration:3}),this.$router.push({path:"/geozone-list/"+this.app_id})}}}},le={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"GeozoneCreate"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"50vw",margin:"0 auto"}},[a("div",{staticClass:"text item"},[a("h3",{staticStyle:{"border-bottom":"1px solid #ddd",padding:"0 10px 10px 10px"}},[t._v(" Geozone - Create/Edit")]),t._v(" "),a("el-row",t._l([1,2,3,4,5],function(e,s){return t.isLoading?a("el-col",{key:"loader"+s,staticStyle:{"margin-bottom":"15px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1):t._e()})),t._v(" "),t.isLoading?t._e():a("div",[a("el-row",{staticClass:"vertical-center margin-10"},[a("el-col",{staticClass:"form__label",attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n          Name "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.name.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form__input",staticStyle:{width:"80%"},attrs:{type:"text",placeholder:"e.g. Rcity mall Ghatkopar Mumba"},domProps:{value:t.name},on:{input:[function(e){e.target.composing||(t.name=e.target.value)},function(e){t.setName(e.target.value)}]}})]),t._v(" "),t.$v.name.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")])])],1),t._v(" "),a("el-row",{staticClass:"vertical-center margin-10"},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n          Location "),a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"units"},[t._v("Lat/Long")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.location.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.location,expression:"location"}],staticClass:"form__input",staticStyle:{width:"80%"},attrs:{type:"text",placeholder:"e.g. 19.1208854, 72.9096773"},domProps:{value:t.location},on:{input:[function(e){e.target.composing||(t.location=e.target.value)},function(e){t.setLocation(e.target.value)}]}})]),t._v(" "),t.$v.location.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")]),t._v(" "),t.$v.location.isLocation?t._e():a("div",{staticClass:"error"},[t._v("Please enter valid input (lat, lng)")])])],1),t._v(" "),a("el-row",{staticClass:"vertical-center margin-10"},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n          Image url\n        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.img_url,expression:"img_url"}],staticClass:"form__input",staticStyle:{width:"80%"},attrs:{type:"text"},domProps:{value:t.img_url},on:{input:function(e){e.target.composing||(t.img_url=e.target.value)}}})])])],1),t._v(" "),a("el-row",{staticClass:"vertical-center margin-10"},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n          Mute Duration "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.mute_duration.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.mute_duration,expression:"mute_duration"}],staticClass:"form__input",staticStyle:{width:"80%"},attrs:{type:"number",placeholder:"Mute notification for days",min:"0",max:"7"},domProps:{value:t.mute_duration},on:{input:[function(e){e.target.composing||(t.mute_duration=e.target.value)},function(e){t.setMuteDuration(e.target.value)}]}})]),t._v(" "),t.$v.mute_duration.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")]),t._v(" "),t.$v.mute_duration.minValue?t._e():a("div",{staticClass:"error"},[t._v("Mute duration should be between 0-7")]),t._v(" "),t.$v.mute_duration.maxValue?t._e():a("div",{staticClass:"error"},[t._v("Mute duration should be between 0-7")])])],1),t._v(" "),a("el-row",{staticClass:"vertical-center margin-10"},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n          Call To Action Text\n        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.call_to_action_text,expression:"call_to_action_text"}],staticClass:"form__input",staticStyle:{width:"80%"},attrs:{type:"text"},domProps:{value:t.call_to_action_text},on:{input:function(e){e.target.composing||(t.call_to_action_text=e.target.value)}}})])])],1),t._v(" "),t.takeManualCityState?a("el-row",{staticClass:"vertical-center margin-10"},[a("el-col",{staticClass:"form__label",attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n          City "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.cityStateCountry.$error}},[a("multiselect",{staticStyle:{width:"80%"},attrs:{"deselect-label":"","select-label":"","show-labels":!1,placeholder:"Select City",options:t.city_state_country_dropdown,searchable:!0,"allow-empty":!0,"custom-label":t.countryStateCityTagName},on:{input:function(e){t.setCityStateCountry(t.cityStateCountry)}},model:{value:t.cityStateCountry,callback:function(e){t.cityStateCountry=e},expression:"cityStateCountry"}})],1),t._v(" "),t.$v.cityStateCountry.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")])])],1):t._e(),t._v(" "),a("el-row",{staticClass:"vertical-center margin-10"},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n          Radius "),a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" "),a("span",{staticClass:"units"},[t._v(" in meters")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.radius.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.radius,expression:"radius"}],staticClass:"form__input",staticStyle:{width:"80%"},attrs:{type:"text"},domProps:{value:t.radius},on:{input:[function(e){e.target.composing||(t.radius=e.target.value)},function(e){t.setRadius(e.target.value)}]}})]),t._v(" "),t.$v.radius.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")]),t._v(" "),t.$v.radius.minValue?t._e():a("div",{staticClass:"error"},[t._v("Raidus must be atleast "+t._s(t.$v.radius.$params.minValue.min)+" km.")])])],1),t._v(" "),a("el-row",{staticClass:"vertical-center margin-10"},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n          Loitering Delay "),a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" "),a("span",{staticClass:"units"},[t._v(" in milliseconds")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.loitering_delay.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.loitering_delay,expression:"loitering_delay"}],staticClass:"form__input",staticStyle:{width:"80%"},attrs:{type:"text"},domProps:{value:t.loitering_delay},on:{input:[function(e){e.target.composing||(t.loitering_delay=e.target.value)},function(e){t.setLoiteringDelay(e.target.value)}]}})]),t._v(" "),t.$v.loitering_delay.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")]),t._v(" "),t.$v.loitering_delay.minValue?t._e():a("div",{staticClass:"error"},[t._v("Loitering Delay must be atleast "+t._s(t.$v.loitering_delay.$params.minValue.min)+" s.")])])],1),t._v(" "),a("el-row",{staticClass:"vertical-center margin-10"},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n          Valid Until "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.expiry_timestamp.$error}},[a("el-date-picker",{attrs:{type:"datetime",format:"dd-MM-yyyy HH:mm",placeholder:"Select date and time"},on:{input:function(e){t.setExpiryTimestamp(t.expiry_timestamp)}},model:{value:t.expiry_timestamp,callback:function(e){t.expiry_timestamp=e},expression:"expiry_timestamp"}})],1),t._v(" "),t.$v.expiry_timestamp.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")]),t._v(" "),t.$v.expiry_timestamp.greaterThanCurrentTime?t._e():a("div",{staticClass:"error"},[t._v("Valid Until must be greater than current time.")])])],1),t._v(" "),a("el-row",{staticClass:"vertical-center margin-10"},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}}),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.is_active,expression:"is_active"}],attrs:{type:"checkbox",value:"true"},domProps:{checked:Array.isArray(t.is_active)?t._i(t.is_active,"true")>-1:t.is_active},on:{change:function(e){var a=t.is_active,s=e.target,i=!!s.checked;if(Array.isArray(a)){var o=t._i(a,"true");s.checked?o<0&&(t.is_active=a.concat(["true"])):o>-1&&(t.is_active=a.slice(0,o).concat(a.slice(o+1)))}else t.is_active=i}}}),t._v("\n          Is Active\n        ")])],1),t._v(" "),a("el-row",{staticClass:"vertical-center",staticStyle:{"text-align":"center","margin-top":"15px"}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[t.takeManualCityState?a("p",{staticStyle:{"margin-top":"0px",color:"red","font-size":"0.8em"}},[t._v("Error getting city state from location. Please fill manually.")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.save()}}},[t._v("Save")])],1)],1)],1)],1)])],1)},staticRenderFns:[]};var ce=a("VU/8")(re,le,!1,function(t){a("6CFs"),a("S7cG")},"data-v-053a0655",null).exports,de={name:"EngagementZoneCreate",components:{TopBar:w},props:["app_id","g_id","g_name","id"],data:function(){return{mute_duration:0,isLoaderLoading:!1,isFormLoading:!1,name:this.g_name,location:"",img_url:"",is_active:!0,radius:200,loitering_delay:1e4,expiry_timestamp:new Date((new Date).setFullYear((new Date).getFullYear()+1))}},validations:{name:{required:z.required},location:{required:z.required,isLocation:function(t){return""!=t.split(",")[0]&&void 0!=t.split(",")[0]&&""!=t.split(",")[1]&&void 0!=t.split(",")[1]&&!isNaN(parseInt(t.split(",")[0].trim()))&&!isNaN(parseInt(t.split(",")[1].trim()))}},radius:{required:z.required,minValue:Object(z.minValue)(.5)},loitering_delay:{required:z.required,minValue:Object(z.minValue)(.5)},mute_duration:{required:z.required,minValue:Object(z.minValue)(0),maxValue:Object(z.maxValue)(7)},expiry_timestamp:{required:z.required,greaterThanCurrentTime:function(t){return new Date(t)>new Date}}},created:function(){var t=this;this.isLoaderLoading=!0,this.isFormLoading=!1,v.post("/v1/geo-zone/get/",{app_id:this.app_id,g_id:this.g_id}).then(function(e){console.log("response",e),t.location=e.data.data[0].location}).catch(function(t){console.log(t)}),this.id?v.post("/v1/engagement-zone/get/",{g_id:this.g_id,app_id:this.app_id,e_id:this.id}).then(this.getEngagementzoneCallBack).catch(function(t){console.log(t)}):(this.isLoaderLoading=!1,this.isFormLoading=!0)},methods:{setMuteDuration:function(t){this.mute_duration=t,this.$v.mute_duration.$touch()},setName:function(t){this.name=t,this.$v.name.$touch()},setRadius:function(t){this.radius=t,this.$v.radius.$touch()},setLoiteringDelay:function(t){this.loitering_delay=t,this.$v.loitering_delay.$touch()},setExpiryTimestamp:function(t){this.expiry_timestamp=t,this.$v.expiry_timestamp.$touch()},setLocation:function(t){this.location=t,this.$v.location.$touch()},convertUTCDateToLocalString:function(t){var e=60*(new Date).getTimezoneOffset()*1e3,a=new Date(t-e);return new Date(a).toISOString().replace("Z","")},getEngagementzoneCallBack:function(t){this.isLoaderLoading=!1,this.isFormLoading=!0,this.name=t.data.data[0].name,this.location=t.data.data[0].location,this.is_active=t.data.data[0].is_active,this.img_url=t.data.data[0].img_url,this.radius=t.data.data[0].radius,this.loitering_delay=t.data.data[0].loitering_delay,this.mute_duration=t.data.data[0].mute_duration,this.expiry_timestamp=new Date(t.data.data[0].expiry_timestamp)},save:function(){this.$v.$touch(),this.$v.$invalid||(this.id?(console.log("else",this.id),v.post("/v1/engagement-zone/update/",{app_id:this.app_id,g_id:this.g_id,e_id:this.id,properties:{name:this.name,location:this.location,img_url:this.img_url,is_active:this.is_active,radius:parseFloat(this.radius),loitering_delay:parseFloat(this.loitering_delay),expiry_timestamp:new Date(this.expiry_timestamp).getTime(),mute_duration:Number(this.mute_duration)}}).then(this.postSaveCallBack).catch(function(t){console.log(t)})):(console.log("if",this.id),v.post("/v1/engagement-zone/create/",{app_id:this.app_id,g_id:this.g_id,properties:{name:this.name,location:this.location,img_url:this.img_url,is_active:this.is_active,radius:parseFloat(this.radius),loitering_delay:parseFloat(this.loitering_delay),expiry_timestamp:new Date(this.expiry_timestamp).getTime(),mute_duration:Number(this.mute_duration)}}).then(this.postSaveCallBack).catch(function(t){console.log(t)})))},postSaveCallBack:function(t){if(console.log("Response: ",t),t.data.status){var e=this.id?"Engagement Zone updated successfully.":"Engagement Zone created successfully.";new u.a({title:"Success",description:e,className:"notices",type:"success",duration:3}),this.$router.push({path:"/engagement-zone-list/"+this.app_id+"/"+this.g_id})}}}},me={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"EngagementZoneCreate"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"50vw",margin:"0 auto"}},[a("h3",[t._v(" Engagement Zone - Create/ Edit")]),t._v(" "),a("el-row",t._l([1,2,3,4,5,6,7],function(e,s){return t.isLoaderLoading?a("el-col",{key:"loader"+s,staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1):t._e()})),t._v(" "),t.isFormLoading?a("div",{staticClass:"text item"},[a("el-row",{staticClass:"vertical-center margin-10"},[a("el-col",{staticClass:"form__label",attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n          Name "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.name.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form__input",staticStyle:{width:"80%"},attrs:{type:"text",placeholder:"e.g. Rcity mal"},domProps:{value:t.name},on:{input:[function(e){e.target.composing||(t.name=e.target.value)},function(e){t.setName(e.target.value)}]}})]),t._v(" "),t.$v.name.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")])])],1),t._v(" "),a("el-row",{staticClass:"vertical-center margin-10"},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n          Radius "),a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" "),a("span",{staticClass:"units"},[t._v(" in meters")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.radius.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.radius,expression:"radius"}],staticClass:"form__input",staticStyle:{width:"80%"},attrs:{type:"text"},domProps:{value:t.radius},on:{input:[function(e){e.target.composing||(t.radius=e.target.value)},function(e){t.setRadius(e.target.value)}]}})]),t._v(" "),t.$v.radius.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")]),t._v(" "),t.$v.radius.minValue?t._e():a("div",{staticClass:"error"},[t._v("Raidus must be atleast "+t._s(t.$v.radius.$params.minValue.min)+" km.")])])],1),t._v(" "),a("el-row",{staticClass:"vertical-center margin-10"},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n          Loitering Delay "),a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" "),a("span",{staticClass:"units"},[t._v(" in milliseconds")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.loitering_delay.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.loitering_delay,expression:"loitering_delay"}],staticClass:"form__input",staticStyle:{width:"80%"},attrs:{type:"text"},domProps:{value:t.loitering_delay},on:{input:[function(e){e.target.composing||(t.loitering_delay=e.target.value)},function(e){t.setLoiteringDelay(e.target.value)}]}})]),t._v(" "),t.$v.loitering_delay.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")]),t._v(" "),t.$v.loitering_delay.minValue?t._e():a("div",{staticClass:"error"},[t._v("Loitering Delay must be atleast "+t._s(t.$v.loitering_delay.$params.minValue.min)+" s.")])])],1),t._v(" "),a("el-row",{staticClass:"vertical-center margin-10"},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n          Location "),a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" "),a("span",{staticClass:"units"},[t._v("Lat/Lng")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.location.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.location,expression:"location"}],staticClass:"form__input",staticStyle:{width:"80%"},attrs:{type:"text",placeholder:"e.g. 19.1208854, 72.9096773"},domProps:{value:t.location},on:{input:[function(e){e.target.composing||(t.location=e.target.value)},function(e){t.setLocation(e.target.value)}]}})]),t._v(" "),t.$v.location.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")]),t._v(" "),t.$v.location.isLocation?t._e():a("div",{staticClass:"error"},[t._v("Please enter valid input (lat, lng)")])])],1),t._v(" "),a("el-row",{staticClass:"vertical-center margin-10"},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n          Valid Until "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.expiry_timestamp.$error}},[a("el-date-picker",{attrs:{type:"datetime",format:"dd-MM-yyyy HH:mm",placeholder:"Select date and time"},on:{input:function(e){t.setExpiryTimestamp(t.expiry_timestamp)}},model:{value:t.expiry_timestamp,callback:function(e){t.expiry_timestamp=e},expression:"expiry_timestamp"}})],1),t._v(" "),t.$v.expiry_timestamp.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")]),t._v(" "),t.$v.expiry_timestamp.greaterThanCurrentTime?t._e():a("div",{staticClass:"error"},[t._v("Valid Until must be greater than current time.")])])],1),t._v(" "),a("el-row",{staticClass:"vertical-center margin-10"},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n          Image url\n        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.img_url,expression:"img_url"}],staticClass:"form__input",staticStyle:{width:"80%"},attrs:{type:"text"},domProps:{value:t.img_url},on:{input:function(e){e.target.composing||(t.img_url=e.target.value)}}})])])],1),t._v(" "),a("el-row",{staticClass:"vertical-center margin-10"},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n          Mute Duration "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.mute_duration.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.mute_duration,expression:"mute_duration"}],staticClass:"form__input",staticStyle:{width:"80%"},attrs:{type:"number",placeholder:"Mute notification for days",min:"0",max:"7"},domProps:{value:t.mute_duration},on:{input:[function(e){e.target.composing||(t.mute_duration=e.target.value)},function(e){t.setMuteDuration(e.target.value)}]}})]),t._v(" "),t.$v.mute_duration.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")]),t._v(" "),t.$v.mute_duration.minValue?t._e():a("div",{staticClass:"error"},[t._v("Mute duration should be between 0-7")]),t._v(" "),t.$v.mute_duration.maxValue?t._e():a("div",{staticClass:"error"},[t._v("Mute duration should be between 0-7")])])],1),t._v(" "),a("el-row",{staticClass:"vertical-center margin-10"},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}}),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.is_active,expression:"is_active"}],attrs:{type:"checkbox",value:"true"},domProps:{checked:Array.isArray(t.is_active)?t._i(t.is_active,"true")>-1:t.is_active},on:{change:function(e){var a=t.is_active,s=e.target,i=!!s.checked;if(Array.isArray(a)){var o=t._i(a,"true");s.checked?o<0&&(t.is_active=a.concat(["true"])):o>-1&&(t.is_active=a.slice(0,o).concat(a.slice(o+1)))}else t.is_active=i}}}),t._v("\n          Is Active\n        ")])],1),t._v(" "),a("el-row",{staticClass:"vertical-center",staticStyle:{"text-align":"center","margin-top":"25px"}},[a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.save()}}},[t._v("Save")])],1)],1)],1):t._e()],1)],1)},staticRenderFns:[]};var pe=a("VU/8")(de,me,!1,function(t){a("KDd/")},"data-v-980bc404",null).exports,ue={name:"GeozoneList",props:["app_id"],components:{TopBar:w},data:function(){return{resultLength0:!1,isLoading:!1,geozones:[]}},created:function(){this.isLoading=!0,this.resultLength0=!1,v.post("/v1/geo-zone/",{app_id:this.app_id}).then(this.getGeozoneCallback).catch(function(t){console.log(t)})},methods:{openEngagementZoneList:function(t){this.$router.push({path:"/engagement-zone-list/"+this.app_id+"/"+t.g_id})},getGeozoneCallback:function(t){this.isLoading=!1,t.data.status&&(this.geozones=t.data.data,this.geozones.length||(this.resultLength0=!0))},edit:function(t){var e=this.geozones[t].g_id;this.$router.push({path:"/geozone-create/"+this.app_id+"/"+e})},remove:function(t){v.post("/v1/geo-zone/delete/",{app_id:this.app_id,g_id:this.geozones[t].g_id}).then(this.postRemoveCallback).catch(function(t){console.log(t)})},postRemoveCallback:function(t){t.data.status&&(new u.a({title:"Success",description:"Zone deleted successfully.",className:"notices",type:"success",duration:3}),v.post("/v1/geo-zone/",{app_id:this.app_id}).then(this.getGeozoneCallback).catch(function(t){console.log(t)}))},redirectToBack:function(){this.$router.go(-1)}}},_e={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"GeozoneList"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.redirectToBack()}}},[t._v("App Dashboard >  ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Geozones")]),t._v(" "),a("router-link",{attrs:{to:{path:"/geozone-create/"+t.app_id+"/"}}},[a("el-button",{attrs:{type:"success",size:"mini"}},[t._v("New Geozone")])],1)],1)]),t._v(" "),a("div",{staticClass:"text item"},[a("el-row",t._l([1,2,3,4,5,6],function(e,s){return t.isLoading?a("el-col",{key:"loader"+s,staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1):t._e()})),t._v(" "),t.isLoading?t._e():a("el-row",{staticClass:"vertical-center margin-bottom-10 bold",staticStyle:{"font-size":"0.8em","border-bottom":"1px solid #eee","padding-bottom":"10px"}},[a("el-col",{attrs:{xs:24,sm:5,md:5,lg:5,xl:5}},[t._v("\n            Name\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n            Location\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:3,md:3,lg:3,xl:3}},[t._v("\n            City\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:3,md:3,lg:3,xl:3}},[t._v("\n            Loitering Delay\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:3,md:3,lg:3,xl:3}},[t._v("\n            Status\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:2,md:2,lg:2,xl:2}},[t._v("\n            Size\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n              Actions\n          ")])],1),t._v(" "),a("el-row",{staticClass:"vertical-center margin-bottom-10"},[t.resultLength0&&!t.isLoading?a("el-col",{attrs:{span:24}},[a("h5",{staticStyle:{color:"#666"}},[t._v(" No Result Found...")])]):t._e()],1),t._v(" "),t._l(t.geozones,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center margin-bottom-10",staticStyle:{"font-size":"0.8em"}},[a("el-col",{attrs:{xs:24,sm:5,md:5,lg:5,xl:5}},[t._v("\n            "+t._s(e.name)+"\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[t._v("\n            "+t._s(e.location)+"\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:3,md:3,lg:3,xl:3}},[t._v("\n            "+t._s(e.city)+"\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:3,md:3,lg:3,xl:3}},[t._v("\n            "+t._s(e.loitering_delay)+" "),e.loitering_delay?a("span",[t._v("msecs")]):t._e()]),t._v(" "),a("el-col",{attrs:{xs:24,sm:3,md:3,lg:3,xl:3}},[t._v("\n            "+t._s(e.is_active?"Active":"Disabled")+"\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:2,md:2,lg:2,xl:2}},[t._v("\n            "+t._s(e.radius)+"m\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[a("span",[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){t.remove(s)}}},[t._v("Delete")]),t._v(" |\n            ")],1),t._v(" "),a("span"),t._v(" "),a("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){t.edit(s)}}},[t._v("Edit")]),t._v(" |\n            "),a("span",[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){t.openEngagementZoneList(e)}}},[t._v("Details")])],1)],1)],1)})],2)])],1)},staticRenderFns:[]},ve=a("VU/8")(ue,_e,!1,null,null,null).exports,fe=function(t){return new Date(t)>new Date},ge={name:"GeozoneNotificationCreate",components:{TopBar:w},props:["app_id","nt_id","g_id"],data:function(){return{inventory_request_params:"",isInventoryRequestInputVisible:!1,textPlaceholder:"Welcome {{user_name}} to {{geozone_name}}",subTextPlaceholder:"{{consumer_preferred_brands}} here",showLoader:!0,showForm:!1,type:"GEOZONE",available_wildcards:["{{user_name}}","{{store_name}}","{{geozone_name}}","{{ezone_name}}"],available_wildcards_sub_text:["{{consumer_preferred_brands}}"],selected_notification_type:null,selected_notification_action_type:null,create_notification_inprocess:!1,notification:{isActive:!0,text:"",sub_text:"",image_url:"",action_url:"",validity_start:new Date,validity_end:new Date((new Date).setFullYear((new Date).getFullYear()+1))},notification_types:[],notification_types_ready:!1,notification_action_types:[],notification_action_types_ready:!1,active_days:{SUNDAY:"0800-1700",MONDAY:"0800-1700",TUESDAY:"0800-1700",WEDNESDAY:"0800-1700",THURSDAY:"0800-1700",FRIDAY:"0800-1700",SATURDAY:"0800-1700"}}},validations:{name:{required:z.required},image_url:{required:z.required,url:z.url},action_url:{required:z.required,url:z.url},validity_start:{required:z.required,greaterThanCurrentTime:fe},validity_end:{required:z.required,greaterThanCurrentTime:fe,greaterThanStartTime:function(t){return new Date(t)>new Date(this.validity_start)}},selected_type:{required:z.required}},created:function(){this.getNotificationTypes()},methods:{showInventoryRequestInput:function(){"Inventory"==this.selected_notification_type.name?this.isInventoryRequestInputVisible=!0:(this.inventory_request_params="",this.isInventoryRequestInputVisible=!1)},set_validity_end:function(t){console.log(new Date(new Date(t).setFullYear(new Date(t).getFullYear()+1))),this.notification.validity_end=new Date(new Date(t).setFullYear(new Date(t).getFullYear()+1))},getNotificationTypes:function(){var t=this;v.post("/v1/notification-types/get/",{}).then(function(e){t.notification_types=e.data.data[0].notification_types,t.notification_types.forEach(function(e){"Subscription"==e.name&&(t.notification_types_ready=!0,t.selected_notification_type=e)}),t.getNotificationActionTypes()}).catch(function(t){console.log(t)})},getNotificationActionTypes:function(){var t=this;v.post("/v1/notification-action-types/get/",{}).then(function(e){t.notification_action_types=e.data.data[0].notification_action_types,t.notification_action_types.forEach(function(e){"Entry"==e.name&&(t.selected_notification_action_type=e)}),t.notification_action_types_ready=!0,t.nt_id?(t.showLoader=!0,t.showForm=!1,t.loadNotification()):(t.showLoader=!1,t.showForm=!0)}).catch(function(t){console.log(t)})},loadNotification:function(){var t=this;v.post("/v1/app/notification-for-edit/",{app_id:this.app_id,search_for:this.type,nt_id:this.nt_id}).then(function(e){t.showLoader=!1,t.showForm=!0,console.log("notification-for-edit: ",e.data.data[0]),t.notification.isActive=e.data.data[0].notification[0].isActive,t.notification.text=e.data.data[0].notification[0].text,t.notification.sub_text=e.data.data[0].notification[0].sub_text,t.notification.image_url=e.data.data[0].notification[0].image_url,t.notification.notification_match_type=e.data.data[0].notification[0].notification_match_type,t.notification.action_url=e.data.data[0].notification[0].action_url,t.inventory_request_params=e.data.data[0].notification[0].inventory_request_params,t.notification.validity_start=new Date(e.data.data[0].notification[0].validity_start),t.notification.validity_end=new Date(e.data.data[0].notification[0].validity_end);try{var a=JSON.parse(e.data.data[0].notification[0].active_days),s=a.hasOwnProperty("SUNDAY")&&a.hasOwnProperty("MONDAY")&&a.hasOwnProperty("TUESDAY")&&a.hasOwnProperty("WEDNESDAY")&&a.hasOwnProperty("THURSDAY")&&a.hasOwnProperty("FRIDAY")&&a.hasOwnProperty("SATURDAY");t.active_days=s?a:t.active_days}catch(t){console.log("active_days JSON parse error, setting default")}var i=t.notification_types.findIndex(function(t){return t.uuid==e.data.data[0].notification_type[0].uuid});t.selected_notification_type=t.notification_types[i],console.log("notification_types_index",i),t.showInventoryRequestInput();var o=t.notification_action_types.findIndex(function(t){return t.uuid==e.data.data[0].notification_action_type[0].uuid});t.selected_notification_action_type=t.notification_action_types[o],console.log("notification_action_types_index",o)}).catch(function(t){console.log(t)})},setName:function(t){this.name=t,this.$v.name.$touch()},setImageUrl:function(t){this.image_url=t,this.$v.image_url.$touch()},setActionUrl:function(t){this.action_url=t,this.$v.action_url.$touch()},setValidityStart:function(t){this.validity_start=t,this.$v.validity_start.$touch()},setValidityEnd:function(t){this.validity_end=t,this.$v.validity_end.$touch()},setSelectedType:function(t){this.selected_type=t,this.$v.selected_type.$touch()},getNotificationTypeCallBack:function(t){this.notificationTypes=t.data.data[0].notification_types},updateNotification:function(t){var e=this;if(this.notification.text&&this.notification.validity_start&&this.notification.validity_end&&this.notification.notification_match_type&&this.selected_notification_type&&this.selected_notification_action_type){this.create_notification_inprocess=!0;var a="",s={};s.app_id=this.app_id,s.nt_id=this.nt_id,s.notification=JSON.parse(c()(this.notification)),s.notification.validity_start=new Date(s.notification.validity_start).getTime(),s.notification.validity_end=new Date(s.notification.validity_end).getTime(),s.action_type=this.selected_notification_action_type,s.notification_type=this.selected_notification_type,s.active_days=this.active_days,s.inventory_request_params=this.inventory_request_params,"GEOZONE"==this.type?(s.selected_match_type_brands=[],a="/v1/geozone/notification/update/",s.g_id=[this.g_id]):"STORE"==this.type&&(s.selected_match_type_brands=[],a="/v1/store/notification/update/",s.st_id=[this.st_id]),console.log("payload",s),v.post(a,s).then(function(t){t.data.status&&new u.a({title:"Success",description:"Notification created successfully.",className:"notices",type:"success",duration:3}),e.create_notification_inprocess=!1,console.log("create notification reaponse: ",t)}).catch(function(t){console.log(t)})}},saveNotification:function(t){var e=this;if(this.notification.text&&this.notification.validity_start&&this.notification.validity_end&&this.notification.notification_match_type&&this.selected_notification_type&&this.selected_notification_action_type){this.create_notification_inprocess=!0;var a="",s={};s.app_id=this.app_id,s.notification=JSON.parse(c()(this.notification)),s.notification.validity_start=new Date(s.notification.validity_start).getTime(),s.notification.validity_end=new Date(s.notification.validity_end).getTime(),s.action_type=this.selected_notification_action_type,s.notification_type=this.selected_notification_type,s.active_days=this.active_days,s.inventory_request_params=this.inventory_request_params,"GEOZONE"==t?(s.selected_match_type_brands=[],a="/v1/geozone/notification/create/",s.g_id=[this.g_id]):"STORE"==t&&(s.selected_match_type_brands=this.selected_match_type_brands.map(function(t){return t.br_id}),a="/v1/store/notification/create/",s.st_id=[this.st_id]),console.log("payload",s),v.post(a,s).then(function(t){t.data.status&&new u.a({title:"Success",description:"Notification created successfully.",className:"notices",type:"success",duration:3}),e.create_notification_inprocess=!1,console.log("create notification reaponse: ",t)}).catch(function(t){console.log(t)})}},save:function(){this.nt_id?this.updateNotification("GEOZONE"):this.saveNotification("GEOZONE")},convertUTCDateToLocalString:function(t){var e=60*(new Date).getTimezoneOffset()*1e3,a=new Date(t-e);return new Date(a).toISOString().replace("Z","")},postGNUpadateCallBack:function(t){this.name=t.data.data[0].notification[0].text,this.image_url=t.data.data[0].notification[0].image_url,this.action_url=t.data.data[0].notification[0].action_url,this.validity_start=this.convertUTCDateToLocalString(t.data.data[0].notification[0].validity_start),this.validity_end=this.convertUTCDateToLocalString(t.data.data[0].notification[0].validity_end),this.selected_type=t.data.data[0].notification_type[0]},postSaveCallBack:function(t){console.log("Response: ",t),t.data.status&&(new u.a({title:"Success",description:"Zone Notification created successfully.",className:"notices",type:"success",duration:3}),this.$router.push({path:"/engagement-zone-list/"+this.app_id+"/"+this.g_id}))}}},he={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"GeozoneNotificationCreate"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"0px 20px","min-height":"90vh"}},[a("h4",[t._v("Zone Notification")]),t._v(" "),a("el-row",t._l([1,2,3,4,5,6,7],function(e,s){return t.showLoader?a("el-col",{key:"loader"+s,staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1):t._e()})),t._v(" "),t.showForm?a("el-row",{staticStyle:{padding:"20px 20px","border-top":"1px solid #EEE"},attrs:{gutter:10}},[a("el-col",{attrs:{span:24}},[a("label",{attrs:{for:""}},[t._v("Text"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.notification.text,expression:"notification.text"}],staticClass:"form-input",attrs:{"auto-complete":"off",placeholder:t.textPlaceholder},domProps:{value:t.notification.text},on:{input:function(e){e.target.composing||t.$set(t.notification,"text",e.target.value)}}}),t._v(" "),a("p",{staticClass:"margin-bottom-15",staticStyle:{"font-size":"0.8em",color:"#999","margin-top":"0px","font-weight":"bold"}},[t._v("available wildcards "),t._l(t.available_wildcards,function(e){return a("span",[t._v(t._s(e)+", ")])})],2)]),t._v(" "),a("el-col",{attrs:{span:24}},[a("label",{attrs:{for:""}},[t._v("Sub-Text")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.notification.sub_text,expression:"notification.sub_text"}],staticClass:"form-input margin-bottom-15",attrs:{"auto-complete":"off",placeholder:t.subTextPlaceholder},domProps:{value:t.notification.sub_text},on:{input:function(e){e.target.composing||t.$set(t.notification,"sub_text",e.target.value)}}}),t._v(" "),a("p",{staticClass:"margin-bottom-15",staticStyle:{"font-size":"0.8em",color:"#999","margin-top":"0px","font-weight":"bold"}},[t._v("available wildcards "),t._l(t.available_wildcards_sub_text,function(e){return a("span",[t._v(t._s(e)+", ")])})],2)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",{attrs:{for:""}},[t._v("Image URL")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.notification.image_url,expression:"notification.image_url"}],staticClass:"form-input margin-bottom-15",attrs:{"auto-complete":"off",placeholder:"image_url"},domProps:{value:t.notification.image_url},on:{input:function(e){e.target.composing||t.$set(t.notification,"image_url",e.target.value)}}})]),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",{attrs:{for:""}},[t._v("Action URL")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.notification.action_url,expression:"notification.action_url"}],staticClass:"form-input margin-bottom-15",attrs:{"auto-complete":"off",placeholder:"action_url"},domProps:{value:t.notification.action_url},on:{input:function(e){e.target.composing||t.$set(t.notification,"action_url",e.target.value)}}})]),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",{attrs:{for:""}},[t._v("Start Date"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("br"),t._v(" "),a("el-date-picker",{attrs:{type:"datetime",format:"dd-MM-yyyy HH:mm",placeholder:"Select date and time"},on:{input:function(e){t.set_validity_end(t.notification.validity_start)}},model:{value:t.notification.validity_start,callback:function(e){t.$set(t.notification,"validity_start",e)},expression:"notification.validity_start"}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",{attrs:{for:""}},[t._v("Valid Untill"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("br"),t._v(" "),a("el-date-picker",{attrs:{type:"datetime",format:"dd-MM-yyyy HH:mm",placeholder:"Select date and time"},model:{value:t.notification.validity_end,callback:function(e){t.$set(t.notification,"validity_end",e)},expression:"notification.validity_end"}})],1),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:8}},[a("label",{attrs:{for:""}},[t._v(" Matching Type"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.notification.notification_match_type,expression:"notification.notification_match_type"}],attrs:{placeholder:"Please select notification match type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.notification,"notification_match_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{label:"General",value:"GENERAL"}}),t._v(" "),a("option",{directives:[{name:"show",rawName:"v-show",value:"GEOZONE"!=t.type,expression:"type!='GEOZONE'"}],attrs:{label:"Multi Match Brand",value:"MULTI_MATCH_BRAND"}}),t._v(" "),a("option",{directives:[{name:"show",rawName:"v-show",value:"GEOZONE"!=t.type,expression:"type!='GEOZONE'"}],attrs:{label:"Multi Match Store",value:"MULTI_MATCH_STORE"}}),t._v(" "),a("option",{directives:[{name:"show",rawName:"v-show",value:"GEOZONE"!=t.type,expression:"type!='GEOZONE'"}],attrs:{label:"Brand",value:"BRAND"}})])]),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:8}},[a("label",{attrs:{for:""}},[t._v(" Notification Type"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_notification_type,expression:"selected_notification_type"}],attrs:{placeholder:"Please select notification type"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected_notification_type=e.target.multiple?a:a[0]},t.showInventoryRequestInput]}},t._l(t.notification_types,function(t,e){return a("option",{key:e,attrs:{label:t.name},domProps:{value:t}})}))]),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:8}},[a("label",{attrs:{for:""}},[t._v(" Action Type"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_notification_action_type,expression:"selected_notification_action_type"}],attrs:{placeholder:"Please select notification type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected_notification_action_type=e.target.multiple?a:a[0]}}},t._l(t.notification_action_types,function(t,e){return a("option",{directives:[{name:"show",rawName:"v-show",value:"In Store"!=t.name,expression:"item.name!='In Store'"}],key:e,attrs:{label:t.name},domProps:{value:t}})}))]),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:24}},[a("label",[t._v("Inventory Request Params")]),t._v(" "),t.isInventoryRequestInputVisible?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.inventory_request_params,expression:"inventory_request_params"}],staticClass:"form-textarea",domProps:{value:t.inventory_request_params},on:{input:function(e){e.target.composing||(t.inventory_request_params=e.target.value)}}}):t._e()]),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:3}},[a("el-checkbox",{attrs:{label:"Is Active",name:"isActive"},model:{value:t.notification.isActive,callback:function(e){t.$set(t.notification,"isActive",e)},expression:"notification.isActive"}})],1),t._v(" "),t._l(t.active_days,function(e,s){return a("el-col",{key:s,staticClass:"margin-bottom-15",attrs:{span:3}},[a("label",{attrs:{for:""}},[t._v(t._s(s)),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("input",{directives:[{name:"mask",rawName:"v-mask",value:"####-####",expression:"'####-####'"},{name:"model",rawName:"v-model",value:t.active_days[s],expression:"active_days[day]"}],staticClass:"form-input",domProps:{value:t.active_days[s]},on:{input:function(e){e.target.composing||t.$set(t.active_days,s,e.target.value)}}})])}),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:24}},["GEOZONE"==t.type?a("el-button",{attrs:{type:"primary",loading:t.create_notification_inprocess},nativeOn:{click:function(e){t.save(t.type)}}},[t._v("Save Zone Notification")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.create_notification_inprocess=!1}}},[t._v("Cancel")])],1)],2):t._e()],1)],1)},staticRenderFns:[]};var ye=a("VU/8")(ge,he,!1,function(t){a("+iWZ"),a("Sh2q")},"data-v-e654ca10",null).exports,xe={name:"ConsumerCreate",components:{TopBar:w},props:["app_id","id"],data:function(){return{profile_attributes:[],dynamic_form_model:{},username:"",password:""}},created:function(){this.id?v.post("/v1/profile/get/",{app_id:this.app_id,p_id:this.id}).then(this.getProfileCallBack).catch(function(t){console.log(t)}):v.post("/v1/profile-config/",{app_id:this.app_id}).then(this.getProfileConfigCallback).catch(function(t){console.log(t)})},methods:{getProfileConfigCallback:function(t){var e=this;t.data.status&&(this.profile_attributes=t.data.data[0].profile_attributes,this.dynamic_form_model={},this.profile_attributes.forEach(function(t,a){e.$set(e.dynamic_form_model,t.key,Jt()({},t,{value:"",isFormFieldValid:!0}))}))},getProfileCallBack:function(t){var e=this;t.data.status&&(this.profile_attributes=t.data.data[0].profile_attributes,"username"in t.data.data[0].profile&&(this.username=t.data.data[0].profile.username),this.dynamic_form_model={},this.profile_attributes.forEach(function(t,a){e.$set(e.dynamic_form_model,t.key,Jt()({},t,{isFormFieldValid:!0}))}))},validateProfile:function(){var t=!0;for(var e in this.dynamic_form_model)console.log(this.dynamic_form_model[e]),this.dynamic_form_model[e].required&&!(""+this.dynamic_form_model[e].value).trim()?(t=!1,this.dynamic_form_model[e].isFormFieldValid=!1):this.dynamic_form_model[e].isFormFieldValid=!0;return t},save:function(){console.log(this.dynamic_form_model),this.validateProfile()?(console.log("valid profile"),console.log(this.dynamic_form_model),this.id?v.post("/v1/profile/update/",{app_id:this.app_id,p_id:this.id,properties:this.dynamic_form_model}).then(this.postSaveCallBack).catch(function(t){console.log(t)}):v.post("/v1/profile/create-register/",{app_id:this.app_id,username:this.username,password:this.password,properties:this.dynamic_form_model}).then(this.postSaveCallBack).catch(function(t){console.log(t)})):(console.log("invalid profile"),console.log(this.dynamic_form_model))},postSaveCallBack:function(t){console.log("Response: ",t,this.app_id),t.data.status&&(new u.a({title:"Success",description:"Consumer created successfully.",className:"notices",type:"success",duration:3}),this.$router.push({path:"/consumer-list/"+this.app_id}))}}},be={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ConsumerCreate"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"text item"},[t.id?t._e():a("el-row",{staticClass:"vertical-center margin-top-20",attrs:{gutter:10}},[a("el-col",{staticClass:"text-right",attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n          Username\n        ")]),t._v(" "),a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])],1),t._v(" "),t.id?t._e():a("el-row",{staticClass:"vertical-center margin-top-20",attrs:{gutter:10}},[a("el-col",{staticClass:"text-right",attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n          Password\n        ")]),t._v(" "),a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])],1),t._v(" "),t._l(t.profile_attributes,function(e,s){return a("div",{key:s},[e.required?a("el-row",{staticClass:"vertical-center margin-top-20",attrs:{gutter:10}},[a("el-col",{staticClass:"text-right",attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n            "+t._s(e.display_name)+" *\n          ")]),t._v(" "),"text"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"text",required:""},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"text_area"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{rows:"4",cols:"50",required:""},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"checkbox"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"checkbox",required:""},domProps:{checked:Array.isArray(t.dynamic_form_model[e.key].value)?t._i(t.dynamic_form_model[e.key].value,null)>-1:t.dynamic_form_model[e.key].value},on:{change:function(a){var s=t.dynamic_form_model[e.key].value,i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=t._i(s,null);i.checked?n<0&&t.$set(t.dynamic_form_model[e.key],"value",s.concat([null])):n>-1&&t.$set(t.dynamic_form_model[e.key],"value",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.dynamic_form_model[e.key],"value",o)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"number"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"number",required:""},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"tel"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"tel",required:""},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"float"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"number",required:""},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"date"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"date",required:""},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"time"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"time",required:""},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"password"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"password",required:""},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"geo_point"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"text",required:"",placeholder:"latitude, longitude"},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e()],1):a("el-row",{staticClass:"vertical-center margin-top-20",attrs:{gutter:10}},[a("el-col",{staticClass:"text-right",attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n            "+t._s(e.display_name)+"\n          ")]),t._v(" "),"text"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"text"},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}})]):t._e(),t._v(" "),"text_area"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{rows:"4",cols:"50"},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}})]):t._e(),t._v(" "),"checkbox"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.dynamic_form_model[e.key].value)?t._i(t.dynamic_form_model[e.key].value,null)>-1:t.dynamic_form_model[e.key].value},on:{change:function(a){var s=t.dynamic_form_model[e.key].value,i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=t._i(s,null);i.checked?n<0&&t.$set(t.dynamic_form_model[e.key],"value",s.concat([null])):n>-1&&t.$set(t.dynamic_form_model[e.key],"value",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.dynamic_form_model[e.key],"value",o)}}})]):t._e(),t._v(" "),"number"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"number"},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}})]):t._e(),t._v(" "),"tel"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"tel"},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}})]):t._e(),t._v(" "),"float"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"number"},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}})]):t._e(),t._v(" "),"date"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"date"},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}})]):t._e(),t._v(" "),"time"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"time"},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}})]):t._e(),t._v(" "),"password"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"password"},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}})]):t._e(),t._v(" "),"geo_point"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"text",required:"",placeholder:"latitude, longitude"},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}})]):t._e()],1)],1)})],2)]),t._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.save()}}},[t._v("Save Profile")])],1)},staticRenderFns:[]};var Ae=a("VU/8")(xe,be,!1,function(t){a("Tfae")},null,null).exports,Ce={name:"ProfileList",components:{TopBar:w},props:["app_id"],data:function(){return{profiles:[],selected_id:"",location:"",dialogVisible:!1}},created:function(){v.post("/v1/profile/consumer/",{app_id:this.app_id}).then(this.getProfileCallback).catch(function(t){console.log(t)})},methods:{getProfileCallback:function(t){this.profiles=t.data.data},edit:function(t){var e=this.profiles[t].profile.uuid;this.$router.push({path:"/consumer-create/"+this.app_id+"/"+e})},openDialog:function(t){this.selected_id=this.profiles[t].profile.uuid,this.dialogVisible=!0},updateLocation:function(){this.dialogVisible=!1,v.post("/v1/add-location/",{id:this.selected_id,properties:{location:this.location}}).then(this.postUpdateCallback).catch(function(t){console.log(t)})},remove:function(t){v.post("/v1/profile/delete/",{p_id:this.profiles[t].p_id}).then(this.postRemoveCallback).catch(function(t){console.log(t)})},postUpdateCallback:function(t){t.data.status&&(this.location="",new u.a({title:"Success",description:"Location Updated successfully.",className:"notices",type:"success",duration:3}))},postRemoveCallback:function(t){t.data.status&&(new u.a({title:"Success",description:"Profile deleted successfully.",className:"notices",type:"success",duration:3}),v.post("/v1/profile/").then(this.getProfileCallback).catch(function(t){console.log(t)}))}}},we={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ProfileList"},[a("TopBar"),t._v(" "),t._l(t.profiles,function(e,s){return a("div",{key:s},[a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"clearfix",staticStyle:{display:"flex"},attrs:{slot:"header"},slot:"header"},[a("h2",{staticStyle:{"font-weight":"bold",margin:"auto"}},[t._v(t._s(e.profile.uuid))]),t._v(" "),a("div",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.edit(s)}}},[t._v("Edit")]),t._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.openDialog(s)}}},[t._v("Update Location")])],1)]),t._v(" "),a("div",{staticClass:"text item"},[a("el-row",{staticClass:"vertical-center text-center"},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[a("h3",[t._v(" Name ")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[a("h3",[t._v(" Key ")])]),t._v(" "),a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[a("h3",[t._v(" Value ")])])],1),t._v(" "),t._l(e.profile_attributes,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center text-center"},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n            "+t._s(e.display_name)+"\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n            "+t._s(e.key)+"\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n            "+t._s(e.value)+"\n          ")])],1)})],2)])],1)}),t._v(" "),a("el-dialog",{attrs:{title:"Add Location",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.location,expression:"location"}],attrs:{type:"text",placeholder:"latitude, longitude"},domProps:{value:t.location},on:{input:function(e){e.target.composing||(t.location=e.target.value)}}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.updateLocation()}}},[t._v("Confirm")])],1)])],2)},staticRenderFns:[]},Se=a("VU/8")(Ce,we,!1,null,null,null).exports,ke={name:"BrandCreate",components:{TopBar:w},props:["app_id","id"],data:function(){return{isLoader:!0,name:"",custom_brand_id:"",weight:"1"}},validations:{name:{required:z.required},custom_brand_id:{required:z.required},weight:{required:z.required}},created:function(){this.id?v.post("/v1/brand/get/",{app_id:this.app_id,br_id:this.id}).then(this.getBrandCallBack).catch(function(t){console.log(t)}):this.isLoader=!1},methods:{setName:function(t){this.name=t,this.$v.name.$touch()},setCustomBrandId:function(t){this.custom_brand_id=t,this.$v.custom_brand_id.$touch()},setWeight:function(t){this.weight=t,this.$v.weight.$touch()},getBrandCallBack:function(t){this.isLoader=!1,this.name=t.data.data[0].name,this.custom_brand_id=t.data.data[0].custom_brand_id,this.weight=t.data.data[0].weight},save:function(){this.$v.$touch(),this.$v.$invalid||(this.id?v.post("/v1/brand/update/",{br_id:this.id,app_id:this.app_id,properties:{name:this.name,custom_brand_id:this.custom_brand_id,weight:this.weight}}).then(this.postSaveCallBack).catch(function(t){console.log(t)}):v.post("/v1/brand/create/",{app_id:this.app_id,properties:{name:this.name,custom_brand_id:this.custom_brand_id,weight:this.weight}}).then(this.postSaveCallBack).catch(function(t){console.log(t)}))},postSaveCallBack:function(t){console.log("Response: ",t),t.data.status&&(this.$router.go(-1),new u.a({title:"Success",description:"Brand created successfully.",className:"notices",type:"success",duration:3})),this.$router.push({path:"/brand-list/"+this.app_id})}}},Ne={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"BrandCreate"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"50vw",margin:"0 auto"}},[a("el-row",t._l([1,2,3,4],function(e,s){return t.isLoader?a("el-col",{key:"loader"+s,staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1):t._e()})),t._v(" "),t.isLoader?t._e():a("div",{staticClass:"text item"},[a("el-row",{staticClass:"vertical-center",staticStyle:{"text-align":"left"}},[a("el-col",{staticStyle:{padding:"8px 0px"},attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[t._v("\n          Brand name\n        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:18,md:18,lg:18,xl:18}},[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.name.$error},staticStyle:{padding:"10px 20px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form__input",staticStyle:{width:"90%",padding:"10px 15px"},attrs:{type:"text"},domProps:{value:t.name},on:{input:[function(e){e.target.composing||(t.name=e.target.value)},function(e){t.setName(e.target.value)}]}})]),t._v(" "),t.$v.name.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")])])],1),t._v(" "),a("el-row",{staticClass:"vertical-center",staticStyle:{"text-align":"left"}},[a("el-col",{staticStyle:{padding:"8px 0px"},attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[t._v("\n          Custom Brand Id\n        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:18,md:18,lg:18,xl:18}},[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.custom_brand_id.$error},staticStyle:{padding:"10px 20px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.custom_brand_id,expression:"custom_brand_id"}],staticClass:"form__input",staticStyle:{width:"90%",padding:"10px 15px"},attrs:{type:"text"},domProps:{value:t.custom_brand_id},on:{input:[function(e){e.target.composing||(t.custom_brand_id=e.target.value)},function(e){t.setCustomBrandId(e.target.value)}]}})]),t._v(" "),t.$v.custom_brand_id.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")])])],1),t._v(" "),a("el-row",{staticClass:"vertical-center",staticStyle:{"text-align":"left"}},[a("el-col",{staticStyle:{padding:"8px 0px"},attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[t._v("\n          Brand Weight\n        ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:18,md:18,lg:18,xl:18}},[a("div",{staticClass:"form-group",class:{"form-group--error":t.$v.weight.$error},staticStyle:{padding:"10px 20px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.weight,expression:"weight"}],staticClass:"form__input",staticStyle:{width:"90%",padding:"10px 15px"},attrs:{type:"text"},domProps:{value:t.weight},on:{input:[function(e){e.target.composing||(t.weight=e.target.value)},function(e){t.setWeight(e.target.value)}]}})]),t._v(" "),t.$v.weight.required?t._e():a("div",{staticClass:"error"},[t._v("Field is required")])])],1),t._v(" "),a("el-row",{staticClass:"vertical-center",staticStyle:{"text-align":"left"}},[a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[a("el-button",{staticStyle:{margin:"20px 0px"},attrs:{type:"primary"},nativeOn:{click:function(e){t.save()}}},[t._v("Create Brand")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var Me=a("VU/8")(ke,Ne,!1,function(t){a("6B1h")},"data-v-370c3ac2",null).exports,Ie={name:"BrandList",components:{TopBar:w},props:["app_id"],data:function(){return{resultLength0:!1,isLoader:!0,brands:[]}},created:function(){this.isLoader=!0,this.resultLength0=!1,v.post("/v1/brand/",{app_id:this.app_id}).then(this.getBrandCallback).catch(function(t){console.log(t)})},methods:{getBrandCallback:function(t){this.isLoader=!1,t.data.status&&(this.brands=t.data.data,this.brands.length||(this.resultLength0=!0))},edit:function(t){var e=this.brands[t].br_id;this.$router.push({path:"/brand-create/"+this.app_id+"/"+e})},manageStaff:function(t){var e=this.brands[t].br_id;this.$router.push({path:"/brand-staff-list/"+this.app_id+"/"+e})},remove:function(t){v.post("/v1/brand/delete/",{app_id:this.app_id,br_id:this.brands[t].br_id}).then(this.postRemoveCallback).catch(function(t){console.log(t)})},postRemoveCallback:function(t){t.data.status&&(new u.a({title:"Success",description:"Brand deleted successfully.",className:"notices",type:"success",duration:3}),v.post("/v1/brand/",{app_id:this.app_id}).then(this.getBrandCallback).catch(function(t){console.log(t)}))}}},Ee={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"BrandList"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"text item"},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Brands")])])])]),t._v(" "),a("div",[t._l([1,2,3,4],function(e,s){return t.isLoader?a("el-card",{key:"loader"+s,staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("el-row",[a("el-col",{staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1)],1)],1):t._e()}),t._v(" "),t.resultLength0&&!t.isLoading?a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("el-row",[a("el-col",{staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h5",{staticStyle:{color:"#666"}},[t._v(" No Result Found...")])])],1)],1):t._e(),t._v(" "),t._l(t.brands,function(e,s){return a("el-card",{key:s,staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"text item"},[a("div",{staticStyle:{"font-size":"0.8em",padding:"10px","border-bottom":"1px solid #F1F1F1",display:"flex"}},[a("span",{staticStyle:{"flex-grow":"1"}},[t._v(t._s(e.br_id))]),t._v(" "),a("span",[a("span",{staticStyle:{color:"#409EFF",cursor:"pointer"},on:{click:function(e){t.edit(s)}}},[t._v("Edit")]),t._v(" |\n            "),a("span",{staticStyle:{color:"#409EFF",cursor:"pointer"},on:{click:function(e){t.remove(s)}}},[t._v("Delete")]),t._v(" |\n            "),a("span",{staticStyle:{color:"#409EFF",cursor:"pointer"},on:{click:function(e){t.manageStaff(s)}}},[t._v("Manage Staff")])])]),t._v(" "),a("el-row",{staticClass:"vertical-center",staticStyle:{"border-bottom":"1px solid #F1F1F1",padding:"10px"}},[a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[t._v("\n            Name:\n          ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:18,md:18,lg:18,xl:18}},[t._v("\n            "+t._s(e.name)+"\n          ")])],1)],1)])})],2)],1)},staticRenderFns:[]},De=a("VU/8")(Ie,Ee,!1,null,null,null).exports,Te={name:"BrandStaffList",components:{TopBar:w},props:["app_id","id"],data:function(){return{isLoading:!0,managerProfiles:[]}},created:function(){v.post("/v1/brand/get/manager/",{app_id:this.app_id,br_id:this.id}).then(this.getManagerProfileCallback).catch(function(t){console.log(t)})},methods:{getManagerProfileCallback:function(t){this.isLoading=!1,this.managerProfiles=t.data.data},RemoveManager:function(t){v.post("/v1/profile/brand-manager/remove-brand/",{br_id:this.id,app_id:this.app_id,p_id:this.managerProfiles[t].profile.uuid}).then(this.postRemoveCallback).catch(function(t){console.log(t)})},postRemoveCallback:function(t){t.data.status&&(new u.a({title:"Success",description:"Association Removed successfully.",className:"notices",type:"success",duration:3}),v.post("/v1/brand/get/manager/",{app_id:this.app_id,br_id:this.id}).then(this.getManagerProfileCallback).catch(function(t){console.log(t)}))},redirectToBack:function(){this.$router.go(-1)}}},Le={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"BrandStaffList"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"90vw",margin:"10px auto"}},[a("div",{staticClass:"text item"},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.redirectToBack()}}},[t._v("Brand List >  ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Brand Staff")]),t._v(" "),a("router-link",{attrs:{to:{path:"/brand/manager/create/"+t.app_id+"/"+t.id}}},[a("el-button",{attrs:{type:"success",size:"mini"}},[t._v("Add Brand manager")])],1)],1)])]),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"90vw",margin:"10px auto"}},[a("div",{staticClass:"text item"},[a("h3",{staticStyle:{margin:"0px","align-items":"center",color:"#66b1ff"}},[t._v(" Brand Managers ")])])]),t._v(" "),a("el-row",{staticStyle:{margin:"0 auto",width:"90vw"},attrs:{gutter:15}},[t._l([1,2,3,4,5],function(e,s){return t.isLoading?a("el-col",{key:"loader"+s,staticStyle:{"margin-bottom":"15px"},attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-card",{staticStyle:{height:"270px"}},[a("content-placeholders",[a("content-placeholders-heading",{attrs:{img:!0}}),t._v(" "),a("content-placeholders-text",{attrs:{lines:3}}),t._v(" "),a("content-placeholders-text",{attrs:{lines:3}})],1)],1)],1):t._e()}),t._v(" "),t.managerProfiles.length?t._e():a("div",{staticStyle:{border:"1px solid #ddd","text-align":"center","font-size":"14px",width:"50%",margin:"0 auto","margin-top":"50px",padding:"20px"}},[t._v(" No store manager is assigned\n    ")]),t._v(" "),t._l(t.managerProfiles,function(e,s){return a("el-col",{key:s,staticStyle:{"margin-bottom":"15px"},attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-card",{staticClass:"box-card",staticStyle:{width:"100%"}},[a("el-row",{staticClass:"vertical-center text-left",staticStyle:{"background-color":"#F1F1F1",padding:"10px 15px"}},[a("el-col",{attrs:{span:8}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Attribute ")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Value ")])])],1),t._v(" "),t._l(e.profile_attributes,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[t._v("\n              "+t._s(e.display_name)+"\n            ")]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v("\n              "+t._s(e.value)+"\n            ")])],1)}),t._v(" "),a("el-row",{staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[t._v("\n              Username\n            ")]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v("\n              "+t._s(e.profile.username)+"\n            ")])],1),t._v(" "),a("div",{staticStyle:{"font-size":"0.8em",padding:"5px 10px"}},[t._v("\n            "+t._s(e.p_id)+"\n          ")]),t._v(" "),a("div",{staticClass:"text-right",staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){t.RemoveManager(s)}}},[t._v("Remove")])],1)],2)],1)})],2)],1)},staticRenderFns:[]},Re=a("VU/8")(Te,Le,!1,null,null,null).exports,Oe={name:"BrandManagerCreate",components:{TopBar:w},props:["app_id","id"],data:function(){return{isLoading:!0,profiles:[]}},created:function(){this.initProfileData()},methods:{initProfileData:function(t){v.post("/v1/profile/brand-manager/",{app_id:this.app_id}).then(this.getProfileCallback).catch(function(t){console.log(t)})},getProfileCallback:function(t){this.isLoading=!1,this.profiles=t.data.data},AddManager:function(t){v.post("/v1/profile/brand-manager/assign-brand/",{br_id:this.id,app_id:this.app_id,p_id:this.profiles[t].profile.uuid}).then(this.postAddManagerCallback).catch(function(t){console.log(t)})},postAddManagerCallback:function(t){t.data.status&&new u.a({title:"Success",description:"Manager assigned successfully.",className:"notices",type:"success",duration:3})}}},Ue={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"BrandManagerCreate"},[a("TopBar"),t._v(" "),a("el-row",{staticStyle:{margin:"0 auto",width:"90vw"},attrs:{gutter:15}},[t._l([1,2,3,4,5],function(e,s){return t.isLoading?a("el-col",{key:"loader"+s,staticStyle:{"margin-bottom":"15px"},attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-card",{staticStyle:{height:"270px"}},[a("content-placeholders",[a("content-placeholders-heading",{attrs:{img:!0}}),t._v(" "),a("content-placeholders-text",{attrs:{lines:3}}),t._v(" "),a("content-placeholders-text",{attrs:{lines:3}})],1)],1)],1):t._e()}),t._v(" "),t.profiles.length?t._e():a("div",{staticStyle:{border:"1px solid #ddd","text-align":"center","font-size":"14px",width:"50%",margin:"0 auto","margin-top":"50px",padding:"20px"}},[t._v(" No store managers available to assigned\n      "),a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{path:"/profile-create/"+t.app_id}}},[a("div",{staticStyle:{"margin-top":"15px","font-size":"13px",color:"#409eff",cursor:"pointer"}},[t._v("Click here to create store manager")])])],1),t._v(" "),t._l(t.profiles,function(e,s){return a("el-col",{key:s,staticStyle:{"margin-bottom":"15px"},attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-card",{staticClass:"box-card",staticStyle:{width:"100%"}},[a("div",{staticStyle:{"overflow-y":"auto",height:"220px"}},[a("el-row",{staticClass:"vertical-center text-left",staticStyle:{"background-color":"#F1F1F1",padding:"10px 15px"}},[a("el-col",{attrs:{span:8}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Attribute ")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Value ")])])],1),t._v(" "),t._l(e.profile_attributes,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[t._v("\n              "+t._s(e.display_name)+"\n            ")]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v("\n              "+t._s(e.value)+"\n            ")])],1)}),t._v(" "),a("el-row",{staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[t._v("\n              Username\n            ")]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v("\n              "+t._s(e.profile.username)+"\n            ")])],1),t._v(" "),a("div",{staticStyle:{"font-size":"0.8em",padding:"5px 10px"}},[t._v("\n            "+t._s(e.p_id)+"\n          ")]),t._v(" "),a("div",{staticClass:"text-right",staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){t.AddManager(s)}}},[t._v("Assign Brand Manager")])],1)],2)])],1)})],2)],1)},staticRenderFns:[]},Fe=a("VU/8")(Oe,Ue,!1,null,null,null).exports,Be={name:"RelationCreate",components:{TopBar:w},props:["app_id"],data:function(){return{relations:[],selectedRelations:{relation:{node1_arg_key:"",node1_arg_value:"",node1_type:"",node2_arg_key:"",node2_arg_value:"",node2_type:"",relation:""},parameters:[]},selected_parameters:[],nodeDataForRelation:[],dynamic_form_model:{},node:{}}},created:function(){v.post("/v1/business-entity/get/relation-config/").then(this.getRelationConfigCallBack).catch(function(t){console.log(t)})},methods:{getRelationConfigCallBack:function(t){if(console.log(t),t.data.status){this.relations=t.data.data;for(var e=0;e<t.data.data.length;e++)null==this.relations[e].parameters&&(this.relations[e].parameters=[])}},getDataForRelation:function(){var t=this;this.selected_parameters=this.selectedRelations.parameters;var e=this.selectedRelations.relation.node_types;this.dynamic_form_model={},this.selected_parameters.forEach(function(e,a){t.$set(t.dynamic_form_model,e.key,Jt()({},e,{isFormFieldValid:!0}))}),v.post("/v1/get-relational-node-data/",{nodes:e}).then(this.postDataForRelationCallback).catch(function(t){console.log(t)})},postDataForRelationCallback:function(t){t.data.status&&(this.nodeDataForRelation=t.data.data,console.log("this.nodeDataForRelation: ",this.nodeDataForRelation))},setNodeForRelation:function(t,e,a){e==this.selectedRelations.relation.node1_type?this.selectedRelations.relation.node1_arg_value=a:e==this.selectedRelations.relation.node2_type&&(this.selectedRelations.relation.node2_arg_value=a),console.log("NODE: ",t,e,this.node)},createRelation:function(){var t={relation:this.selectedRelations.relation,properties:this.dynamic_form_model};console.log("SELECTED: ",t),v.post("/v1/create-relation/",t).then(this.postCreateRelationCallback).catch(function(t){console.log(t)})},postCreateRelationCallback:function(t){console.log(t.data)}}},Pe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"RelationCreate"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"text item"},[a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedRelations,expression:"selectedRelations"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedRelations=e.target.multiple?a:a[0]},function(e){t.getDataForRelation()}]}},t._l(t.relations,function(e,s){return a("option",{key:s,domProps:{value:e}},[t._v("\n                   ( "+t._s(e.relation.node1_arg_value)+" : "+t._s(e.relation.node1_type)+" ) -- [: "+t._s(e.relation.relation)+" ] -> ( "+t._s(e.relation.node2_arg_value)+" : "+t._s(e.relation.node2_type)+" )\n                ")])}))]),t._v(" "),t._l(t.nodeDataForRelation,function(e,s,i){return a("div",{key:s},[a("h3",[t._v(t._s(s))]),t._v(" "),t._l(e,function(e){return a("p",{key:e.uuid,class:{selected:e.uuid==t.node[s]},on:{click:function(a){t.setNodeForRelation(i,s,e.uuid)}}},[t._v("\n            "+t._s(e.uuid)+"\n          ")])})],2)}),t._v(" "),a("div",{staticStyle:{"margin-top":"30px"}},t._l(t.selected_parameters,function(e,s){return a("div",{key:s},[e.required?a("el-row",{staticClass:"vertical-center margin-top-20",attrs:{gutter:10}},[a("el-col",{staticClass:"text-right",attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n                "+t._s(e.display_name)+" *\n              ")]),t._v(" "),"text"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"text",required:""},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"text_area"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{rows:"4",cols:"50",required:""},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"checkbox"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"checkbox",required:""},domProps:{checked:Array.isArray(t.dynamic_form_model[e.key].value)?t._i(t.dynamic_form_model[e.key].value,null)>-1:t.dynamic_form_model[e.key].value},on:{change:function(a){var s=t.dynamic_form_model[e.key].value,i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=t._i(s,null);i.checked?n<0&&t.$set(t.dynamic_form_model[e.key],"value",s.concat([null])):n>-1&&t.$set(t.dynamic_form_model[e.key],"value",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.dynamic_form_model[e.key],"value",o)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"number"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"number",required:""},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"tel"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"tel",required:""},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"float"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"number",required:""},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"date"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"date",required:""},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"time"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"time",required:""},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"password"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"password",required:""},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e(),t._v(" "),"geo_point"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"text",required:"",placeholder:"latitude, longitude"},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),t.dynamic_form_model[e.key].isFormFieldValid?t._e():a("p",{staticClass:"form-error-msg"},[t._v(" "+t._s(t.dynamic_form_model[e.key].display_name+" is required."))])]):t._e()],1):a("el-row",{staticClass:"vertical-center margin-top-20",attrs:{gutter:10}},[a("el-col",{staticClass:"text-right",attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n                "+t._s(e.display_name)+"\n              ")]),t._v(" "),"text"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"text"},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}})]):t._e(),t._v(" "),"text_area"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{rows:"4",cols:"50"},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}})]):t._e(),t._v(" "),"checkbox"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.dynamic_form_model[e.key].value)?t._i(t.dynamic_form_model[e.key].value,null)>-1:t.dynamic_form_model[e.key].value},on:{change:function(a){var s=t.dynamic_form_model[e.key].value,i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=t._i(s,null);i.checked?n<0&&t.$set(t.dynamic_form_model[e.key],"value",s.concat([null])):n>-1&&t.$set(t.dynamic_form_model[e.key],"value",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.dynamic_form_model[e.key],"value",o)}}})]):t._e(),t._v(" "),"number"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"number"},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}})]):t._e(),t._v(" "),"tel"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"tel"},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}})]):t._e(),t._v(" "),"float"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"number"},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}})]):t._e(),t._v(" "),"date"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"date"},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}})]):t._e(),t._v(" "),"time"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"time"},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}})]):t._e(),t._v(" "),"password"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"password"},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}})]):t._e(),t._v(" "),"geo_point"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[pa.key].value"}],attrs:{type:"text",required:"",placeholder:"latitude, longitude"},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}})]):t._e()],1)],1)})),t._v(" "),Object.keys(t.selectedRelations).length>0?a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.createRelation()}}},[t._v("Create relation")]):t._e()],2)])],1)},staticRenderFns:[]};var ze=a("VU/8")(Be,Pe,!1,function(t){a("sfBH")},"data-v-64cc9fc4",null).exports,qe={name:"StoreNotificationList",components:{TopBar:w},props:["app_id","st_id","e_id"],data:function(){return{storeNameAttribute:[],storeDetails:{store_attributes:[]},storeDetailsIsLoading:!1,storeNotificationIsLoading:!1,storeNotifications:[],selected_id:"",location:"",dialogVisible:!1}},computed:{},created:function(){var t=this;this.storeNotificationIsLoading=!0,v.post("/v1/store/notification/",{app_id:this.app_id,st_id:this.st_id}).then(this.getStoreNtCallback).catch(function(t){console.log(t)}),this.storeDetailsIsLoading=!0,v.post("/v1/store/get/",{app_id:this.app_id,st_id:this.st_id,e_id:this.e_id}).then(function(e){t.storeDetailsIsLoading=!1,t.storeDetails=e.data.data[0],t.storeNameAttribute=t.storeDetails.store_attributes.filter(function(t){return"name"==t.key})}).catch(function(t){console.log(t)})},methods:{getStoreNtCallback:function(t){this.storeNotificationIsLoading=!1,this.storeNotifications=t.data.data},redirectToStoreNodification:function(t){this.$router.push({path:"/store/notification/create/"+this.app_id+"/"+this.st_id+"/"+t})},removeStoreNodification:function(t){v.post("/v1/drilled-down-notification/delete/",{app_id:this.app_id,nt_id:t,st_id:this.st_id,g_id:null}).then(this.postRemoveCallback).catch(function(t){console.log(t)})},postRemoveCallback:function(t){t.data.status&&(new u.a({title:"Success",description:"Store deleted successfully.",className:"notices",type:"success",duration:3}),v.post("/v1/store/notification/",{app_id:this.app_id,st_id:this.st_id}).then(this.getStoreNtCallback).catch(function(t){console.log(t)}))},redirectToBack:function(){this.$router.go(-1)}}},je={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"StoreNotificationList"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.redirectToBack()}}},[t._v(t._s(t.storeNameAttribute.length?t.storeNameAttribute[0].value:"Store")+"\n          "),a("i",{staticClass:"el-icon-arrow-right"}),t._v("  ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Store Notifications")]),t._v(" "),a("router-link",{attrs:{to:{path:"/store/notification/create/"+t.app_id+"/"+t.st_id}}},[a("el-button",{attrs:{type:"success",size:"mini"}},[t._v("New Store Notification")])],1)],1)]),t._v(" "),a("div",{staticClass:"text item"},[a("el-row",t._l([1,2,3],function(e,s){return t.storeNotificationIsLoading?a("el-col",{key:"loader"+s,staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1):t._e()})),t._v(" "),t._l(t.storeNotifications,function(e,s){return a("el-row",{key:s,staticClass:"notification-item",staticStyle:{padding:"15px 20px","font-size":"14px"},attrs:{gutter:10}},[a("el-col",{attrs:{span:10}},[a("div",[a("label",[t._v("Notification Id")]),t._v(" "),a("span",[t._v(t._s(e.nt_id))])]),t._v(" "),a("div",[a("label",[t._v("Notification Text")]),t._v("\n              "+t._s(e.notification[0].text)+" "),a("br"),t._v(" "),a("span",{staticStyle:{"font-size":"0.8em",color:"#666"}},[t._v(t._s(e.notification[0].sub_text))])])]),t._v(" "),a("el-col",{attrs:{span:5}},[a("div",[a("label",[t._v("Notification Type")]),t._v("\n              "+t._s(e.notification_type[0].name)+"\n            ")]),t._v(" "),a("div",[a("label",[t._v("Action Type")]),t._v("\n              "+t._s(e.notification_action_type[0].name)+"\n            ")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("label",[t._v("Match Type")]),t._v("\n              "+t._s(e.notification[0].notification_match_type)+"\n            ")]),t._v(" "),"BRAND"==e.notification[0].notification_match_type?a("div",[a("label",[t._v("Associated Brands")]),t._v(" "),t._l(e.notification_brands,function(s,i){return a("span",{key:"brand"+i,staticStyle:{"font-size":"0.9em"}},[t._v("\n                  "+t._s(s.name)+" "),i<e.notification_brands.length-1?a("span",[t._v(", ")]):t._e()])})],2):t._e()]),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){t.redirectToStoreNodification(e.nt_id)}}},[t._v("Edit")]),t._v(" "),a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){t.removeStoreNodification(e.nt_id)}}},[t._v("Delete")])],1)],1)})],2)])],1)},staticRenderFns:[]};var Ve=a("VU/8")(qe,je,!1,function(t){a("WXir")},"data-v-d33cbfa2",null).exports,Ze={name:"StoreStaffList",components:{TopBar:w},props:["app_id","st_id"],data:function(){return{managerProfiles:[],customerCareAdminProfiles:[]}},created:function(){v.post("/v1/store/get/manager/",{app_id:this.app_id,st_id:this.st_id}).then(this.getManagerProfileCallback).catch(function(t){console.log(t)}),v.post("/v1/store/get/customer-care-admin/",{app_id:this.app_id,st_id:this.st_id}).then(this.getCustomerCareAdminProfileCallback).catch(function(t){console.log(t)})},methods:{getManagerProfileCallback:function(t){this.managerProfiles=t.data.data},getCustomerCareAdminProfileCallback:function(t){this.customerCareAdminProfiles=t.data.data},RemoveManager:function(t){v.post("/v1/profile/store-manager/remove-store/",{app_id:this.app_id,p_id:this.managerProfiles[t].profile.uuid,st_id:this.st_id}).then(this.postRemoveCallback).catch(function(t){console.log(t)})},RemoveCustomerCareAdmin:function(t){v.post("/v1/profile/customer-care-admin/remove-store/",{app_id:this.app_id,p_id:this.customerCareAdminProfiles[t].profile.uuid,st_id:this.st_id}).then(this.postRemoveCallback).catch(function(t){console.log(t)})},postRemoveCallback:function(t){t.data.status&&(new u.a({title:"Success",description:"Association Removed successfully.",className:"notices",type:"success",duration:3}),v.post("/v1/store/get/manager/",{app_id:this.app_id,st_id:this.st_id}).then(this.getManagerProfileCallback).catch(function(t){console.log(t)}),v.post("/v1/store/get/customer-care-admin/",{app_id:this.app_id,st_id:this.st_id}).then(this.getCustomerCareAdminProfileCallback).catch(function(t){console.log(t)}))},redirectToBack:function(){this.$router.go(-1)}}},Ge={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"StoreStaffList"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"90vw",margin:"10px auto"}},[a("div",{staticClass:"text item"},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.redirectToBack()}}},[t._v("Store List >  ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Store Staff")]),t._v(" "),a("router-link",{attrs:{to:{path:"/store/manager/create/"+t.app_id+"/"+t.st_id}}},[a("el-button",{attrs:{type:"success",size:"mini"}},[t._v("Add manager")])],1),t._v(" "),a("router-link",{attrs:{to:{path:"/store/customerAdmin/create/"+t.app_id+"/"+t.st_id}}},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success",size:"mini"}},[t._v("Add Customer Care Admin")])],1)],1)])]),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"90vw",margin:"10px auto"}},[a("div",{staticClass:"text item"},[a("h3",{staticStyle:{margin:"0px","align-items":"center",color:"#66b1ff"}},[t._v(" Store Managers ")])])]),t._v(" "),a("el-row",{staticStyle:{margin:"0 auto",width:"90vw"},attrs:{gutter:15}},t._l(t.managerProfiles,function(e,s){return a("el-col",{key:s,staticStyle:{"margin-bottom":"15px"},attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-card",{staticClass:"box-card",staticStyle:{width:"100%"}},[a("el-row",{staticClass:"vertical-center text-left",staticStyle:{"background-color":"#F1F1F1",padding:"10px 15px"}},[a("el-col",{attrs:{span:8}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Attribute ")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Value ")])])],1),t._v(" "),t._l(e.profile_attributes,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[t._v("\n            "+t._s(e.display_name)+"\n          ")]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v("\n            "+t._s(e.value)+"\n          ")])],1)}),t._v(" "),a("el-row",{staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[t._v("\n            Username\n          ")]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v("\n            "+t._s(e.profile.username)+"\n          ")])],1),t._v(" "),a("div",{staticStyle:{"font-size":"0.8em",padding:"5px 10px"}},[t._v("\n          "+t._s(e.p_id)+"\n        ")]),t._v(" "),a("div",{staticClass:"text-right",staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){t.RemoveManager(s)}}},[t._v("Remove")])],1)],2)],1)})),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"90vw",margin:"10px auto"}},[a("div",{staticClass:"text item"},[a("h3",{staticStyle:{margin:"0px","align-items":"center",color:"#66b1ff"}},[t._v(" Store Customer-care-admin ")])])]),t._v(" "),a("el-row",{staticStyle:{margin:"0 auto",width:"90vw"},attrs:{gutter:15}},[t.customerCareAdminProfiles.length?t._e():a("div",{staticStyle:{border:"1px solid #ddd","text-align":"center","font-size":"14px",width:"50%",margin:"0 auto","margin-top":"50px",padding:"20px"}},[t._v(" No customer care is assigned\n    ")]),t._v(" "),t._l(t.customerCareAdminProfiles,function(e,s){return a("el-col",{key:s,staticStyle:{"margin-bottom":"15px"},attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-card",{staticClass:"box-card",staticStyle:{width:"100%"}},[a("el-row",{staticClass:"vertical-center text-left",staticStyle:{"background-color":"#F1F1F1",padding:"10px 15px"}},[a("el-col",{attrs:{span:8}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Attribute ")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Value ")])])],1),t._v(" "),t._l(e.profile_attributes,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[t._v("\n            "+t._s(e.display_name)+"\n          ")]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v("\n            "+t._s(e.value)+"\n          ")])],1)}),t._v(" "),a("el-row",{staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[t._v("\n            Username\n          ")]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v("\n            "+t._s(e.profile.username)+"\n          ")])],1),t._v(" "),a("div",{staticStyle:{"font-size":"0.8em",padding:"5px 10px"}},[t._v("\n          "+t._s(e.p_id)+"\n        ")]),t._v(" "),a("div",{staticClass:"text-right",staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){t.RemoveCustomerCareAdmin(s)}}},[t._v("Remove")])],1)],2)],1)})],2)],1)},staticRenderFns:[]},Qe=a("VU/8")(Ze,Ge,!1,null,null,null).exports,$e={name:"StoreBrandList",components:{TopBar:w},props:["app_id","st_id","e_id"],data:function(){return{storeNameAttribute:[],storeDetails:{store_attributes:[]},storeDetailsIsLoading:!1,brands:[]}},created:function(){var t=this;this.isLoading=!0,v.post("/v1/store/get/brand/",{app_id:this.app_id,st_id:this.st_id}).then(this.getBrandCallback).catch(function(t){console.log(t)}),this.storeDetailsIsLoading=!0,v.post("/v1/store/get/",{app_id:this.app_id,st_id:this.st_id,e_id:this.e_id}).then(function(e){t.storeDetailsIsLoading=!1,t.storeDetails=e.data.data[0],t.storeNameAttribute=t.storeDetails.store_attributes.filter(function(t){return"name"==t.key})}).catch(function(t){console.log(t)})},methods:{getBrandCallback:function(t){this.isLoading=!1,this.brands=t.data.data},RemoveBrand:function(t){v.post("/v1/store/remove-brand/",{app_id:this.app_id,br_id:this.brands[t].br_id,st_id:this.st_id}).then(this.postRemoveCallback).catch(function(t){console.log(t)})},postRemoveCallback:function(t){t.data.status&&(new u.a({title:"Success",description:"Association Removed successfully.",className:"notices",type:"success",duration:3}),v.post("/v1/store/get/brand/",{app_id:this.app_id,st_id:this.st_id}).then(this.getBrandCallback).catch(function(t){console.log(t)}))},redirectToBack:function(){this.$router.go(-1)}}},Ye={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"StoreBrandList"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"clearfix"},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.redirectToBack()}}},[t._v(t._s(t.storeNameAttribute.length?t.storeNameAttribute[0].value:"Store")+"\n          "),a("i",{staticClass:"el-icon-arrow-right"}),t._v("  ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Store Brands")]),t._v(" "),a("router-link",{attrs:{to:{path:"/store/assign-brand/"+t.app_id+"/"+t.st_id}}},[a("el-button",{attrs:{type:"success",size:"mini"}},[t._v("Add Brand")])],1)],1)])]),t._v(" "),a("el-row",[a("el-card",{staticClass:"box-card",staticStyle:{margin:"10px auto",width:"80vw"}},[t._l([1,2,3],function(e,s){return t.isLoading?a("el-col",{key:"loader"+s,staticStyle:{padding:"10px"},attrs:{xs:24,sm:24,md:12,lg:24,xl:24}},[a("div",{staticStyle:{"margin-bottom":"30px"}},[a("content-placeholders",[a("content-placeholders-heading",{attrs:{img:!0}}),t._v(" "),a("content-placeholders-text",{attrs:{lines:2}})],1)],1)]):t._e()}),t._v(" "),t._l(t.brands,function(e,s){return a("el-col",{key:s,staticStyle:{"margin-bottom":"15px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-row",{staticClass:"vertical-center text-left",staticStyle:{"background-color":"#F1F1F1",padding:"10px 15px"}},[a("el-col",{attrs:{span:4}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Name ")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Id ")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Custom Brand Id ")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Weight ")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Actions ")])])],1),t._v(" "),a("el-row",{staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:4}},[t._v("\n              "+t._s(e.name)+" \n            ")]),t._v(" "),a("el-col",{attrs:{span:8}},[t._v("\n              "+t._s(e.br_id)+" \n            ")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("\n              "+t._s(e.custom_brand_id)+" \n            ")]),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("\n              "+t._s(e.weight)+" \n            ")]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){t.RemoveBrand(s)}}},[t._v("Remove")])],1)],1)],1)})],2)],1)],1)},staticRenderFns:[]};var Je=a("VU/8")($e,Ye,!1,function(t){a("wI/z")},"data-v-5bd18173",null).exports,He={name:"StoreAssignBrand",components:{TopBar:w},props:["app_id","st_id"],data:function(){return{isLoading:!0,brands:[]}},created:function(){this.isLoading=!0,this.initBrandData()},methods:{initBrandData:function(t){v.post("/v1/brand/",{app_id:this.app_id}).then(this.getBrandCallback).catch(function(t){console.log(t)})},getBrandCallback:function(t){this.isLoading=!1,this.brands=t.data.data},AddBrandToStore:function(t){v.post("/v1/store/assign-brand/",{app_id:this.app_id,st_id:this.st_id,br_id:this.brands[t].br_id}).then(this.postAddBrandToStoreCallback).catch(function(t){console.log(t)})},postAddBrandToStoreCallback:function(t){t.data.status&&(this.$router.go(-1),new u.a({title:"Success",description:"Brand assigned successfully.",className:"notices",type:"success",duration:3}))}}},Ke={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"StoreAssignBrand"},[a("TopBar"),t._v(" "),a("el-row",{staticStyle:{margin:"0 auto",width:"90vw"},attrs:{gutter:15}},t._l([1,2,3,4,5,6],function(e,s){return t.isLoading?a("el-col",{key:"loader"+s,staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-card",{staticClass:"box-card",staticStyle:{width:"100%"}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1)],1):t._e()})),t._v(" "),a("el-row",{staticStyle:{margin:"0 auto",width:"90vw"},attrs:{gutter:15}},t._l(t.brands,function(e,s){return a("el-col",{key:s,staticStyle:{"margin-bottom":"15px"},attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-card",{staticClass:"box-card",staticStyle:{width:"100%"}},[a("el-row",{staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[t._v("\n            Name\n          ")]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v("\n            "+t._s(e.name)+"\n          ")])],1),t._v(" "),a("div",{staticStyle:{"font-size":"0.8em",padding:"5px 10px"}},[t._v("\n          "+t._s(e.br_id)+"\n        ")]),t._v(" "),a("div",{staticClass:"text-right",staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){t.AddBrandToStore(s)}}},[t._v("Assign Brand to Store")])],1)],1)],1)}))],1)},staticRenderFns:[]},We=a("VU/8")(He,Ke,!1,null,null,null).exports,Xe=function(t){return new Date(t)>new Date},ta={name:"StoreNotificationCreate",components:{TopBar:w,multiselect:mt.a},props:["app_id","st_id","nt_id"],data:function(){return{inventory_request_params:"",isInventoryRequestInputVisible:!1,textPlaceholder:"Welcome {{user_name}} to {{geozone_name}}",subTextPlaceholder:"{{consumer_preferred_brands}} here",showLoader:!0,showForm:!1,type:"STORE",available_wildcards:["{{user_name}}","{{store_name}}","{{geozone_name}}","{{ezone_name}}"],available_wildcards_sub_text:["{{consumer_preferred_brands}}"],selected_notification_type:null,selected_match_type_brands:null,store_brand_list:[],selected_notification_action_type:null,create_notification_inprocess:!1,notification:{isActive:!0,text:"",sub_text:"",image_url:"",action_url:"",validity_start:new Date,validity_end:new Date((new Date).setFullYear((new Date).getFullYear()+1))},notification_types:[],notification_types_ready:!1,notification_action_types:[],notification_action_types_ready:!1,active_days:{SUNDAY:"0800-1700",MONDAY:"0800-1700",TUESDAY:"0800-1700",WEDNESDAY:"0800-1700",THURSDAY:"0800-1700",FRIDAY:"0800-1700",SATURDAY:"0800-1700"}}},validations:{name:{required:z.required},image_url:{required:z.required,url:z.url},action_url:{required:z.required,url:z.url},validity_start:{required:z.required,greaterThanCurrentTime:Xe},validity_end:{required:z.required,greaterThanCurrentTime:Xe,greaterThanStartTime:function(t){return new Date(t)>new Date(this.validity_start)}},selected_type:{required:z.required}},created:function(){this.getNotificationTypes()},methods:{showInventoryRequestInput:function(){"Inventory"==this.selected_notification_type.name?this.isInventoryRequestInputVisible=!0:(this.inventory_request_params="",this.isInventoryRequestInputVisible=!1)},set_validity_end:function(t){console.log(new Date(new Date(t).setFullYear(new Date(t).getFullYear()+1))),this.notification.validity_end=new Date(new Date(t).setFullYear(new Date(t).getFullYear()+1))},getNotificationTypes:function(){var t=this;v.post("/v1/notification-types/get/",{}).then(function(e){t.notification_types=e.data.data[0].notification_types,t.notification_types_ready=!0,t.notification_types.forEach(function(e){"Deals & Offers"==e.name&&(t.notification_types_ready=!0,t.selected_notification_type=e)}),t.getNotificationActionTypes()}).catch(function(t){console.log(t)})},getNotificationActionTypes:function(){var t=this;v.post("/v1/notification-action-types/get/",{}).then(function(e){t.notification_action_types=e.data.data[0].notification_action_types,t.notification_action_types_ready=!0,t.notification_action_types.forEach(function(e){"Entry"==e.name&&(t.selected_notification_action_type=e)}),t.getBrandsForStore()}).catch(function(t){console.log(t)})},getBrandsForStore:function(){var t=this;v.post("/v1/stores/get-unique-brands/",{app_id:this.app_id,st_ids:[this.st_id]}).then(function(e){console.log("getBrandsForStore",e),t.store_brand_list=e.data.data[0].associated_brands,t.nt_id?(t.showLoader=!0,t.showForm=!1,t.loadNotification()):(t.showLoader=!1,t.showForm=!0)}).catch(function(t){console.log(t)})},loadNotification:function(){var t=this;v.post("/v1/app/notification-for-edit/",{app_id:this.app_id,search_for:this.type,nt_id:this.nt_id}).then(function(e){t.showLoader=!1,t.showForm=!0,console.log("notification-for-edit: ",e.data.data[0]),t.notification.isActive=e.data.data[0].notification[0].isActive,t.notification.text=e.data.data[0].notification[0].text,t.notification.sub_text=e.data.data[0].notification[0].sub_text,t.notification.image_url=e.data.data[0].notification[0].image_url,t.notification.notification_match_type=e.data.data[0].notification[0].notification_match_type,t.notification.action_url=e.data.data[0].notification[0].action_url,t.inventory_request_params=e.data.data[0].notification[0].inventory_request_params,t.notification.validity_start=new Date(e.data.data[0].notification[0].validity_start),t.notification.validity_end=new Date(e.data.data[0].notification[0].validity_end);try{var a=JSON.parse(e.data.data[0].notification[0].active_days),s=a.hasOwnProperty("SUNDAY")&&a.hasOwnProperty("MONDAY")&&a.hasOwnProperty("TUESDAY")&&a.hasOwnProperty("WEDNESDAY")&&a.hasOwnProperty("THURSDAY")&&a.hasOwnProperty("FRIDAY")&&a.hasOwnProperty("SATURDAY");t.active_days=s?a:t.active_days}catch(t){console.log("active_days JSON parse error, setting default")}var i=t.notification_types.findIndex(function(t){return t.uuid==e.data.data[0].notification_type[0].uuid});t.selected_notification_type=t.notification_types[i],console.log("notification_types_index",i),t.showInventoryRequestInput();var o=t.notification_action_types.findIndex(function(t){return t.uuid==e.data.data[0].notification_action_type[0].uuid});t.selected_notification_action_type=t.notification_action_types[o],console.log("notification_action_types_index",o)}).catch(function(t){console.log(t)})},setImageUrl:function(t){this.image_url=t,this.$v.image_url.$touch()},setActionUrl:function(t){this.action_url=t,this.$v.action_url.$touch()},setValidityStart:function(t){this.validity_start=t,this.$v.validity_start.$touch()},setValidityEnd:function(t){this.validity_end=t,this.$v.validity_end.$touch()},setSelectedType:function(t){this.selected_type=t,this.$v.selected_type.$touch()},getNotificationTypeCallBack:function(t){this.notificationTypes=t.data.data[0].notification_types},updateNotification:function(t){var e=this;if(this.notification.text&&this.notification.validity_start&&this.notification.validity_end&&this.notification.notification_match_type&&this.selected_notification_type&&this.selected_notification_action_type){this.create_notification_inprocess=!0;var a="",s={};s.app_id=this.app_id,s.nt_id=this.nt_id,s.notification=JSON.parse(c()(this.notification)),s.notification.validity_start=new Date(s.notification.validity_start).getTime(),s.notification.validity_end=new Date(s.notification.validity_end).getTime(),s.action_type=this.selected_notification_action_type,s.notification_type=this.selected_notification_type,s.active_days=this.active_days,s.inventory_request_params=this.inventory_request_params,"GEOZONE"==this.type?(s.selected_match_type_brands=[],a="/v1/geozone/notification/update/",s.g_id=[this.g_id]):"STORE"==this.type&&(s.selected_match_type_brands=[],a="/v1/store/notification/update/",s.st_id=[this.st_id]),console.log("payload",s),v.post(a,s).then(function(t){t.data.status&&new u.a({title:"Success",description:"Notification created successfully.",className:"notices",type:"success",duration:3}),e.create_notification_inprocess=!1,console.log("create notification reaponse: ",t)}).catch(function(t){console.log(t)})}},saveNotification:function(t){var e=this;if(this.notification.text&&this.notification.validity_start&&this.notification.validity_end&&this.notification.notification_match_type&&this.selected_notification_type&&this.selected_notification_action_type){this.create_notification_inprocess=!0;var a="",s={};s.app_id=this.app_id,s.notification=JSON.parse(c()(this.notification)),s.notification.validity_start=new Date(s.notification.validity_start).getTime(),s.notification.validity_end=new Date(s.notification.validity_end).getTime(),s.action_type=this.selected_notification_action_type,s.notification_type=this.selected_notification_type,s.active_days=this.active_days,s.inventory_request_params=this.inventory_request_params,"GEOZONE"==t?(s.selected_match_type_brands=[],a="/v1/geozone/notification/create/",s.g_id=[this.g_id]):"STORE"==t&&(s.selected_match_type_brands=this.selected_match_type_brands?[this.selected_match_type_brands.uuid]:[],a="/v1/store/notification/create/",s.st_id=[this.st_id]),console.log("payload",s),v.post(a,s).then(function(t){t.data.status&&new u.a({title:"Success",description:"Notification created successfully.",className:"notices",type:"success",duration:3}),e.create_notification_inprocess=!1,console.log("create notification reaponse: ",t)}).catch(function(t){console.log(t)})}},save:function(t){this.nt_id?this.updateNotification("STORE"):this.saveNotification("STORE")},convertUTCDateToLocalString:function(t){var e=60*(new Date).getTimezoneOffset()*1e3,a=new Date(t-e);return new Date(a).toISOString().replace("Z","")},postGNUpadateCallBack:function(t){this.name=t.data.data[0].notification[0].text,this.image_url=t.data.data[0].notification[0].image_url,this.action_url=t.data.data[0].notification[0].action_url,this.validity_start=this.convertUTCDateToLocalString(t.data.data[0].notification[0].validity_start),this.validity_end=this.convertUTCDateToLocalString(t.data.data[0].notification[0].validity_end),this.selected_type=t.data.data[0].notification_type[0]},postSaveCallBack:function(t){console.log("Response: ",t),t.data.status&&(new u.a({title:"Success",description:"Notification created successfully.",className:"notices",type:"success",duration:3}),this.$router.push({path:"/engagement-zone-list/"+this.app_id+"/"+this.g_id}))}}},ea={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"StoreNotificationCreate"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"0px 20px","min-height":"90vh"}},[a("h4",[t._v("Store Notification")]),t._v(" "),a("el-row",t._l([1,2,3,4,5,6,7],function(e,s){return t.showLoader?a("el-col",{key:"loader"+s,staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1):t._e()})),t._v(" "),t.showForm?a("el-row",{staticStyle:{padding:"20px 20px","border-top":"1px solid #EEE"},attrs:{gutter:10}},[a("el-col",{attrs:{span:24}},[a("label",{attrs:{for:""}},[t._v("Text"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.notification.text,expression:"notification.text"}],staticClass:"form-input",attrs:{"auto-complete":"off",placeholder:t.textPlaceholder},domProps:{value:t.notification.text},on:{input:function(e){e.target.composing||t.$set(t.notification,"text",e.target.value)}}}),t._v(" "),a("p",{staticClass:"margin-bottom-15",staticStyle:{"font-size":"0.8em",color:"#999","margin-top":"0px","font-weight":"bold"}},[t._v("available wildcards "),t._l(t.available_wildcards,function(e){return a("span",[t._v(t._s(e)+", ")])})],2)]),t._v(" "),a("el-col",{attrs:{span:24}},[a("label",{attrs:{for:""}},[t._v("Sub-Text")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.notification.sub_text,expression:"notification.sub_text"}],staticClass:"form-input margin-bottom-15",attrs:{"auto-complete":"off",placeholder:t.subTextPlaceholder},domProps:{value:t.notification.sub_text},on:{input:function(e){e.target.composing||t.$set(t.notification,"sub_text",e.target.value)}}}),t._v(" "),a("p",{staticClass:"margin-bottom-15",staticStyle:{"font-size":"0.8em",color:"#999","margin-top":"0px","font-weight":"bold"}},[t._v("available wildcards "),t._l(t.available_wildcards_sub_text,function(e){return a("span",[t._v(t._s(e)+", ")])})],2)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",{attrs:{for:""}},[t._v("Image URL")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.notification.image_url,expression:"notification.image_url"}],staticClass:"form-input margin-bottom-15",attrs:{"auto-complete":"off",placeholder:"image_url"},domProps:{value:t.notification.image_url},on:{input:function(e){e.target.composing||t.$set(t.notification,"image_url",e.target.value)}}})]),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",{attrs:{for:""}},[t._v("Action URL")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.notification.action_url,expression:"notification.action_url"}],staticClass:"form-input margin-bottom-15",attrs:{"auto-complete":"off",placeholder:"action_url"},domProps:{value:t.notification.action_url},on:{input:function(e){e.target.composing||t.$set(t.notification,"action_url",e.target.value)}}})]),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",{attrs:{for:""}},[t._v("Start Date"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("br"),t._v(" "),a("el-date-picker",{attrs:{type:"datetime",format:"dd-MM-yyyy HH:mm",placeholder:"Select date and time"},on:{input:function(e){t.set_validity_end(t.notification.validity_start)}},model:{value:t.notification.validity_start,callback:function(e){t.$set(t.notification,"validity_start",e)},expression:"notification.validity_start"}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",{attrs:{for:""}},[t._v("Valid Till"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("br"),t._v(" "),a("el-date-picker",{attrs:{type:"datetime",format:"dd-MM-yyyy HH:mm",placeholder:"Select date and time"},model:{value:t.notification.validity_end,callback:function(e){t.$set(t.notification,"validity_end",e)},expression:"notification.validity_end"}})],1),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:8}},[a("label",{attrs:{for:""}},[t._v(" Matching Type"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.notification.notification_match_type,expression:"notification.notification_match_type"}],attrs:{placeholder:"Please select notification match type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.notification,"notification_match_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{label:"General",value:"GENERAL"}}),t._v(" "),a("option",{directives:[{name:"show",rawName:"v-show",value:"GEOZONE"!=t.type,expression:"type!='GEOZONE'"}],attrs:{label:"Multi Match Brand",value:"MULTI_MATCH_BRAND"}}),t._v(" "),a("option",{directives:[{name:"show",rawName:"v-show",value:"GEOZONE"!=t.type,expression:"type!='GEOZONE'"}],attrs:{label:"Multi Match Store",value:"MULTI_MATCH_STORE"}}),t._v(" "),a("option",{directives:[{name:"show",rawName:"v-show",value:"GEOZONE"!=t.type,expression:"type!='GEOZONE'"}],attrs:{label:"Brand",value:"BRAND"}})])]),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:8}},[a("label",{attrs:{for:""}},[t._v(" Notification Type"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_notification_type,expression:"selected_notification_type"}],attrs:{placeholder:"Please select notification type"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected_notification_type=e.target.multiple?a:a[0]},t.showInventoryRequestInput]}},t._l(t.notification_types,function(t,e){return a("option",{key:e,attrs:{label:t.name},domProps:{value:t}})}))]),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:8}},[a("label",{attrs:{for:""}},[t._v(" Action Type"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_notification_action_type,expression:"selected_notification_action_type"}],attrs:{placeholder:"Please select notification type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected_notification_action_type=e.target.multiple?a:a[0]}}},t._l(t.notification_action_types,function(t,e){return a("option",{key:e,attrs:{label:t.name},domProps:{value:t}})}))]),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:"BRAND"==t.notification.notification_match_type&&!t.nt_id,expression:"notification.notification_match_type=='BRAND' && !nt_id"}],staticClass:"margin-bottom-15",attrs:{span:24}},[a("label",{attrs:{for:""}},[t._v(" Associated Brands with Notification")]),t._v(" "),a("multiselect",{directives:[{name:"show",rawName:"v-show",value:"BRAND"==t.notification.notification_match_type&&!t.nt_id,expression:"notification.notification_match_type=='BRAND' && !nt_id"}],attrs:{"deselect-label":"","select-label":"","track-by":"uuid",label:"name",placeholder:"Select brands to associate with notification...",options:t.store_brand_list,"preserve-search":!0,searchable:!0,"allow-empty":!0},scopedSlots:t._u([{key:"tag",fn:function(e){return[a("span",{staticStyle:{cursor:"pointer",display:"inline-block",padding:"2px 10px","background-color":"#EEE","border-radius":"5px",margin:"0px 5px"},on:{click:function(t){e.remove(e.option)}}},[t._v(t._s(e.option.name))])]}}]),model:{value:t.selected_match_type_brands,callback:function(e){t.selected_match_type_brands=e},expression:"selected_match_type_brands"}})],1),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:24}},[a("label",[t._v("Inventory Request Params")]),t._v(" "),t.isInventoryRequestInputVisible?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.inventory_request_params,expression:"inventory_request_params"}],staticClass:"form-textarea",domProps:{value:t.inventory_request_params},on:{input:function(e){e.target.composing||(t.inventory_request_params=e.target.value)}}}):t._e()]),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:3}},[a("el-checkbox",{attrs:{label:"Is Active",name:"isActive"},model:{value:t.notification.isActive,callback:function(e){t.$set(t.notification,"isActive",e)},expression:"notification.isActive"}})],1),t._v(" "),t._l(t.active_days,function(e,s){return a("el-col",{key:s,staticClass:"margin-bottom-15",attrs:{span:3}},[a("label",{attrs:{for:""}},[t._v(t._s(s)),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("input",{directives:[{name:"mask",rawName:"v-mask",value:"####-####",expression:"'####-####'"},{name:"model",rawName:"v-model",value:t.active_days[s],expression:"active_days[day]"}],staticClass:"form-input",domProps:{value:t.active_days[s]},on:{input:function(e){e.target.composing||t.$set(t.active_days,s,e.target.value)}}})])}),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:24}},["STORE"==t.type?a("el-button",{attrs:{type:"primary",loading:t.create_notification_inprocess},nativeOn:{click:function(e){t.save(t.type)}}},[t._v("Save Store Notification")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.create_notification_inprocess=!1}}},[t._v("Cancel")])],1)],2):t._e()],1)],1)},staticRenderFns:[]};var aa=a("VU/8")(ta,ea,!1,function(t){a("x5iO"),a("5hEK")},"data-v-318b722e",null).exports,sa={name:"StoreManagerCreate",components:{TopBar:w},props:["app_id","st_id"],data:function(){return{profiles:[]}},created:function(){this.initProfileData()},methods:{initProfileData:function(t){v.post("/v1/profile/store-manager/",{app_id:this.app_id}).then(this.getProfileCallback).catch(function(t){console.log(t)})},getProfileCallback:function(t){this.profiles=t.data.data},AddManager:function(t){v.post("/v1/profile/store-manager/assign-store/",{app_id:this.app_id,st_id:this.st_id,p_id:this.profiles[t].profile.uuid}).then(this.postAddManagerCallback).catch(function(t){console.log(t)})},postAddManagerCallback:function(t){t.data.status&&(this.$router.go(-1),new u.a({title:"Success",description:"Manager assigned successfully.",className:"notices",type:"success",duration:3}))}}},ia={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"StoreManagerCreate"},[a("TopBar"),t._v(" "),a("el-row",{staticStyle:{margin:"0 auto",width:"90vw"},attrs:{gutter:15}},t._l(t.profiles,function(e,s){return a("el-col",{key:s,staticStyle:{"margin-bottom":"15px"},attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-card",{staticClass:"box-card",staticStyle:{width:"100%"}},[a("el-row",{staticClass:"vertical-center text-left",staticStyle:{"background-color":"#F1F1F1",padding:"10px 15px"}},[a("el-col",{attrs:{span:8}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Attribute ")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Value ")])])],1),t._v(" "),t._l(e.profile_attributes,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[t._v("\n            "+t._s(e.display_name)+"\n          ")]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v("\n            "+t._s(e.value)+"\n          ")])],1)}),t._v(" "),a("el-row",{staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[t._v("\n            Username\n          ")]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v("\n            "+t._s(e.profile.username)+"\n          ")])],1),t._v(" "),a("div",{staticStyle:{"font-size":"0.8em",padding:"5px 10px"}},[t._v("\n          "+t._s(e.p_id)+"\n        ")]),t._v(" "),a("div",{staticClass:"text-right",staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){t.AddManager(s)}}},[t._v("Assign Manager")])],1)],2)],1)}))],1)},staticRenderFns:[]},oa=a("VU/8")(sa,ia,!1,null,null,null).exports,na={name:"StoreCustomerAdminCreate",components:{TopBar:w},props:["app_id","st_id"],data:function(){return{profiles:[]}},created:function(){this.initProfileData()},methods:{initProfileData:function(t){v.post("/v1/profile/customer-care-admin/",{app_id:this.app_id}).then(this.getProfileCallback).catch(function(t){console.log(t)})},getProfileCallback:function(t){this.profiles=t.data.data},AddCustomerCareAdmin:function(t){v.post("/v1/profile/customer-care-admin/assign-store/",{app_id:this.app_id,st_id:this.st_id,p_id:this.profiles[t].profile.uuid}).then(this.postAddCustomerCareAdminCallback).catch(function(t){console.log(t)})},postAddCustomerCareAdminCallback:function(t){t.data.status&&(this.$router.go(-1),new u.a({title:"Success",description:"Customer-Care-Admin assigned successfully.",className:"notices",type:"success",duration:3}))}}},ra={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"StoreCustomerAdminCreate"},[a("TopBar"),t._v(" "),t.profiles.length?t._e():a("div",{staticStyle:{border:"1px solid #ddd","text-align":"center","font-size":"14px",width:"50%",margin:"0 auto","margin-top":"50px",padding:"20px"}},[t._v(" No customer care admins available to assigned\n    "),a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{path:"/profile-create/"+t.app_id}}},[a("div",{staticStyle:{"margin-top":"15px","font-size":"13px",color:"#409eff",cursor:"pointer"}},[t._v("Click here to create customer care admin")])])],1),t._v(" "),a("el-row",{staticStyle:{margin:"0 auto",width:"90vw"},attrs:{gutter:15}},t._l(t.profiles,function(e,s){return a("el-col",{key:s,staticStyle:{"margin-bottom":"15px"},attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-card",{staticClass:"box-card",staticStyle:{width:"100%"}},[a("el-row",{staticClass:"vertical-center text-left",staticStyle:{"background-color":"#F1F1F1",padding:"10px 15px"}},[a("el-col",{attrs:{span:8}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Attribute ")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Value ")])])],1),t._v(" "),t._l(e.profile_attributes,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[t._v("\n            "+t._s(e.display_name)+"\n          ")]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v("\n            "+t._s(e.value)+"\n          ")])],1)}),t._v(" "),a("el-row",{staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[t._v("\n            Username\n          ")]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v("\n            "+t._s(e.profile.username)+"\n          ")])],1),t._v(" "),a("div",{staticStyle:{"font-size":"0.8em",padding:"5px 10px"}},[t._v("\n          "+t._s(e.p_id)+"\n        ")]),t._v(" "),a("div",{staticClass:"text-right",staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){t.AddCustomerCareAdmin(s)}}},[t._v("Assign Customer-Care-Admin")])],1)],2)],1)}))],1)},staticRenderFns:[]},la=a("VU/8")(na,ra,!1,null,null,null).exports,ca={name:"ConsumerChat",components:{TopBar:w,Chat:ct},data:function(){return{}},created:function(){console.log("this.$route.params",this.$route.params)},mounted:function(){this.openChatRoom()},computed:{currentRoom:function(){return{storeId:this.$route.params.storeId,consumerUUID:this.$route.params.consumerUUID,brandId:this.$route.params.brand_id}}},methods:{openChatRoom:function(){console.log("openChatRoom: ",this.currentRoom),b.$emit("currentRoomChanged",this.currentRoom)},redirectToBack:function(){this.$router.go(-1)}}},da={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ConsumerChat"},[a("TopBar"),t._v(" "),a("div",{staticClass:"desktop-chat-layout"},[a("div",{staticClass:"chat-rooms-list"},[a("el-card",{staticClass:"box-card",staticStyle:{width:"100%","margin-bottom":"10px",cursor:"pointer"},nativeOn:{click:function(e){return t.openChatRoom(e)}}},[a("div",{staticClass:"text item"},[a("div",{staticStyle:{"font-size":"0.8em",padding:"10px"}},[a("b",[t._v("storeID:")]),t._v(" "+t._s(t.currentRoom.storeId)+"  "),a("br"),t._v(" "),a("b",[t._v("consumerUUID:")]),t._v(" "+t._s(t.currentRoom.consumerUUID)+" "),a("br"),t._v(" "),a("b",[t._v("BrandId:")]),t._v(" "+t._s(t.currentRoom.brandId)+"\n            ")])])])],1),t._v(" "),a("Chat",{staticStyle:{width:"65%"}})],1)],1)},staticRenderFns:[]};var ma=a("VU/8")(ca,da,!1,function(t){a("v1WA")},"data-v-7828ee93",null).exports,pa={name:"GlobalNotificationPanel",components:{TopBar:w,multiselect:mt.a},props:["app_id"],data:function(){return{inventory_request_params:"",isInventoryRequestInputVisible:!1,textPlaceholder:"Welcome {{user_name}} to {{geozone_name}}",subTextPlaceholder:"{{consumer_preferred_brands}} here",search_query:{country:[],city:[],state:[],geozone_name:[],store_name:[],ezone_name:[],brand:""},search_with:"GEOZONE",city:"",country:"",geozone_dropdown:[],ezone_dropdown:[],store_dropdown:[],brand_dropdown:[],all_country_dropdown:[],all_city_dropdown:[],selected_match_type_brands:[],available_wildcards:["{{user_name}}","{{store_name}}","{{geozone_name}}","{{ezone_name}}"],available_wildcards_sub_text:["{{consumer_preferred_brands}}"],state:"",search_for:"GEOZONE",selected_geozone:null,selected_ezone:null,selected_store:null,selected_brand:null,search_result:[],response_title:"",selected_notification_type:{},selected_notification_action_type:{},notification:{isActive:!0,text:"",sub_text:"",image_url:"",action_url:"",validity_start:new Date,validity_end:new Date((new Date).setFullYear((new Date).getFullYear()+1)),notification_match_type:""},show_new_notification_form:!1,notification_types:[],notification_action_types:[],create_notification_inprocess:!1,brand_selected_for_current_search:{},active_days:{SUNDAY:"0800-1700",MONDAY:"0800-1700",TUESDAY:"0800-1700",WEDNESDAY:"0800-1700",THURSDAY:"0800-1700",FRIDAY:"0800-1700",SATURDAY:"0800-1700"},resultLength0:!1,all_states_dropdown:[]}},watch:{search_for:function(t,e){"GEOZONE"==t&&(this.search_with="GEOZONE")},country:function(t,e){this.all_states_dropdown=[],this.all_city_dropdown=[],this.state="",this.city="",t&&(this.addUniqueToList(this.search_query.country,t),this.getStates())},state:function(t,e){this.all_city_dropdown=[],this.city="",t&&(this.addUniqueToList(this.search_query.state,t),this.getCities())},city:function(t,e){this.geozone_dropdown=[],this.selected_geozone=null,t&&(this.addUniqueToList(this.search_query.city,t),this.getGeoZones())},selected_geozone:function(t,e){this.ezone_dropdown=[],this.selected_ezone=null,t&&(this.addUniqueToList(this.search_query.geozone_name,t.name),this.geteZones())},selected_ezone:function(t,e){this.store_dropdown=[],this.selected_store=null,t&&(this.addUniqueToList(this.search_query.ezone_name,t.name),this.getStores())},selected_store:function(t,e){t&&(this.addUniqueToList(this.search_query.store_name,t.name),this.getStores())}},computed:{showBrandDropdown:function(){return"STORE"==this.search_for},showStoreDropdown:function(){var t=this;return"STORE"==this.search_for&&["STORE"].some(function(e){return e==t.search_with})},showEzoneDropdown:function(){var t=this;return"STORE"==this.search_for&&["EZONE","STORE"].some(function(e){return e==t.search_with})},showGeozoneDropdown:function(){var t=this;return["GEOZONE","EZONE","STORE"].some(function(e){return e==t.search_with})},showCityDropdown:function(){var t=this;return["CITY","GEOZONE","EZONE","STORE"].some(function(e){return e==t.search_with})},showStateDropdown:function(){var t=this;return["STATE","CITY","GEOZONE","EZONE","STORE"].some(function(e){return e==t.search_with})}},created:function(){this.getInitialDropdownData()},methods:{showInventoryRequestInput:function(){"Inventory"==this.selected_notification_type.name?this.isInventoryRequestInputVisible=!0:(this.inventory_request_params="",this.isInventoryRequestInputVisible=!1)},set_validity_end:function(t){console.log(new Date(new Date(t).setFullYear(new Date(t).getFullYear()+1))),this.notification.validity_end=new Date(new Date(t).setFullYear(new Date(t).getFullYear()+1))},removeQueryParam:function(t,e,a){a.splice(e,1)},addUniqueToList:function(t,e){t.indexOf(e)>-1||t.push(e)},getStates:function(){var t=this;v.post("/v1/dropdowns/states/",{country:this.country}).then(function(e){console.log("geo-zone-get-states-dropdown",e),t.all_states_dropdown=e.data.data?e.data.data.map(function(t){return t.state}):[]}).catch(function(t){console.log(t)})},getCities:function(){var t=this;v.post("/v1/dropdowns/cities-for-state/",{country:this.country,state:this.state}).then(function(e){console.log("geo-zone-get-cities-dropdown",e),t.all_city_dropdown=e.data.data?e.data.data.map(function(t){return t.city}):[]}).catch(function(t){console.log(t)})},getGeoZones:function(){var t=this;v.post("/v1/get-geo-zone-for-city/",{app_id:this.app_id,city:this.city}).then(function(e){console.log("get-geo-zone-for-city",e),t.geozone_dropdown=e.data.data}).catch(function(t){console.log(t)})},geteZones:function(){var t=this;v.post("/v1/get-engagement-zone-for-geozone/",{app_id:this.app_id,geozone_name:this.selected_geozone?this.selected_geozone.name:""}).then(function(e){console.log("get-engagement-zone-for-geozone",e),t.ezone_dropdown=e.data.data}).catch(function(t){console.log(t)})},getStores:function(){var t=this;v.post("/v1/get-stores-for-ezone/",{app_id:this.app_id,ezone_name:this.selected_ezone?this.selected_ezone.name:""}).then(function(e){console.log("get-stores-for-ezone",e),t.store_dropdown=e.data.data}).catch(function(t){console.log(t)})},getInitialDropdownData:function(){var t=this;v.post("/v1/dropdowns/countries/",{}).then(function(e){console.log("geo-zone-get-countries-dropdown",e),t.all_country_dropdown=e.data.data?e.data.data.map(function(t){return t.country}):[]}).catch(function(t){console.log(t)}),v.post("/v1/brand-for-dropdown/",{app_id:this.app_id}).then(function(e){console.log("brand-for-dropdown",e),t.brand_dropdown=e.data.data?e.data.data:[]}).catch(function(t){console.log(t)}),v.post("/v1/notification-types/get/",{}).then(function(e){t.notification_types=e.data.data[0].notification_types,t.notification_types.forEach(function(e){"Deals & Offers"==e.name&&(t.notification_types_ready=!0,t.selected_notification_type=e)})}).catch(function(t){console.log(t)}),v.post("/v1/notification-action-types/get/",{}).then(function(e){t.notification_action_types=e.data.data[0].notification_action_types,t.notification_action_types.forEach(function(e){"Entry"==e.name&&(t.selected_notification_action_type=e)})}).catch(function(t){console.log(t)})},search:function(){var t=this;this.resultLength0=!1,this.show_new_notification_form=!1,this.create_notification_inprocess=!1,this.selected_match_type_brands=[],this.brand_selected_for_current_search=this.selected_brand&&this.selected_brand.name?JSON.parse(c()(this.selected_brand)):{};var e={app_id:this.app_id,search_query:{country:"COUNTRY"==this.search_with?this.search_query.country:[],city:"CITY"==this.search_with?this.search_query.city:[],state:"STATE"==this.search_with?this.search_query.state:[],geozone_name:"GEOZONE"==this.search_with?this.search_query.geozone_name:[],store_name:"STORE"==this.search_with?this.search_query.store_name:[],ezone_name:"EZONE"==this.search_with?this.search_query.ezone_name:[],brand:this.selected_brand?this.selected_brand.name:""},search_for:this.search_for};console.log("search: ",e);var a=[];"COUNTRY"==this.search_with&&0==e.search_query.country.length&&a.push("Select at least 1 country"),"STATE"==this.search_with&&0==e.search_query.state.length&&a.push("Select at least 1 state"),"CITY"==this.search_with&&0==e.search_query.city.length&&a.push("Select at least 1 city"),"GEOZONE"==this.search_with&&0==e.search_query.geozone_name.length&&a.push("Select at least 1 zone"),"STORE"==this.search_with&&0==e.search_query.store_name.length&&a.push("Select at least 1 store"),a.length?new u.a({title:"Error",description:a.join(" ,"),className:"notices",type:"error",duration:3}):v.post("/v1/filter-geozone-store-for-notification/",e).then(function(e){t.searchCallBack(e,t.search_for)}).catch(function(t){console.log(t)})},searchCallBack:function(t,e){console.log("searchCallBack response",t),"GEOZONE"==e?this.response_title="Geozone":"STORE"==e&&(this.response_title="Store"),this.search_result=t.data.data,0==this.search_result.length?this.resultLength0=!0:this.resultLength0=!1},saveNotification:function(t){var e=this;if(this.notification.text&&this.notification.validity_start&&this.notification.validity_end&&this.notification.notification_match_type&&this.selected_notification_type&&this.selected_notification_action_type){this.create_notification_inprocess=!0;var a="",s=[];this.search_result.forEach(function(t){s.push(t.uuid)});var i={};i.app_id=this.app_id,i.notification=JSON.parse(c()(this.notification)),i.notification.validity_start=new Date(i.notification.validity_start).getTime(),i.notification.validity_end=new Date(i.notification.validity_end).getTime(),i.action_type=this.selected_notification_action_type,i.notification_type=this.selected_notification_type,i.active_days=this.active_days,i.inventory_request_params=this.inventory_request_params,"GEOZONE"==t?(i.selected_match_type_brands=[],a="/v1/geozone/notification/create/",i.g_id=s):"STORE"==t&&(i.selected_match_type_brands=[this.brand_selected_for_current_search].map(function(t){return t.br_id}),a="/v1/store/notification/create/",i.st_id=s),console.log("payload",i),v.post(a,i).then(function(t){t.data.status&&(e.$router.go(-1),new u.a({title:"Success",description:"Notification created successfully.",className:"notices",type:"success",duration:3})),e.create_notification_inprocess=!1,console.log("create notification reaponse: ",t)}).catch(function(t){console.log(t)})}}}},ua={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"GlobalNotificationPanel"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"0px 20px","min-height":"90vh"}},[a("el-row",{staticStyle:{padding:"0px 20px"},attrs:{gutter:10}},[a("el-col",{attrs:{span:24}},[t._v("\n     \n      ")]),t._v(" "),a("el-col",{staticStyle:{padding:"0px 0px 20px 0px"},attrs:{span:24}},[a("el-radio",{attrs:{size:"small",label:"GEOZONE",border:""},model:{value:t.search_for,callback:function(e){t.search_for=e},expression:"search_for"}},[t._v("Zone Notification")]),t._v(" "),a("el-radio",{attrs:{size:"small",label:"STORE",border:""},model:{value:t.search_for,callback:function(e){t.search_for=e},expression:"search_for"}},[t._v("Store Notification")])],1),t._v(" "),a("el-col",{staticStyle:{"padding-bottom":"20px"},attrs:{span:24}},[a("el-radio",{attrs:{label:"COUNTRY"},model:{value:t.search_with,callback:function(e){t.search_with=e},expression:"search_with"}},[t._v("Search by Country")]),t._v(" "),a("el-radio",{attrs:{label:"STATE"},model:{value:t.search_with,callback:function(e){t.search_with=e},expression:"search_with"}},[t._v("Search by State")]),t._v(" "),a("el-radio",{attrs:{label:"CITY"},model:{value:t.search_with,callback:function(e){t.search_with=e},expression:"search_with"}},[t._v("Search by City")]),t._v(" "),a("el-radio",{attrs:{label:"GEOZONE"},model:{value:t.search_with,callback:function(e){t.search_with=e},expression:"search_with"}},[t._v("Search by Zone")]),t._v(" "),a("el-radio",{directives:[{name:"show",rawName:"v-show",value:"STORE"==t.search_for,expression:"search_for=='STORE'"}],attrs:{label:"STORE"},model:{value:t.search_with,callback:function(e){t.search_with=e},expression:"search_with"}},[t._v("Search by Store")])],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("label",{attrs:{for:""}},[t._v("Country")]),t._v(" "),a("multiselect",{attrs:{"deselect-label":"","select-label":"","show-labels":!1,placeholder:"Select Country",options:t.all_country_dropdown,searchable:!0,"allow-empty":!0},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("label",{directives:[{name:"show",rawName:"v-show",value:t.showStateDropdown,expression:"showStateDropdown"}],attrs:{for:""}},[t._v("State")]),t._v(" "),a("multiselect",{directives:[{name:"show",rawName:"v-show",value:t.showStateDropdown,expression:"showStateDropdown"}],attrs:{"deselect-label":"","select-label":"","show-labels":!1,placeholder:"Select State",options:t.all_states_dropdown,searchable:!0,"allow-empty":!0},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("label",{directives:[{name:"show",rawName:"v-show",value:t.showCityDropdown,expression:"showCityDropdown"}],attrs:{for:""}},[t._v("City")]),t._v(" "),a("multiselect",{directives:[{name:"show",rawName:"v-show",value:t.showCityDropdown,expression:"showCityDropdown"}],attrs:{"deselect-label":"","select-label":"","show-labels":!1,placeholder:"Select City",options:t.all_city_dropdown,searchable:!0,"allow-empty":!0},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("label",{directives:[{name:"show",rawName:"v-show",value:t.showGeozoneDropdown,expression:"showGeozoneDropdown"}],attrs:{for:""}},[t._v("Zone")]),t._v(" "),a("multiselect",{directives:[{name:"show",rawName:"v-show",value:t.showGeozoneDropdown,expression:"showGeozoneDropdown"}],attrs:{"deselect-label":"","select-label":"","track-by":"g_id",label:"name",placeholder:"Select zone",options:t.geozone_dropdown,searchable:!0,"allow-empty":!0},scopedSlots:t._u([{key:"singleLabel",fn:function(e){var a=e.option;return[t._v(t._s(a.name))]}}]),model:{value:t.selected_geozone,callback:function(e){t.selected_geozone=e},expression:"selected_geozone"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("label",{directives:[{name:"show",rawName:"v-show",value:t.showEzoneDropdown,expression:"showEzoneDropdown"}],attrs:{for:""}},[t._v("Engagement Zone")]),t._v(" "),a("multiselect",{directives:[{name:"show",rawName:"v-show",value:t.showEzoneDropdown,expression:"showEzoneDropdown"}],attrs:{"deselect-label":"","select-label":"","track-by":"e_id",label:"name",placeholder:"Select EZone",options:t.ezone_dropdown,searchable:!0,"allow-empty":!0},scopedSlots:t._u([{key:"singleLabel",fn:function(e){var s=e.option;return[t._v(t._s(s.name)+"  "),a("span",{staticStyle:{"font-size":"0.6em","font-weight":"bold",color:"#999"}},[t._v("#"+t._s(s.geozone_name))])]}}]),model:{value:t.selected_ezone,callback:function(e){t.selected_ezone=e},expression:"selected_ezone"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("label",{directives:[{name:"show",rawName:"v-show",value:t.showStoreDropdown,expression:"showStoreDropdown"}],attrs:{for:""}},[t._v("Stores")]),t._v(" "),a("multiselect",{directives:[{name:"show",rawName:"v-show",value:t.showStoreDropdown,expression:"showStoreDropdown"}],attrs:{"deselect-label":"","select-label":"","track-by":"st_id",label:"name",placeholder:"Select store",options:t.store_dropdown,searchable:!0,"allow-empty":!0},scopedSlots:t._u([{key:"singleLabel",fn:function(e){var a=e.option;return[t._v(t._s(a.name))]}}]),model:{value:t.selected_store,callback:function(e){t.selected_store=e},expression:"selected_store"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("label",{directives:[{name:"show",rawName:"v-show",value:t.showBrandDropdown,expression:"showBrandDropdown"}],attrs:{for:""}},[t._v("Brand")]),t._v(" "),a("multiselect",{directives:[{name:"show",rawName:"v-show",value:t.showBrandDropdown,expression:"showBrandDropdown"}],attrs:{"deselect-label":"","select-label":"","track-by":"br_id",label:"name",placeholder:"Select brand",options:t.brand_dropdown,searchable:!0,"allow-empty":!0},scopedSlots:t._u([{key:"singleLabel",fn:function(e){var a=e.option;return[t._v(t._s(a.name))]}}]),model:{value:t.selected_brand,callback:function(e){t.selected_brand=e},expression:"selected_brand"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("label",{attrs:{for:""}},[t._v(" ")]),a("br"),t._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.search()}}},[t._v("Search")])],1)],1),t._v(" "),a("el-row",{staticStyle:{padding:"20px 20px"}},[a("el-col",{attrs:{span:24}},[a("div",{directives:[{name:"show",rawName:"v-show",value:"COUNTRY"==t.search_with,expression:"search_with== 'COUNTRY'"}]},[a("h4",[t._v(" Selected Country ")]),t._v(" "),t._l(t.search_query.country,function(e,s){return a("p",{key:s},[a("i",{staticClass:"el-icon-circle-close-outline",staticStyle:{color:"red",cursor:"pointer"},on:{click:function(a){t.removeQueryParam(e,s,t.search_query.country)}}}),t._v("    \n        "+t._s(e)+"\n      ")])})],2),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"CITY"==t.search_with,expression:"search_with== 'CITY'"}]},[a("h4",[t._v(" Selected Cities ")]),t._v(" "),t._l(t.search_query.city,function(e,s){return a("p",{key:s},[a("i",{staticClass:"el-icon-circle-close-outline",staticStyle:{color:"red",cursor:"pointer"},on:{click:function(a){t.removeQueryParam(e,s,t.search_query.city)}}}),t._v("    \n        "+t._s(e)+"\n      ")])})],2),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"STATE"==t.search_with,expression:"search_with== 'STATE'"}]},[a("h4",[t._v(" Selected States ")]),t._v(" "),t._l(t.search_query.state,function(e,s){return a("p",{key:s},[a("i",{staticClass:"el-icon-circle-close-outline",staticStyle:{color:"red",cursor:"pointer"},on:{click:function(a){t.removeQueryParam(e,s,t.search_query.state)}}}),t._v("    \n        "+t._s(e)+"\n      ")])})],2),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"GEOZONE"==t.search_with,expression:"search_with== 'GEOZONE'"}]},[a("h4",[t._v(" Selected Zones ")]),t._v(" "),t._l(t.search_query.geozone_name,function(e,s){return a("p",{key:s},[a("i",{staticClass:"el-icon-circle-close-outline",staticStyle:{color:"red",cursor:"pointer"},on:{click:function(a){t.removeQueryParam(e,s,t.search_query.geozone_name)}}}),t._v("    \n        "+t._s(e)+"\n      ")])})],2),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"EZONE"==t.search_with,expression:"search_with== 'EZONE'"}]},[a("h4",[t._v(" Selected EZones ")]),t._v(" "),t._l(t.search_query.ezone_name,function(e,s){return a("p",{key:s},[a("i",{staticClass:"el-icon-circle-close-outline",staticStyle:{color:"red",cursor:"pointer"},on:{click:function(a){t.removeQueryParam(e,s,t.search_query.ezone_name)}}}),t._v("    \n        "+t._s(e)+"\n      ")])})],2),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"STORE"==t.search_with,expression:"search_with== 'STORE'"}]},[a("h4",[t._v(" Selected Stores ")]),t._v(" "),t._l(t.search_query.store_name,function(e,s){return a("p",{key:s},[a("i",{staticClass:"el-icon-circle-close-outline",staticStyle:{color:"red",cursor:"pointer"},on:{click:function(a){t.removeQueryParam(e,s,t.search_query.store_name)}}}),t._v("    \n        "+t._s(e)+"\n      ")])})],2)])],1),t._v(" "),a("el-row",{staticClass:"vertical-center margin-bottom-10"},[t.resultLength0?a("el-col",{attrs:{span:24}},[a("h5",{staticStyle:{color:"#666",padding:"20px 20px","border-top":"1px solid #EEE"}},[t._v(" No Result Found...")])]):t._e()],1),t._v(" "),t.search_result.length>0?a("el-row",{staticStyle:{"margin-bottom":"20px",padding:"20px 20px","border-top":"1px solid #EEE","max-height":"300px","overflow-y":"scroll"},attrs:{gutter:10}},[a("el-col",{attrs:{span:24}},[a("span",{staticStyle:{"font-size":"1.1em","font-weight":"bold"}},[t._v(t._s(t.search_result.length)+" "+t._s(t.response_title)+" Matched... ")]),t._v(" "),t.search_result.length>0?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"default",size:"mini"},nativeOn:{click:function(e){t.show_new_notification_form=!0}}},[t._v("Create Notification for "+t._s(t.search_result.length)+" "+t._s(t.response_title)),t.search_result.length>1?a("span",[t._v("s")]):t._e()]):t._e(),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),t._l(t.search_result,function(e,s){return a("div",{key:s,class:{gray:s%2==0},staticStyle:{padding:"10px 10px","border-bottom":"1px solid #EEE"}},[a("b",[t._v(t._s(e.name))]),t._v(" | "),a("span",{staticStyle:{"font-size":"0.7em"}},[t._v(t._s(e.uuid)+" ")])])})],2)],1):t._e(),t._v(" "),t.show_new_notification_form&&t.search_result.length>0?a("el-row",{staticStyle:{padding:"20px 20px","border-top":"1px solid #EEE"},attrs:{gutter:10}},[a("h4",[t._v("New Notification")]),t._v(" "),a("el-col",{attrs:{span:24}},[a("label",{attrs:{for:""}},[t._v("Text"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.notification.text,expression:"notification.text"}],staticClass:"form-input",attrs:{"auto-complete":"off",placeholder:t.textPlaceholder},domProps:{value:t.notification.text},on:{input:function(e){e.target.composing||t.$set(t.notification,"text",e.target.value)}}}),t._v(" "),a("p",{staticClass:"margin-bottom-15",staticStyle:{"font-size":"0.8em",color:"#999","margin-top":"0px","font-weight":"bold"}},[t._v("available wildcards "),t._l(t.available_wildcards,function(e){return a("span",[t._v(t._s(e)+", ")])})],2)]),t._v(" "),a("el-col",{attrs:{span:24}},[a("label",{attrs:{for:""}},[t._v("Sub-Text")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.notification.sub_text,expression:"notification.sub_text"}],staticClass:"form-input margin-bottom-15",attrs:{"auto-complete":"off",placeholder:t.subTextPlaceholder},domProps:{value:t.notification.sub_text},on:{input:function(e){e.target.composing||t.$set(t.notification,"sub_text",e.target.value)}}}),t._v(" "),a("p",{staticClass:"margin-bottom-15",staticStyle:{"font-size":"0.8em",color:"#999","margin-top":"0px","font-weight":"bold"}},[t._v("available wildcards "),t._l(t.available_wildcards_sub_text,function(e){return a("span",[t._v(t._s(e)+", ")])})],2)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",{attrs:{for:""}},[t._v("Image URL")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.notification.image_url,expression:"notification.image_url"}],staticClass:"form-input margin-bottom-15",attrs:{"auto-complete":"off",placeholder:"image_url"},domProps:{value:t.notification.image_url},on:{input:function(e){e.target.composing||t.$set(t.notification,"image_url",e.target.value)}}})]),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",{attrs:{for:""}},[t._v("Action URL")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.notification.action_url,expression:"notification.action_url"}],staticClass:"form-input margin-bottom-15",attrs:{"auto-complete":"off",placeholder:"action_url"},domProps:{value:t.notification.action_url},on:{input:function(e){e.target.composing||t.$set(t.notification,"action_url",e.target.value)}}})]),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",{attrs:{for:""}},[t._v("Start Date"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("br"),t._v(" "),a("el-date-picker",{attrs:{type:"datetime",format:"dd-MM-yyyy HH:mm",placeholder:"Select date and time"},on:{input:function(e){t.set_validity_end(t.notification.validity_start)}},model:{value:t.notification.validity_start,callback:function(e){t.$set(t.notification,"validity_start",e)},expression:"notification.validity_start"}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",{attrs:{for:""}},[t._v("Valid Untill"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("br"),t._v(" "),a("el-date-picker",{attrs:{type:"datetime",format:"dd-MM-yyyy HH:mm",placeholder:"Select date and time"},model:{value:t.notification.validity_end,callback:function(e){t.$set(t.notification,"validity_end",e)},expression:"notification.validity_end"}})],1),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:8}},[a("label",{attrs:{for:""}},[t._v(" Matching Type"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.notification.notification_match_type,expression:"notification.notification_match_type"}],attrs:{placeholder:"Please select notification match type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.notification,"notification_match_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{label:"General",value:"GENERAL"}}),t._v(" "),a("option",{directives:[{name:"show",rawName:"v-show",value:"GEOZONE"!=t.search_for,expression:"search_for!='GEOZONE'"}],attrs:{label:"Multi Match Brand",value:"MULTI_MATCH_BRAND"}}),t._v(" "),a("option",{directives:[{name:"show",rawName:"v-show",value:"GEOZONE"!=t.search_for,expression:"search_for!='GEOZONE'"}],attrs:{label:"Multi Match Store",value:"MULTI_MATCH_STORE"}}),t._v(" "),a("option",{directives:[{name:"show",rawName:"v-show",value:"GEOZONE"!=t.search_for&&t.brand_selected_for_current_search.br_id,expression:"search_for!='GEOZONE' && brand_selected_for_current_search.br_id"}],attrs:{label:"Brand",value:"BRAND"}})])]),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:8}},[a("label",{attrs:{for:""}},[t._v(" Notification Type"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_notification_type,expression:"selected_notification_type"}],attrs:{placeholder:"Please select notification type"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected_notification_type=e.target.multiple?a:a[0]},t.showInventoryRequestInput]}},t._l(t.notification_types,function(t,e){return a("option",{key:e,attrs:{label:t.name},domProps:{value:t}})}))]),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:8}},[a("label",{attrs:{for:""}},[t._v(" Action Type"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_notification_action_type,expression:"selected_notification_action_type"}],attrs:{placeholder:"Please select notification type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected_notification_action_type=e.target.multiple?a:a[0]}}},t._l(t.notification_action_types,function(e,s){return a("option",{directives:[{name:"show",rawName:"v-show",value:"GEOZONE"==t.search_for&&"In Store"!=e.name||"STORE"==t.search_for,expression:"search_for=='GEOZONE' && item.name!='In Store' || search_for=='STORE'"}],key:s,attrs:{label:e.name},domProps:{value:e}})}))]),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:24}},[a("label",[t._v("Inventory Request Params")]),t._v(" "),t.isInventoryRequestInputVisible?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.inventory_request_params,expression:"inventory_request_params"}],staticClass:"form-textarea",domProps:{value:t.inventory_request_params},on:{input:function(e){e.target.composing||(t.inventory_request_params=e.target.value)}}}):t._e()]),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:3}},[a("el-checkbox",{attrs:{label:"Is Active",name:"isActive"},model:{value:t.notification.isActive,callback:function(e){t.$set(t.notification,"isActive",e)},expression:"notification.isActive"}})],1),t._v(" "),t._l(t.active_days,function(e,s){return a("el-col",{key:s,staticClass:"margin-bottom-15",attrs:{span:3}},[a("label",{attrs:{for:""}},[t._v(t._s(s)),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("input",{directives:[{name:"mask",rawName:"v-mask",value:"####-####",expression:"'####-####'"},{name:"model",rawName:"v-model",value:t.active_days[s],expression:"active_days[day]"}],staticClass:"form-input",domProps:{value:t.active_days[s]},on:{input:function(e){e.target.composing||t.$set(t.active_days,s,e.target.value)}}})])}),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:24}},["GEOZONE"==t.search_for?a("el-button",{attrs:{type:"primary",loading:t.create_notification_inprocess},nativeOn:{click:function(e){t.saveNotification(t.search_for)}}},[t._v("Save Zone Notification")]):t._e(),t._v(" "),"STORE"==t.search_for?a("el-button",{attrs:{type:"primary",loading:t.create_notification_inprocess},nativeOn:{click:function(e){t.saveNotification(t.search_for)}}},[t._v("Save Store Notification")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.create_notification_inprocess=!1}}},[t._v("Cancel")])],1)],2):t._e()],1)],1)},staticRenderFns:[]};var _a=a("VU/8")(pa,ua,!1,function(t){a("xYVM"),a("gDdH")},"data-v-0d7917a8",null).exports,va={name:"GlobalNotificationList",components:{TopBar:w},props:["app_id"],created:function(){this.loadNotifications()},data:function(){return{resultLength0:!1,isLoading:!1,notification_list:[],search_for:"GEOZONE",notifications_for:"GEOZONE"}},methods:{loadNotifications:function(){var t=this;this.isLoading=!0,this.resultLength0=!1;var e=this.search_for;v.post("/v1/app/notification/",{app_id:this.app_id,search_for:this.search_for}).then(function(a){t.isLoading=!1,t.notifications_for=e,console.log("app-notifications: ",a),t.notification_list=a.data.data,t.notification_list.length||(t.resultLength0=!0)}).catch(function(t){console.log(t)})},edit:function(t){this.$router.push({path:"/global-notification-edit/app_id/"+this.app_id+"/type/"+this.notifications_for+"/nt_id/"+t+"/"})},deleteNotification:function(t,e){var a=this;v.post("/v1/notification/delete/",{app_id:this.app_id,nt_id:t}).then(function(t){t.data.status&&t.data.data[0].nt_id&&a.notification_list.splice(e,1)}).catch(function(t){console.log(t)})}},computed:{}},fa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"GlobalNotificationList"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"0px 20px"}},[a("el-row",{staticStyle:{padding:"0px 20px"},attrs:{gutter:10}},[a("el-col",{attrs:{span:24}},[a("h3",{staticStyle:{"margin-bottom":"0px"}},[t._v("Notifications")])])],1),t._v(" "),a("el-row",{staticStyle:{padding:"20px 20px 0 20px","margin-bottom":"20px"},attrs:{gutter:10}},[a("el-col",{attrs:{span:4}},[a("el-radio",{attrs:{size:"small",label:"GEOZONE",border:""},model:{value:t.search_for,callback:function(e){t.search_for=e},expression:"search_for"}},[t._v("Search Zone")])],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-radio",{attrs:{size:"small",label:"STORE",border:""},model:{value:t.search_for,callback:function(e){t.search_for=e},expression:"search_for"}},[t._v("Search Store")])],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",size:"small"},nativeOn:{click:function(e){t.loadNotifications()}}},[t._v("Search")])],1)],1),t._v(" "),a("el-row",{staticStyle:{padding:"0px 20px 15px 20px","border-bottom":"1px solid #EEE"},attrs:{gutter:10}},[a("el-col",{attrs:{span:24}},["GEOZONE"==t.notifications_for?a("h4",{staticStyle:{"margin-bottom":"0px"}},[t._v("Matching Zone Notifications")]):t._e(),t._v(" "),"STORE"==t.notifications_for?a("h4",{staticStyle:{"margin-bottom":"0px"}},[t._v("Mathing Store Notifications")]):t._e()])],1),t._v(" "),a("el-row",t._l([1,2,3],function(e,s){return t.isLoading?a("el-col",{key:"loader"+s,staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1):t._e()})),t._v(" "),a("el-row",{staticStyle:{padding:"0px 20px 15px 20px"}},[t.resultLength0&&!t.isLoading?a("el-col",{attrs:{span:24}},[a("h5",{staticStyle:{color:"#666"}},[t._v(" No Result Found...")])]):t._e()],1),t._v(" "),t._l(t.notification_list,function(e,s){return t.isLoading?t._e():a("el-row",{key:s,staticClass:"notification-item",staticStyle:{padding:"15px 20px"},attrs:{gutter:10}},[a("el-col",{attrs:{span:10}},[a("div",[a("label",{attrs:{for:""}},[t._v("Notification id")]),t._v(" "),a("span",{staticStyle:{"font-size":"0.8em"}},[t._v(t._s(e.nt_id))])]),t._v(" "),a("div",[a("label",{attrs:{for:""}},[t._v("Notification Text")]),t._v("\n          "+t._s(e.notification[0].text)+" "),a("br"),t._v(" "),a("span",{staticStyle:{"font-size":"0.8em",color:"#666"}},[t._v(t._s(e.notification[0].sub_text))])])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("div",[a("label",{attrs:{for:""}},[t._v("Notification Type")]),t._v("\n          "+t._s(e.notification_type[0].name)+"\n        ")]),t._v(" "),a("div",[a("label",{attrs:{for:""}},[t._v("Action Type")]),t._v("\n          "+t._s(e.notification_action_type[0].name)+"\n        ")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("label",{attrs:{for:""}},[t._v("Match Type")]),t._v("\n          "+t._s(e.notification[0].notification_match_type)+"\n        ")]),t._v(" "),"BRAND"==e.notification[0].notification_match_type?a("div",[a("label",{attrs:{for:""}},[t._v("Associated Brands")]),t._v(" "),t._l(e.notification_brands,function(s,i){return a("span",{key:"brand"+i,staticStyle:{"font-size":"0.9em"}},[t._v("\n              "+t._s(s.name)+" "),i<e.notification_brands.length-1?a("span",[t._v(", ")]):t._e()])})],2):t._e()]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){t.edit(e.nt_id)}}},[t._v("Edit")]),t._v(" "),a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){t.deleteNotification(e.nt_id,s)}}},[t._v("Delete")])],1),t._v(" "),"GEOZONE"==t.notifications_for?a("el-col",{attrs:{span:24}},[a("label",{attrs:{for:""}},[t._v("Associated Zones")]),t._v(" "),a("span",{staticStyle:{"font-size":"0.8em",color:"#666"}},[t._v(t._s(e.geozone_names.join(", ")))])]):t._e(),t._v(" "),"STORE"==t.notifications_for?a("el-col",{attrs:{span:24}},[a("label",{attrs:{for:""}},[t._v("Associated Stores")]),t._v(" "),a("span",{staticStyle:{"font-size":"0.8em",color:"#666"}},[t._v(t._s(e.store_names.join(", ")))])]):t._e()],1)})],2)],1)},staticRenderFns:[]};var ga=a("VU/8")(va,fa,!1,function(t){a("tB6C")},"data-v-14556880",null).exports,ha={name:"GlobalNotificationEdit",components:{TopBar:w},props:["app_id","nt_id","type"],created:function(){this.isLoading=!0,this.getNotificationTypes()},data:function(){return{inventory_request_params:"",isInventoryRequestInputVisible:!1,textPlaceholder:"Welcome {{user_name}} to {{geozone_name}}",subTextPlaceholder:"{{consumer_preferred_brands}} here",associated_zones:[],associated_stores:[],isLoading:!1,available_wildcards:["{{user_name}}","{{store_name}}","{{geozone_name}}","{{ezone_name}}"],available_wildcards_sub_text:["{{consumer_preferred_brands}}"],selected_notification_type:null,selected_notification_action_type:null,create_notification_inprocess:!1,notification:{isActive:!0,text:"",sub_text:"",image_url:"",action_url:"",validity_start:new Date,validity_end:new Date((new Date).setFullYear((new Date).getFullYear()+1))},notification_types:[],notification_types_ready:!1,notification_action_types:[],notification_action_types_ready:!1,active_days:{SUNDAY:"0800-1700",MONDAY:"0800-1700",TUESDAY:"0800-1700",WEDNESDAY:"0800-1700",THURSDAY:"0800-1700",FRIDAY:"0800-1700",SATURDAY:"0800-1700"}}},methods:{showInventoryRequestInput:function(){"Inventory"==this.selected_notification_type.name?this.isInventoryRequestInputVisible=!0:(this.inventory_request_params="",this.isInventoryRequestInputVisible=!1)},set_validity_end:function(t){this.notification.validity_end=new Date(new Date(t).setFullYear(new Date(t).getFullYear()+1))},getNotificationTypes:function(){var t=this;v.post("/v1/notification-types/get/",{}).then(function(e){t.notification_types=e.data.data[0].notification_types,t.notification_types_ready=!0,t.getNotificationActionTypes()}).catch(function(t){console.log(t)})},getNotificationActionTypes:function(){var t=this;v.post("/v1/notification-action-types/get/",{}).then(function(e){t.notification_action_types=e.data.data[0].notification_action_types,t.notification_action_types_ready=!0,t.loadNotification()}).catch(function(t){console.log(t)})},loadNotification:function(){var t=this;v.post("/v1/app/notification-for-edit/",{app_id:this.app_id,search_for:this.type,nt_id:this.nt_id}).then(function(e){t.isLoading=!1,console.log("notification-for-edit: ",e.data.data[0]),t.associated_stores=e.data.data[0].store_names?e.data.data[0].store_names:[],t.associated_zones=e.data.data[0].geozone_names?e.data.data[0].geozone_names:[],t.notification.isActive=e.data.data[0].notification[0].isActive,t.notification.text=e.data.data[0].notification[0].text,t.notification.sub_text=e.data.data[0].notification[0].sub_text,t.notification.image_url=e.data.data[0].notification[0].image_url,t.notification.notification_match_type=e.data.data[0].notification[0].notification_match_type,t.notification.action_url=e.data.data[0].notification[0].action_url,t.inventory_request_params=e.data.data[0].notification[0].inventory_request_params,t.notification.validity_start=new Date(e.data.data[0].notification[0].validity_start),t.notification.validity_end=new Date(e.data.data[0].notification[0].validity_end);try{var a=JSON.parse(e.data.data[0].notification[0].active_days),s=a.hasOwnProperty("SUNDAY")&&a.hasOwnProperty("MONDAY")&&a.hasOwnProperty("TUESDAY")&&a.hasOwnProperty("WEDNESDAY")&&a.hasOwnProperty("THURSDAY")&&a.hasOwnProperty("FRIDAY")&&a.hasOwnProperty("SATURDAY");t.active_days=s?a:t.active_days}catch(t){console.log("active_days JSON parse error, setting default")}var i=t.notification_types.findIndex(function(t){return t.uuid==e.data.data[0].notification_type[0].uuid});t.selected_notification_type=t.notification_types[i],console.log("notification_types_index",i),t.showInventoryRequestInput();var o=t.notification_action_types.findIndex(function(t){return t.uuid==e.data.data[0].notification_action_type[0].uuid});t.selected_notification_action_type=t.notification_action_types[o],console.log("notification_action_types_index",o)}).catch(function(t){console.log(t)})},convertUTCDateToLocalString:function(t){try{var e=60*(new Date).getTimezoneOffset()*1e3,a=new Date(t-e);return new Date(a).toISOString().replace("Z","")}catch(t){return null}},updateNotification:function(t){var e=this;if(this.notification.text&&this.notification.validity_start&&this.notification.validity_end&&this.notification.notification_match_type&&this.selected_notification_type&&this.selected_notification_action_type){this.create_notification_inprocess=!0;var a="",s={};s.app_id=this.app_id,s.nt_id=this.nt_id,s.notification=JSON.parse(c()(this.notification)),s.notification.validity_start=new Date(s.notification.validity_start).getTime(),s.notification.validity_end=new Date(s.notification.validity_end).getTime(),s.action_type=this.selected_notification_action_type,s.notification_type=this.selected_notification_type,s.active_days=this.active_days,s.inventory_request_params=this.inventory_request_params,"GEOZONE"==this.type?(s.selected_match_type_brands=[],a="/v1/geozone/notification/update/"):"STORE"==this.type&&(s.selected_match_type_brands=[],a="/v1/store/notification/update/"),console.log("payload",s),v.post(a,s).then(function(t){t.data.status&&new u.a({title:"Success",description:"Notification created successfully.",className:"notices",type:"success",duration:3}),e.create_notification_inprocess=!1,console.log("create notification reaponse: ",t)}).catch(function(t){console.log(t)})}}},computed:{}},ya={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"GlobalNotificationEdit"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"0px 20px","min-height":"90vh"}},[a("h4",[t._v("Edit Notification")]),t._v(" "),a("el-row",[t.associated_zones.length?a("el-col",{attrs:{span:24}},[a("label",{attrs:{for:""}},[t._v("Associated Zones")]),t._v(" "),a("span",{staticStyle:{"font-size":"0.8em",color:"#666"}},[t._v(t._s(t.associated_zones.join(", ")))])]):t._e(),t._v(" "),t.associated_stores.length?a("el-col",{attrs:{span:24}},[a("label",{attrs:{for:""}},[t._v("Associated Stores")]),t._v(" "),a("span",{staticStyle:{"font-size":"0.8em",color:"#666"}},[t._v(t._s(t.associated_stores.join(", ")))])]):t._e()],1),t._v(" "),a("el-row",t._l([1,2,3,4,5,6,7],function(e,s){return t.isLoading?a("el-col",{key:"loader"+s,staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1):t._e()})),t._v(" "),t.isLoading?t._e():a("el-row",{staticStyle:{padding:"20px 20px","border-top":"1px solid #EEE"},attrs:{gutter:10}},[a("el-col",{attrs:{span:24}},[a("label",{attrs:{for:""}},[t._v("Text"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.notification.text,expression:"notification.text"}],staticClass:"form-input",attrs:{"auto-complete":"off",placeholder:t.textPlaceholder},domProps:{value:t.notification.text},on:{input:function(e){e.target.composing||t.$set(t.notification,"text",e.target.value)}}}),t._v(" "),a("p",{staticClass:"margin-bottom-15",staticStyle:{"font-size":"0.8em",color:"#999","margin-top":"0px","font-weight":"bold"}},[t._v("available wildcards "),t._l(t.available_wildcards,function(e){return a("span",[t._v(t._s(e)+", ")])})],2)]),t._v(" "),a("el-col",{attrs:{span:24}},[a("label",{attrs:{for:""}},[t._v("Sub-Text")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.notification.sub_text,expression:"notification.sub_text"}],staticClass:"form-input margin-bottom-15",attrs:{"auto-complete":"off",placeholder:t.subTextPlaceholder},domProps:{value:t.notification.sub_text},on:{input:function(e){e.target.composing||t.$set(t.notification,"sub_text",e.target.value)}}}),t._v(" "),a("p",{staticClass:"margin-bottom-15",staticStyle:{"font-size":"0.8em",color:"#999","margin-top":"0px","font-weight":"bold"}},[t._v("available wildcards "),t._l(t.available_wildcards_sub_text,function(e){return a("span",[t._v(t._s(e)+", ")])})],2)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",{attrs:{for:""}},[t._v("Image URL")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.notification.image_url,expression:"notification.image_url"}],staticClass:"form-input margin-bottom-15",attrs:{"auto-complete":"off",placeholder:"image_url"},domProps:{value:t.notification.image_url},on:{input:function(e){e.target.composing||t.$set(t.notification,"image_url",e.target.value)}}})]),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",{attrs:{for:""}},[t._v("Action URL")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.notification.action_url,expression:"notification.action_url"}],staticClass:"form-input margin-bottom-15",attrs:{"auto-complete":"off",placeholder:"action_url"},domProps:{value:t.notification.action_url},on:{input:function(e){e.target.composing||t.$set(t.notification,"action_url",e.target.value)}}})]),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",{attrs:{for:""}},[t._v("Start Date"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("br"),t._v(" "),a("el-date-picker",{attrs:{type:"datetime",format:"dd-MM-yyyy HH:mm",placeholder:"Select date and time"},on:{input:function(e){t.set_validity_end(t.notification.validity_start)}},model:{value:t.notification.validity_start,callback:function(e){t.$set(t.notification,"validity_start",e)},expression:"notification.validity_start"}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",{attrs:{for:""}},[t._v("Valid Till"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("br"),t._v(" "),a("el-date-picker",{attrs:{type:"datetime",format:"dd-MM-yyyy HH:mm",placeholder:"Select date and time"},model:{value:t.notification.validity_end,callback:function(e){t.$set(t.notification,"validity_end",e)},expression:"notification.validity_end"}})],1),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:8}},[a("label",{attrs:{for:""}},[t._v(" Matching Type"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.notification.notification_match_type,expression:"notification.notification_match_type"}],attrs:{placeholder:"Please select notification match type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.notification,"notification_match_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{label:"General",value:"GENERAL"}}),t._v(" "),a("option",{directives:[{name:"show",rawName:"v-show",value:"GEOZONE"!=t.type,expression:"type!='GEOZONE'"}],attrs:{label:"Multi Match Brand",value:"MULTI_MATCH_BRAND"}}),t._v(" "),a("option",{directives:[{name:"show",rawName:"v-show",value:"GEOZONE"!=t.type,expression:"type!='GEOZONE'"}],attrs:{label:"Multi Match Store",value:"MULTI_MATCH_STORE"}}),t._v(" "),a("option",{directives:[{name:"show",rawName:"v-show",value:"GEOZONE"!=t.type,expression:"type!='GEOZONE'"}],attrs:{label:"Brand",value:"BRAND"}})])]),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:8}},[a("label",{attrs:{for:""}},[t._v(" Notification Type"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_notification_type,expression:"selected_notification_type"}],attrs:{placeholder:"Please select notification type"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected_notification_type=e.target.multiple?a:a[0]},t.showInventoryRequestInput]}},t._l(t.notification_types,function(t,e){return a("option",{key:e,attrs:{label:t.name},domProps:{value:t}})}))]),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:8}},[a("label",{attrs:{for:""}},[t._v(" Action Type"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_notification_action_type,expression:"selected_notification_action_type"}],attrs:{placeholder:"Please select notification type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected_notification_action_type=e.target.multiple?a:a[0]}}},t._l(t.notification_action_types,function(e,s){return a("option",{directives:[{name:"show",rawName:"v-show",value:"GEOZONE"==t.type&&"In Store"!=e.name||"STORE"==t.type,expression:"type=='GEOZONE' && item.name!='In Store' || type=='STORE'"}],key:s,attrs:{label:e.name},domProps:{value:e}})}))]),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:24}},[a("label",[t._v("Inventory Request Params")]),t._v(" "),t.isInventoryRequestInputVisible?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.inventory_request_params,expression:"inventory_request_params"}],staticClass:"form-textarea",domProps:{value:t.inventory_request_params},on:{input:function(e){e.target.composing||(t.inventory_request_params=e.target.value)}}}):t._e()]),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:3}},[a("el-checkbox",{attrs:{label:"Is Active",name:"isActive"},model:{value:t.notification.isActive,callback:function(e){t.$set(t.notification,"isActive",e)},expression:"notification.isActive"}})],1),t._v(" "),t._l(t.active_days,function(e,s){return a("el-col",{key:s,staticClass:"margin-bottom-15",attrs:{span:3}},[a("label",{attrs:{for:""}},[t._v(t._s(s)),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("input",{directives:[{name:"mask",rawName:"v-mask",value:"####-####",expression:"'####-####'"},{name:"model",rawName:"v-model",value:t.active_days[s],expression:"active_days[day]"}],staticClass:"form-input",domProps:{value:t.active_days[s]},on:{input:function(e){e.target.composing||t.$set(t.active_days,s,e.target.value)}}})])}),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:24}},["GEOZONE"==t.type?a("el-button",{attrs:{type:"primary",loading:t.create_notification_inprocess},nativeOn:{click:function(e){t.updateNotification(t.type)}}},[t._v("Save Zone Notification")]):t._e(),t._v(" "),"STORE"==t.type?a("el-button",{attrs:{type:"primary",loading:t.create_notification_inprocess},nativeOn:{click:function(e){t.updateNotification(t.type)}}},[t._v("Save Store Notification")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.create_notification_inprocess=!1}}},[t._v("Cancel")])],1)],2)],1)],1)},staticRenderFns:[]};var xa=a("VU/8")(ha,ya,!1,function(t){a("Jag8")},"data-v-60e71846",null).exports,ba={name:"ProfilePreferredBrands",components:{TopBar:w,multiselect:mt.a},props:["p_id","app_id","username"],created:function(){this.getInitialData()},mounted:function(){},data:function(){return{brand_dropdown:[],preferred_brands:[],selected_brand:null}},methods:{save:function(){var t=this;v.post("/v1/profile/consumer/assign-preferred-brand/",{app_id:this.app_id,p_id:this.p_id,br_id:this.selected_brand.br_id}).then(function(e){console.log("assign-preferred-brand",e),t.getPreferredBrands()}).catch(function(t){console.log(t)})},remove:function(t){var e=this;v.post("/v1/profile/consumer/remove-preferred-brand/",{app_id:this.app_id,p_id:this.p_id,br_id:t.br_id}).then(function(t){console.log("remove-preferred-brand",t),e.getPreferredBrands()}).catch(function(t){console.log(t)})},getInitialData:function(){var t=this;v.post("/v1/brand-for-dropdown/",{app_id:this.app_id}).then(function(e){console.log("brand-for-dropdown",e),t.brand_dropdown=e.data.data}).catch(function(t){console.log(t)}),this.getPreferredBrands()},getPreferredBrands:function(){var t=this;v.post("/v1/profile/consumer/get-preferred-brand/",{app_id:this.app_id,p_id:this.p_id}).then(function(e){console.log("get-preferred-brand",e.data.data),t.preferred_brands=e.data.data}).catch(function(t){console.log(t)})}},computed:{authUser:function(){return this.$store.state.general.authUser}}},Aa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"ProfilePreferredBrands"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"0px 20px","min-height":"90vh"}},[a("h2",[a("span",{staticStyle:{color:"#66b1ff"}},[t._v(t._s(t.username)+"\n          "),a("i",{staticClass:"el-icon-arrow-right"}),t._v("  ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1"}},[t._v("Manage Online Preferred Brands")])]),t._v(" "),a("label",{attrs:{for:""}},[t._v("Brand")]),t._v(" "),a("multiselect",{attrs:{"deselect-label":"","select-label":"","track-by":"br_id",label:"name",placeholder:"Select brand",options:t.brand_dropdown,searchable:!0,"allow-empty":!0},scopedSlots:t._u([{key:"singleLabel",fn:function(e){var s=e.option;return a("div",{},[t._v(t._s(s.name))])}}]),model:{value:t.selected_brand,callback:function(e){t.selected_brand=e},expression:"selected_brand"}}),t._v(" "),a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},nativeOn:{click:function(e){t.save()}}},[t._v("Save")]),t._v(" "),a("h4",[t._v("Consumer Preferred Brands")]),t._v(" "),t._l(t.preferred_brands,function(e,s){return a("p",{key:s,staticStyle:{"border-bottom":"1px solid #EEE",padding:"5px 0px"}},[a("i",{staticClass:"el-icon-circle-close-outline",staticStyle:{color:"red",cursor:"pointer"},on:{click:function(a){t.remove(e)}}}),t._v("    \n    "+t._s(e.name)+"\n  ")])})],2)],1)},staticRenderFns:[]};var Ca=a("VU/8")(ba,Aa,!1,function(t){a("rwvJ"),a("/pxN")},"data-v-0415c7e8",null).exports,wa={name:"AppStoreList",components:{TopBar:w,multiselect:mt.a},props:["app_id"],data:function(){return{search_query:{country:[],city:[],state:[]},state:"",city:"",country:"",selected_ezone:null,ezone_dropdown:[],all_city_dropdown:[],all_states_dropdown:[],all_country_dropdown:[],store_type:"APP_STORE",isLoading:!1,stores:[],ezones:[],ezone:{},selected_id:"",selected_gid:"",selected_eid:"",selected_ids:[],location:"",assignToEzonedialogVisible:!1,assignMultiToEzonedialogVisible:!1,dialogVisible:!1}},created:function(){this.getInitialDropdownData(),v.post("/v1/engagement-zone-for-dropdown/",{app_id:this.app_id}).then(this.getEzoneCallback).catch(function(t){console.log(t)}),"APP_STORE"==this.store_type?(this.selected_ids=[],this.getAppStores()):(this.store_type="EZONE_STORE")&&(this.selected_ids=[],this.getEzoneStores())},watch:{country:function(t,e){this.all_states_dropdown=[],this.all_city_dropdown=[],this.state="",this.city="",t&&this.getStates()},state:function(t,e){this.all_city_dropdown=[],this.city="",t&&(this.addUniqueToList(this.search_query.state,t),this.getCities())},city:function(t,e){this.geozone_dropdown=[],this.selected_geozone=null,t&&this.addUniqueToList(this.search_query.city,t)},store_type:function(t,e){this.selected_ids=[]}},computed:{authUser:function(){return this.$store.state.general.authUser}},methods:{checkRole:function(t){return!!this.authUser.roles&&this.authUser.roles.some(function(e){return e.name===t})},redirectToChatRoom:function(t){console.log("redirectToChatRoom",t),this.$router.push({path:"/admin-room-list/"+t+"/"+this.app_id})},resetSearchEzone:function(){this.isLoading=!0,this.selected_ezone="",v.post("/v1/all-store/",{app_id:this.app_id}).then(this.getStoreCallback).catch(function(t){console.log(t)})},resetSearchAllStore:function(){this.isLoading=!0,this.country="",this.state="",this.city="",v.post("/v1/app-store/",{app_id:this.app_id}).then(this.getStoreCallback).catch(function(t){console.log(t)})},searchEzone:function(){console.log(this.selected_ezone),this.selected_ezone&&(this.isLoading=!0,v.post("/v1/store/",{app_id:this.app_id,g_id:this.selected_ezone.g_id,e_id:this.selected_ezone.e_id}).then(this.getStoreCallback).catch(function(t){console.log(t)}))},searchStore:function(){console.log("searchStore",this.country,this.state,this.city),this.city&&(this.isLoading=!0,v.post("/v1/app-store/city/",{app_id:this.app_id,city:this.city}).then(this.getStoreCallback).catch(function(t){console.log(t)}))},addUniqueToList:function(t,e){t.indexOf(e)>-1||t.push(e)},getInitialDropdownData:function(){var t=this;v.post("/v1/dropdowns/countries/",{}).then(function(e){console.log("geo-zone-get-countries-dropdown",e),t.all_country_dropdown=e.data.data?e.data.data.map(function(t){return t.country}):[]}).catch(function(t){console.log(t)})},getStates:function(){var t=this;v.post("/v1/dropdowns/states/",{country:this.country}).then(function(e){console.log("geo-zone-get-states-dropdown",e),t.all_states_dropdown=e.data.data?e.data.data.map(function(t){return t.state}):[]}).catch(function(t){console.log(t)})},getCities:function(){var t=this;v.post("/v1/dropdowns/cities-for-state/",{country:this.country,state:this.state}).then(function(e){console.log("geo-zone-get-cities-dropdown",e),t.all_city_dropdown=e.data.data?e.data.data.map(function(t){return t.city}):[]}).catch(function(t){console.log(t)})},openDialog:function(t){console.log("this.stores[index]",this.stores[t]),this.selected_gid=this.stores[t].g_id,this.selected_eid=this.stores[t].e_id,this.selected_id=this.stores[t].store.uuid,this.dialogVisible=!0},updateLocation:function(){this.dialogVisible=!1,v.post("/v1/store/update-location/",{app_id:this.app_id,st_id:this.selected_id,g_id:this.selected_gid,e_id:this.selected_eid,properties:{location:this.location}}).then(this.postUpdateCallback).catch(function(t){console.log(t)})},ezoneStoreEdit:function(t,e,a,s){console.log("edit store",t),this.$router.push({path:"/store-create/"+this.app_id+"/"+e+"/"+a+"/"+s})},removeEzoneStore:function(t,e,a,s){v.post("/v1/store/delete/",{app_id:this.app_id,g_id:e,e_id:a,st_id:s}).then(this.postEzoneStoreRemoveCallback).catch(function(t){console.log(t)})},postEzoneStoreRemoveCallback:function(t){t.data.status&&(new u.a({title:"Success",description:"Store deleted successfully.",className:"notices",type:"success",duration:3}),this.getEzoneStores())},postRemoveCallback:function(t){t.data.status&&(new u.a({title:"Success",description:"Store deleted successfully.",className:"notices",type:"success",duration:3}),v.post("/v1/store/",{app_id:this.app_id,g_id:this.g_id,e_id:this.e_id}).then(this.getStoreCallback).catch(function(t){console.log(t)}))},getAppStores:function(){this.isLoading=!0,v.post("/v1/app-store/",{app_id:this.app_id}).then(this.getStoreCallback).catch(function(t){console.log(t)})},getEzoneStores:function(){this.isLoading=!0,v.post("/v1/all-store/",{app_id:this.app_id}).then(this.getStoreCallback).catch(function(t){console.log(t)})},getStoreCallback:function(t){this.isLoading=!1,console.log("getStoreCallback this.stores:",t.data),this.stores=t.data.data},getEzoneCallback:function(t){this.ezones=t.data.data},openAssignToEzoneDialog:function(t){this.selected_id=this.stores[t].store.uuid,this.assignToEzonedialogVisible=!0},openMultipleAssignToEzoneDialog:function(){this.assignMultiToEzonedialogVisible=!0},assignEzone:function(){this.assignToEzonedialogVisible=!1,v.post("/v1/app-store/assign-ezone/",{st_id:this.selected_id,app_id:this.app_id,g_id:this.ezone.g_id,e_id:this.ezone.e_id}).then(this.postUpdateCallback).catch(function(t){console.log(t)})},assignMultiEzone:function(){this.assignMultiToEzonedialogVisible=!1,"APP_STORE"==this.store_type?v.post("/v1/app-store/assign-ezone/",{st_id:this.selected_ids,app_id:this.app_id,g_id:this.ezone.g_id,e_id:this.ezone.e_id}).then(this.postUpdateCallback).catch(function(t){console.log(t)}):v.post("/v1/store/assign-ezone/",{st_id:this.selected_ids,app_id:this.app_id,g_id:this.ezone.g_id,e_id:this.ezone.e_id}).then(this.postUpdateCallback).catch(function(t){console.log(t)})},removeAppStore:function(t){v.post("/v1/app-store/delete/",{app_id:this.app_id,st_id:this.stores[t].st_id}).then(this.postRemoveCallback).catch(function(t){console.log(t)})},postUpdateCallback:function(t){t.data.status&&(new u.a({title:"Success",description:"Store Updated successfully.",className:"notices",type:"success",duration:3}),"APP_STORE"==this.store_type?this.getAppStores():(this.store_type="EZONE_STORE")&&this.getEzoneStores())},redirectToStoreNodification:function(t,e,a){this.$router.push({path:"/store/notification-list/"+this.app_id+"/"+e+"/"+a})},redirectToStoreManagement:function(t,e,a){this.$router.push({path:"/store/staff-list/"+this.app_id+"/"+a})},redirectToBrandManagement:function(t,e,a){this.$router.push({path:"/store/brand-list/"+this.app_id+"/"+e+"/"+a})},redirectToBack:function(){this.$router.go(-1)}}},Sa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AppStoreList"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"10px auto","max-width":"80vw",overflow:"visible"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.redirectToBack()}}},[t._v("App Dashboard\n          "),a("i",{staticClass:"el-icon-arrow-right"}),t._v("  ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Stores")]),t._v(" "),a("router-link",{attrs:{to:{path:"/app-store/"+t.app_id}}},[a("el-button",{attrs:{type:"success",size:"mini"}},[t._v("New Unassigned Store")])],1)],1)]),t._v(" "),a("div",[a("el-radio-group",{attrs:{size:"small"},model:{value:t.store_type,callback:function(e){t.store_type=e},expression:"store_type"}},[a("el-radio",{attrs:{label:"APP_STORE",border:""},nativeOn:{click:function(e){return t.getAppStores(e)}}},[t._v("Unassigned Stores")]),t._v(" "),a("el-radio",{attrs:{label:"EZONE_STORE",border:""},nativeOn:{click:function(e){return t.getEzoneStores(e)}}},[t._v("EZone Stores")])],1),t._v(" "),a("el-button",{staticStyle:{float:"right",margin:"10px"},attrs:{size:"mini",type:"primary"},nativeOn:{click:function(e){t.openMultipleAssignToEzoneDialog()}}},[t._v("Assign Selected Stores")]),t._v(" "),a("el-button",{staticStyle:{float:"right",margin:"10px"},attrs:{size:"mini"},nativeOn:{click:function(e){t.selected_ids=[]}}},[t._v("Clear Selection")])],1),t._v(" "),"APP_STORE"==t.store_type?a("el-row",{staticStyle:{"margin-top":"25px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("label",{attrs:{for:""}},[t._v("Country")]),t._v(" "),a("multiselect",{attrs:{"deselect-label":"","select-label":"","show-labels":!1,placeholder:"Select Country",options:t.all_country_dropdown,searchable:!0,"allow-empty":!0},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("label",{attrs:{for:""}},[t._v("State")]),t._v(" "),a("multiselect",{attrs:{"deselect-label":"","select-label":"","show-labels":!1,placeholder:"Select State",options:t.all_states_dropdown,searchable:!0,"allow-empty":!0},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("label",{attrs:{for:""}},[t._v("City")]),t._v(" "),a("multiselect",{attrs:{"deselect-label":"","select-label":"","show-labels":!1,placeholder:"Select City",options:t.all_city_dropdown,searchable:!0,"allow-empty":!0},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("label",{attrs:{for:""}},[t._v(" ")]),a("br"),t._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.searchStore()}}},[t._v("Search")]),t._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.resetSearchAllStore()}}},[t._v("Reset")])],1)],1):a("el-row",{staticStyle:{"margin-top":"25px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("label",{attrs:{for:""}},[t._v("Engagement Zone")]),t._v(" "),a("multiselect",{attrs:{"deselect-label":"","select-label":"","track-by":"e_id",label:"name",placeholder:"Select EZone",options:t.ezones,searchable:!0,"allow-empty":!0},model:{value:t.selected_ezone,callback:function(e){t.selected_ezone=e},expression:"selected_ezone"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("label",{attrs:{for:""}},[t._v(" ")]),a("br"),t._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.searchEzone()}}},[t._v("Search")]),t._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.resetSearchEzone()}}},[t._v("Reset")])],1)],1),t._v(" "),a("el-row",[t._l([1,2,3],function(e,s){return t.isLoading?a("el-col",{key:"loader"+s,staticStyle:{padding:"10px"},attrs:{xs:24,sm:24,md:12,lg:24,xl:24}},[a("div",{staticStyle:{"margin-bottom":"30px"}},[a("content-placeholders",[a("content-placeholders-heading",{attrs:{img:!0}}),t._v(" "),a("content-placeholders-text",{attrs:{lines:2}})],1)],1)]):t._e()}),t._v(" "),t._l(t.stores,function(e,s){return a("el-col",{key:s,staticStyle:{padding:"30px 10px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-dialog",{attrs:{title:"Select Engagement Zone",visible:t.assignToEzonedialogVisible},on:{"update:visible":function(e){t.assignToEzonedialogVisible=e}}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.ezone,expression:"ezone"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.ezone=e.target.multiple?a:a[0]}}},t._l(t.ezones,function(e,s){return a("option",{key:s,domProps:{value:e}},[t._v(t._s(e.name))])})),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.assignToEzonedialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.assignEzone()}}},[t._v("Confirm")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"Select Engagement Zone",visible:t.assignMultiToEzonedialogVisible},on:{"update:visible":function(e){t.assignMultiToEzonedialogVisible=e}}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.ezone,expression:"ezone"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.ezone=e.target.multiple?a:a[0]}}},t._l(t.ezones,function(e,s){return a("option",{key:s,domProps:{value:e}},[t._v(t._s(e.name))])})),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.assignMultiToEzonedialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.assignMultiEzone()}}},[t._v("Confirm")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"Add Location",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.location,expression:"location"}],attrs:{type:"text",placeholder:"latitude, longitude"},domProps:{value:t.location},on:{input:function(e){e.target.composing||(t.location=e.target.value)}}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.updateLocation()}}},[t._v("Confirm")])],1)]),t._v(" "),a("div",{staticClass:"text item"},[a("el-row",{staticClass:"vertical-center text-left",staticStyle:{"background-color":"#F1F1F1",padding:"10px 15px"}},[a("el-col",{attrs:{span:8}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Attribute ")])]),t._v(" "),a("el-col",{attrs:{span:14}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Value ")])]),t._v(" "),a("el-col",{attrs:{span:2}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selected_ids,expression:"selected_ids"}],attrs:{type:"checkbox",number:""},domProps:{value:e.store.uuid,checked:Array.isArray(t.selected_ids)?t._i(t.selected_ids,e.store.uuid)>-1:t.selected_ids},on:{change:function(a){var s=t.selected_ids,i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=e.store.uuid,r=t._i(s,n);i.checked?r<0&&(t.selected_ids=s.concat([n])):r>-1&&(t.selected_ids=s.slice(0,r).concat(s.slice(r+1)))}else t.selected_ids=o}}})])],1),t._v(" "),t._l(e.store_attributes,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center",staticStyle:{"font-size":"14px","border-bottom":"1px solid #F1F1F1",padding:"10px"}},[a("el-col",{staticClass:"bold",attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n              "+t._s(e.display_name)+"\n            ")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[t._v("\n              "+t._s(e.value)+"\n            ")])],1)}),t._v(" "),a("div",{staticStyle:{"font-size":"0.8em",padding:"10px","border-bottom":"1px solid #F1F1F1"}},[a("span",{staticStyle:{"flex-grow":"1"}},[t._v(t._s(e.store.uuid))])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.selected_ids.length,expression:"selected_ids.length == 0"}],staticStyle:{"font-size":"0.8em"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"APP_STORE"==t.store_type,expression:"store_type=='APP_STORE'"}],staticStyle:{"padding-bottom":"0px"},attrs:{type:"text"},nativeOn:{click:function(e){t.removeAppStore(s)}}},[t._v("Delete")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"APP_STORE"==t.store_type,expression:"store_type=='APP_STORE'"}],staticStyle:{"padding-bottom":"0px"},attrs:{type:"text"},nativeOn:{click:function(e){t.openAssignToEzoneDialog(s)}}},[t._v("Assign Engagement Zone")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"EZONE_STORE"==t.store_type,expression:"store_type=='EZONE_STORE'"}],staticStyle:{"padding-bottom":"0px","margin-left":"10px"},attrs:{type:"text"},nativeOn:{click:function(a){t.redirectToStoreNodification(e.g_id,e.e_id,e.st_id)}}},[t._v("Notification")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"EZONE_STORE"==t.store_type,expression:"store_type=='EZONE_STORE'"}],staticStyle:{"padding-bottom":"0px"},attrs:{type:"text"},nativeOn:{click:function(a){t.ezoneStoreEdit(s,e.g_id,e.e_id,e.st_id)}}},[t._v("Edit")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"EZONE_STORE"==t.store_type,expression:"store_type=='EZONE_STORE'"}],staticStyle:{"padding-bottom":"0px"},attrs:{type:"text"},nativeOn:{click:function(a){t.removeEzoneStore(s,e.g_id,e.e_id,e.st_id)}}},[t._v("Delete")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"EZONE_STORE"==t.store_type,expression:"store_type=='EZONE_STORE'"}],staticStyle:{"padding-bottom":"0px"},attrs:{type:"text"},nativeOn:{click:function(e){t.openDialog(s)}}},[t._v("Update Location")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"EZONE_STORE"==t.store_type,expression:"store_type=='EZONE_STORE'"}],staticStyle:{"padding-bottom":"0px"},attrs:{type:"text"},nativeOn:{click:function(a){t.redirectToBrandManagement(e.g_id,e.e_id,e.st_id)}}},[t._v("Manage Brands")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"EZONE_STORE"==t.store_type,expression:"store_type=='EZONE_STORE'"}],staticStyle:{"padding-bottom":"0px"},attrs:{type:"text"},nativeOn:{click:function(a){t.redirectToStoreManagement(e.g_id,e.e_id,e.st_id)}}},[t._v("Manage Staff")]),t._v(" "),t.checkRole("BE Admin")?a("el-button",{directives:[{name:"show",rawName:"v-show",value:"EZONE_STORE"==t.store_type,expression:"store_type=='EZONE_STORE'"}],staticStyle:{"padding-bottom":"0px"},attrs:{type:"text"},nativeOn:{click:function(a){t.redirectToChatRoom(e.st_id)}}},[t._v("Chat")]):t._e()],1)],2)],1)})],2),t._v(" "),a("br")],1)],1)},staticRenderFns:[]};var ka=a("VU/8")(wa,Sa,!1,function(t){a("eaiU"),a("78W6")},"data-v-25b9dfc4",null).exports,Na={name:"AppStoreCreate",components:{TopBar:w,multiselect:mt.a},props:["app_id","g_id","e_id","id"],data:function(){return{country:"",state:"",city:"",isLoaderLoading:!1,isFormLoading:!1,store_attributes:[],all_country_dropdown:[],all_states_dropdown:[],all_city_dropdown:[],dynamic_form_model:{},takeManualCityState:!1}},watch:{country:function(t,e){this.all_states_dropdown=[],this.all_city_dropdown=[],t&&this.getStates()},state:function(t,e){this.all_city_dropdown=[],this.city="",t&&this.getCities()}},created:function(){var t=this;v.post("/v1/dropdowns/countries/",{}).then(function(e){console.log("get-countries-dropdown",e),t.all_country_dropdown=e.data.data?e.data.data.map(function(t){return t.country}):[]}).catch(function(t){console.log(t)}),v.post("/v1/store-config/",{app_id:this.app_id}).then(this.getStoreConfigCallback).catch(function(t){console.log(t)})},methods:{getPlaceholder:function(t){return"wifi_primary_bssid"==t?"e.g. ab:cd:ef:12:34:56, 56:12:34:cd:ab:ef":"name"==t?"e.g. Westside R City Mall Mumbai":"location"==t?"e.g. 21.01,78.134":"wifi_tx_power"==t?"e.g. -30, -20, -10, -5, 10":"wifi_amb_bssid_list"==t?"e.g. ab:cd:ef:12:34:56":"ble_primary_address"==t?"e.g. ab:cd:ef:12:34:56":"ble_tx_power"==t?"e.g. -30, -20, -10, -5, 10":"ble_beacon_master_uuid"==t?"e.g. A1B2C3D4-E5F6-A7B8-C9D0-E1F2A3B4C5D6":"ble_beacon_slave_uuid"==t?"e.g. E1F2A3B4-C5D6-E7F8-A9B0-C1D2E3F4A5B6":""},getStates:function(){var t=this;v.post("/v1/dropdowns/states/",{country:this.country}).then(function(e){console.log("geo-zone-get-states-dropdown",e),t.all_states_dropdown=e.data.data?e.data.data.map(function(t){return t.state}):[]}).catch(function(t){console.log(t)})},getCities:function(){var t=this;v.post("/v1/dropdowns/cities-for-state/",{country:this.country,state:this.state}).then(function(e){console.log("geo-zone-get-cities-dropdown",e),t.all_city_dropdown=e.data.data?e.data.data.map(function(t){return t.city}):[]}).catch(function(t){console.log(t)})},getSortedAttributes:function(t){var e=t,a=Object(r.find)(e,function(t){return"country"==t.key}),s=Object(r.find)(e,function(t){return"state"==t.key}),i=Object(r.find)(e,function(t){return"city"==t.key}),o=Object(r.reject)(e,function(t){return["country","state","city"].indexOf(t.key)>-1});return Object(r.concat)(a,s,i,o)},getStoreConfigCallback:function(t){var e=this;console.log("getStoreConfigCallback",t),t.data.status&&(this.store_attributes=this.getSortedAttributes(t.data.data[0].store_attributes),this.dynamic_form_model={},this.store_attributes.forEach(function(t,a){e.$set(e.dynamic_form_model,t.key,Jt()({},t,{value:"",isFormFieldValid:!0}))}))},validateStore:function(){var t=[];for(var e in this.dynamic_form_model){var a=!1,s=(""+this.dynamic_form_model[e].value).trim();if(this.dynamic_form_model[e].regex&&s)a=!new RegExp(this.dynamic_form_model[e].regex).test(s),console.log("isError after regex check",a);this.dynamic_form_model[e].required&&!s&&(console.log("required constraint failed"),a=!0),a?(t.push(this.dynamic_form_model[e].key),this.dynamic_form_model[e].isFormFieldValid=!1):this.dynamic_form_model[e].isFormFieldValid=!0}return console.log("isStoreValid",t),0==t.length},saveStore:function(){v.post("/v1/app-store/create/",{app_id:this.app_id,g_id:this.g_id,e_id:this.e_id,properties:this.dynamic_form_model}).then(this.postSaveCallBack).catch(function(t){console.log(t)})},save:function(){console.log(this.dynamic_form_model),this.dynamic_form_model.city.value&&this.dynamic_form_model.state.value&&this.dynamic_form_model.country.value||(console.log("city state country missing in dynamic model"),this.getCityStateCountryFromGoogle())},getCityStateCountryFromGoogle:function(){var t=this;console.log("Getting city state from location coordinates...");var e=this.dynamic_form_model.location.value?this.dynamic_form_model.location.value.trim():"";if(!/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)\s*,\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/.test(e))return console.log("location not filled"),void this.validateStore();m.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng="+e.replace(" ","")+"&key=AIzaSyBWx06oZ1qYEP3OLaiY-yEaTEHQ_a9nUPA").then(function(e){console.log("location response: ",e);var a=e.data.results;if(a.length){t.city="",t.state="",t.country="",console.log("takeManualCityState false, taking values from google");for(var s=0;s<a[0].address_components.length;s++){var i=a[0].address_components[s];switch(i.types[0]){case"locality":i.long_name.trim().length&&(t.city=i.long_name);break;case"administrative_area_level_1":i.long_name.trim().length&&(t.state=i.long_name);break;case"country":i.long_name.trim().length&&(t.country=i.long_name)}}console.log("this.reverse_location",t.city,t.state,t.country)}t.populateLocationDropdown()}).catch(function(t){console.log(t)})},populateLocationDropdown:function(){""!=this.city.trim()&&""!=this.state.trim()&&""!=this.country.trim()||this.takeManualCityState?(this.dynamic_form_model.city.value=this.city,this.dynamic_form_model.state.value=this.state,this.dynamic_form_model.country.value=this.country,this.dynamic_form_model.city.value.trim().length&&this.dynamic_form_model.state.value.trim().length&&this.dynamic_form_model.country.value.trim().length?this.validateStore()?(console.log("valid store"),console.log(this.dynamic_form_model),this.saveStore()):(console.log("invalid store"),console.log(this.dynamic_form_model)):console.log("please fill manual city and state...")):(console.log("could not fild city or state from location..."),this.takeManualCityState=!0)},postSaveCallBack:function(t){console.log("Response: ",t,this.app_id),t.data.status&&(this.takeManualCityState=!1,this.$router.go(-1),new u.a({title:"Success",description:"Store created successfully.",className:"notices",type:"success",duration:3}),this.$router.push({path:"/app-store-list/"+this.app_id}))}}},Ma={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AppStoreCreate"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("h3",{staticStyle:{margin:"0px","padding-bottom":"15px","border-bottom":"1px solid #EEE"}},[t._v("Create Store")]),t._v(" "),a("div",{staticClass:"text item"},[t.takeManualCityState?a("p",{staticStyle:{"margin-top":"10px",color:"red","font-size":"0.8em","text-align":"center"}},[t._v("Error getting city state from location. Please fill manually.")]):t._e(),t._v(" "),t._l(t.store_attributes,function(e,s){return t.id&&"location"==e.key?t._e():a("div",{key:s},[a("el-row",{staticClass:"vertical-center",staticStyle:{"margin-top":"12px"},attrs:{gutter:10}},[a("el-col",{staticClass:"text-right",attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t.takeManualCityState?a("span",[t._v("\n              "+t._s(e.display_name)+"\n              "),e.required?a("span",{staticStyle:{color:"red"}},[t._v("*")]):t._e()]):a("span",["city"!=e.key&&"state"!=e.key&&"country"!=e.key?a("span",[t._v(t._s(e.display_name)),e.required?a("span",{staticStyle:{color:"red"}},[t._v("*")]):t._e()]):t._e()])]),t._v(" "),"text"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},["city"!=e.key&&"state"!=e.key&&"country"!=e.key?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[sa.key].value"}],staticClass:"form_input",attrs:{type:"text",required:e.required,placeholder:t.getPlaceholder(t.dynamic_form_model[e.key].key)},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v(" "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])]):"country"==e.key&&t.takeManualCityState?a("div",[a("multiselect",{staticStyle:{width:"80%"},attrs:{"deselect-label":"","select-label":"","show-labels":!1,placeholder:"Select Country",options:t.all_country_dropdown,searchable:!0,"allow-empty":!0},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v(" "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])],1):"state"==e.key&&t.takeManualCityState?a("div",[a("multiselect",{staticStyle:{width:"80%"},attrs:{"deselect-label":"","select-label":"","show-labels":!1,placeholder:"Select State",options:t.all_states_dropdown,searchable:!0,"allow-empty":!0},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v(" "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])],1):"city"==e.key&&t.takeManualCityState?a("div",[a("multiselect",{staticStyle:{width:"80%"},attrs:{"deselect-label":"","select-label":"","show-labels":!1,placeholder:"Select City",options:t.all_city_dropdown,searchable:!0,"allow-empty":!0},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v("  "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])],1):t._e()]):t._e(),t._v(" "),"text_area"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[sa.key].value"}],attrs:{rows:"4",cols:"50",required:e.required},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v("  "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])]):t._e(),t._v(" "),"checkbox"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[sa.key].value"}],staticClass:"form_input",attrs:{type:"checkbox",required:e.required},domProps:{checked:Array.isArray(t.dynamic_form_model[e.key].value)?t._i(t.dynamic_form_model[e.key].value,null)>-1:t.dynamic_form_model[e.key].value},on:{change:function(a){var s=t.dynamic_form_model[e.key].value,i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=t._i(s,null);i.checked?n<0&&t.$set(t.dynamic_form_model[e.key],"value",s.concat([null])):n>-1&&t.$set(t.dynamic_form_model[e.key],"value",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.dynamic_form_model[e.key],"value",o)}}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v("  "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])]):t._e(),t._v(" "),"number"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[sa.key].value"}],staticClass:"form_input",attrs:{type:"number",required:e.required,placeholder:t.getPlaceholder(t.dynamic_form_model[e.key].key)},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v("  "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])]):t._e(),t._v(" "),"tel"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[sa.key].value"}],staticClass:"form_input",attrs:{type:"tel",required:e.required},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v("  "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])]):t._e(),t._v(" "),"float"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[sa.key].value"}],staticClass:"form_input",attrs:{type:"number",required:e.required},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v("  "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])]):t._e(),t._v(" "),"date"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[sa.key].value"}],staticClass:"form_input",attrs:{type:"date",required:e.required},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v("  "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])]):t._e(),t._v(" "),"time"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[sa.key].value"}],staticClass:"form_input",attrs:{type:"time",required:e.required},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v("  "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])]):t._e(),t._v(" "),"password"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[sa.key].value"}],staticClass:"form_input",attrs:{type:"password",required:e.required},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v("  "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])]):t._e(),t._v(" "),"geo_point"==e.value_type?a("el-col",{staticClass:"text-left",attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dynamic_form_model[e.key].value,expression:"dynamic_form_model[sa.key].value"}],staticClass:"form_input",attrs:{type:"text",required:"",placeholder:t.getPlaceholder(t.dynamic_form_model[e.key].key)},domProps:{value:t.dynamic_form_model[e.key].value},on:{input:function(a){a.target.composing||t.$set(t.dynamic_form_model[e.key],"value",a.target.value)}}}),t._v(" "),a("p",{staticClass:"form-error-msg",class:{hidden:t.dynamic_form_model[e.key].isFormFieldValid}},[t._v("  "+t._s("Invalid "+t.dynamic_form_model[e.key].display_name))])]):t._e()],1)],1)}),t._v(" "),a("el-row",{staticClass:"vertical-center",staticStyle:{"text-align":"center","margin-top":"15px"}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.save()}}},[t._v("Save")])],1)],1)],2)])],1)},staticRenderFns:[]};var Ia=a("VU/8")(Na,Ma,!1,function(t){a("jHb/"),a("09o6")},null,null).exports,Ea={name:"UpdateCustomerId",components:{TopBar:w},props:["app_id","p_id","customer_id"],data:function(){return{customerId:null}},created:function(){console.log("app_id, p_id",this.app_id,this.p_id,this.customer_id),this.customerId=this.customer_id},methods:{update:function(){var t=this;this.customerId&&v.post("/v1/user-update-customer-id",{customer_id:this.customerId,app_id:this.app_id,p_id:this.p_id}).then(function(e){e.data.status&&(new u.a({title:"Success",description:"Customer Id updated successfully.",type:"success",duration:3}),t.$router.go(-1),t.customerId="")}).catch(function(t){console.log(t)})}}},Da={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"UpdateCustomerId"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("h3",{staticClass:"form-section-header"},[t._v("Update Customer Id")]),t._v(" "),a("el-row",{staticClass:"vertical-center margin-top-20",attrs:{gutter:10}},[a("el-col",{staticClass:"text-left",attrs:{span:12}},[t._v("\n        Customer Id"),a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.customerId,expression:"customerId"}],attrs:{type:"text",required:""},domProps:{value:t.customerId},on:{input:function(e){e.target.composing||(t.customerId=e.target.value)}}})])],1),t._v(" "),a("el-row",{staticClass:"vertical-center margin-top-20",attrs:{gutter:10}},[a("el-col",{staticClass:"text-left",attrs:{span:24}},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.update()}}},[t._v("Update")])],1)],1)],1)],1)},staticRenderFns:[]},Ta=a("VU/8")(Ea,Da,!1,null,null,null).exports,La={name:"ManageStoreManager",components:{TopBar:w},props:["app_id"],data:function(){return{isLoading:!1,profiles:[]}},created:function(){this.initProfileData()},methods:{initProfileData:function(t){v.post("/v1/profile/store-manager/",{app_id:this.app_id}).then(this.getProfileCallback).catch(function(t){console.log(t)})},getProfileCallback:function(t){this.isLoading=!1,this.profiles=t.data.data},openProfileBrands:function(t){this.$router.push({path:"/store-manager-assign-brand/"+this.app_id+"/"+t.p_id+"/"+t.profile.username})},openProfileStores:function(t){this.$router.push({path:"/store-manager-assign-store/"+this.app_id+"/"+t.p_id+"/"+t.profile.username})},openProfileCity:function(t){this.$router.push({path:"/store-manager-assign-city/"+this.app_id+"/"+t.p_id+"/"+t.profile.username})},openProfileAssignedStore:function(t){this.$router.push({path:"/store-manager-get-assigned-store/"+this.app_id+"/"+t.p_id+"/"+t.profile.username})},redirectToBack:function(){this.$router.go(-1)}}},Ra={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ManageStoreManager"},[a("TopBar"),t._v(" "),a("el-row",{staticStyle:{margin:"0 auto",width:"90vw"},attrs:{gutter:15}},[t._l([1,2,3,4,5],function(e,s){return t.isLoading?a("el-col",{key:"loader"+s,staticStyle:{"margin-bottom":"15px"},attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-card",{staticStyle:{height:"270px"}},[a("content-placeholders",[a("content-placeholders-heading",{attrs:{img:!0}}),t._v(" "),a("content-placeholders-text",{attrs:{lines:3}}),t._v(" "),a("content-placeholders-text",{attrs:{lines:3}})],1)],1)],1):t._e()}),t._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix"},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.redirectToBack()}}},[t._v("App Dashboard >  ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Manage store manager")]),t._v(" "),a("router-link",{attrs:{to:{path:"/manage-customer-care/"+t.app_id+"/"}}},[a("el-button",{attrs:{type:"success",size:"mini"}},[t._v("Manage customer care")])],1)],1)])]),t._v(" "),t._l(t.profiles,function(e,s){return a("el-col",{key:s,staticStyle:{margin:"50px 0 15px 0"},attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-card",{staticClass:"box-card"},[a("div",{staticStyle:{width:"100%",height:"180px","overflow-y":"auto"}},[a("el-row",{staticClass:"vertical-center text-left",staticStyle:{"background-color":"#F1F1F1",padding:"10px 15px"}},[a("el-col",{attrs:{span:8}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Attribute ")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Value ")])])],1),t._v(" "),t._l(e.profile_attributes,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[a("span",{staticStyle:{"font-size":"0.7em","font-weight":"bold"}},[t._v(t._s(e.display_name))])]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v("\n              "+t._s(e.value)+"\n            ")])],1)}),t._v(" "),a("el-row",{staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[a("span",{staticStyle:{"font-size":"0.7em","font-weight":"bold"}},[t._v("Role")])]),t._v(" "),a("el-col",{attrs:{span:16}},t._l(e.roles,function(e,s){return a("p",{key:s,staticStyle:{margin:"0px"}},[t._v(t._s(s+1)+". "+t._s(e.name)+" ")])}))],1),t._v(" "),a("el-row",{staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[a("span",{staticStyle:{"font-size":"0.7em","font-weight":"bold"}},[t._v("Username")])]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v("\n              "+t._s(e.profile.username)+"\n            ")])],1),t._v(" "),e.profile.customer_id?a("el-row",{staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[a("span",{staticStyle:{"font-size":"0.7em","font-weight":"bold"}},[t._v("Customer Id")])]),t._v(" "),a("el-col",{attrs:{span:24}},[t._v("\n              "+t._s(e.profile.customer_id)+"\n            ")])],1):t._e(),t._v(" "),a("div",{staticStyle:{"font-size":"0.8em",padding:"5px 10px"}},[t._v("\n            "+t._s(e.p_id)+"\n          ")])],2),t._v(" "),a("div",{staticClass:"text-right",staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){t.openProfileBrands(e)}}},[t._v("Assign Brands")]),t._v(" "),a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){t.openProfileStores(e)}}},[t._v("Assign Store")]),t._v(" "),a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){t.openProfileCity(e)}}},[t._v("Assign Region")]),t._v(" "),a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){t.openProfileAssignedStore(e)}}},[t._v("Assigned Stores")])],1)])],1)})],2)],1)},staticRenderFns:[]},Oa=a("VU/8")(La,Ra,!1,null,null,null).exports,Ua={name:"ManageCustomerCare",components:{TopBar:w},props:["app_id"],data:function(){return{isLoading:!1,profiles:[]}},created:function(){this.initProfileData()},methods:{initProfileData:function(t){v.post("/v1/profile/customer-care-admin/",{app_id:this.app_id}).then(this.getProfileCallback).catch(function(t){console.log(t)})},getProfileCallback:function(t){this.isLoading=!1,this.profiles=t.data.data},openProfileBrands:function(t){this.$router.push({path:"/customer-care-assign-brands/"+this.app_id+"/"+t.p_id+"/"+t.profile.username})},openProfileStores:function(t){this.$router.push({path:"/customer-care-assign-store/"+this.app_id+"/"+t.p_id+"/"+t.profile.username})},openProfileCity:function(t){this.$router.push({path:"/customer-care-assign-city/"+this.app_id+"/"+t.p_id+"/"+t.profile.username})},openProfileAssignedStore:function(t){this.$router.push({path:"/customer-care-get-assigned-store/"+this.app_id+"/"+t.p_id+"/"+t.profile.username})},redirectToBack:function(){this.$router.go(-1)}}},Fa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ManageCustomerCare"},[a("TopBar"),t._v(" "),a("el-row",{staticStyle:{margin:"0 auto",width:"90vw"},attrs:{gutter:15}},[t._l([1,2,3,4,5],function(e,s){return t.isLoading?a("el-col",{key:"loader"+s,staticStyle:{"margin-bottom":"15px"},attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-card",{staticStyle:{height:"270px"}},[a("content-placeholders",[a("content-placeholders-heading",{attrs:{img:!0}}),t._v(" "),a("content-placeholders-text",{attrs:{lines:3}}),t._v(" "),a("content-placeholders-text",{attrs:{lines:3}})],1)],1)],1):t._e()}),t._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix"},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.redirectToBack()}}},[t._v("App Dashboard >  ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Manage customer care")]),t._v(" "),a("router-link",{attrs:{to:{path:"/manage-store-manager/"+t.app_id+"/"}}},[a("el-button",{attrs:{type:"success",size:"mini"}},[t._v("Manage store manager")])],1)],1)])]),t._v(" "),t._l(t.profiles,function(e,s){return a("el-col",{key:s,staticStyle:{margin:"50px 0 15px 0"},attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-card",{staticClass:"box-card"},[a("div",{staticStyle:{width:"100%",height:"180px","overflow-y":"auto"}},[a("el-row",{staticClass:"vertical-center text-left",staticStyle:{"background-color":"#F1F1F1",padding:"10px 15px"}},[a("el-col",{attrs:{span:8}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Attribute ")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("h4",{staticStyle:{margin:"0px"}},[t._v(" Value ")])])],1),t._v(" "),t._l(e.profile_attributes,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[a("span",{staticStyle:{"font-size":"0.7em","font-weight":"bold"}},[t._v(t._s(e.display_name))])]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v("\n              "+t._s(e.value)+"\n            ")])],1)}),t._v(" "),a("el-row",{staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[a("span",{staticStyle:{"font-size":"0.7em","font-weight":"bold"}},[t._v("Role")])]),t._v(" "),a("el-col",{attrs:{span:16}},t._l(e.roles,function(e,s){return a("p",{key:s,staticStyle:{margin:"0px"}},[t._v(t._s(s+1)+". "+t._s(e.name)+" ")])}))],1),t._v(" "),a("el-row",{staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[a("span",{staticStyle:{"font-size":"0.7em","font-weight":"bold"}},[t._v("Username")])]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v("\n              "+t._s(e.profile.username)+"\n            ")])],1),t._v(" "),e.profile.customer_id?a("el-row",{staticClass:"vertical-center text-left",staticStyle:{padding:"5px 10px","border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{span:8}},[a("span",{staticStyle:{"font-size":"0.7em","font-weight":"bold"}},[t._v("Customer Id")])]),t._v(" "),a("el-col",{attrs:{span:24}},[t._v("\n              "+t._s(e.profile.customer_id)+"\n            ")])],1):t._e(),t._v(" "),a("div",{staticStyle:{"font-size":"0.8em",padding:"5px 10px"}},[t._v("\n            "+t._s(e.p_id)+"\n          ")])],2),t._v(" "),a("div",{staticClass:"text-right",staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){t.openProfileBrands(e)}}},[t._v("Assign Brands")]),t._v(" "),a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){t.openProfileStores(e)}}},[t._v("Assign Store")]),t._v(" "),a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){t.openProfileCity(e)}}},[t._v("Assign Region")]),t._v(" "),a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){t.openProfileAssignedStore(e)}}},[t._v("Assigned Stores")])],1)])],1)})],2)],1)},staticRenderFns:[]},Ba=a("VU/8")(Ua,Fa,!1,null,null,null).exports,Pa={name:"CustomerCareAssignStore",props:["app_id","p_id","username"],components:{TopBar:w},data:function(){return{isLoading:!1,stores:[],selected_ids:[]}},created:function(){this.getEzoneStores()},methods:{assignStore:function(t){v.post("/v1/profile/customer-care-admin/assign-store/",{app_id:this.app_id,p_id:this.p_id,st_id:t}).then(this.assignStoreCallback).catch(function(t){console.log(t)})},assignStoreCallback:function(t){t.status&&new u.a({title:"Success",description:"Store assigned successfully.",className:"notices",type:"success",duration:3})},redirectToBack:function(){this.$router.go(-1)},getEzoneStores:function(){this.isLoading=!0,v.post("/v1/all-store/",{app_id:this.app_id}).then(this.getStoreCallback).catch(function(t){console.log(t)})},getStoreCallback:function(t){this.isLoading=!1,console.log("getStoreCallback this.stores:",t.data),this.stores=t.data.data}}},za={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"CustomerCareAssignStore"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"10px auto","max-width":"80vw"}},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.redirectToBack()}}},[t._v(t._s(t.username)+"\n        "),a("i",{staticClass:"el-icon-arrow-right"}),t._v("  ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Manage stores")])])]),t._v(" "),t._l([1,2,3,4],function(e,s){return t.isLoading?a("el-card",{key:"loader"+s,staticClass:"box-card card-row",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("el-row",[a("el-col",{staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1)],1)],1):t._e()}),t._v(" "),t.isLoading||t.stores.length?t._e():a("el-row",{staticClass:"card-row"},[a("el-col",{staticStyle:{"text-align":"center"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticStyle:{border:"1px solid #000",padding:"10px","text-align":"center",margin:"20px auto",display:"inline-block"}},[t._v("\n        No stores to assign\n      ")])])],1),t._v(" "),t._l(t.stores,function(e,s){return t.isLoading?t._e():a("div",{key:s,staticStyle:{padding:"5px 10px"}},[a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"text item"},[a("el-row",{staticClass:"card-row"},[a("el-col",{staticStyle:{"text-align":"right"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("span",[a("span",{staticStyle:{color:"#409EFF",cursor:"pointer"},on:{click:function(a){t.assignStore(e.store.uuid)}}},[t._v("Assign Store")])])])],1),t._v(" "),a("el-row",{staticClass:"card-row",staticStyle:{"border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{xs:8,sm:8,md:8,lg:8,xl:8}},[t._v("\n              Store id:\n          ")]),t._v(" "),a("el-col",{attrs:{xs:16,sm:16,md:16,lg:16,xl:16}},[t._v("\n              "+t._s(e.st_id)+"\n          ")])],1),t._v(" "),t._l(e.store_attributes,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center card-row"},["City"==e.display_name||"Country"==e.display_name||"State"==e.display_name||"Name"==e.display_name?a("el-col",{staticStyle:{"border-bottom":"1px solid #F1F1F1"},attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n\n            "+t._s(e.display_name)+"\n\n          ")]):t._e(),t._v(" "),"City"==e.display_name||"Country"==e.display_name||"State"==e.display_name||"Name"==e.display_name?a("el-col",{staticStyle:{"border-bottom":"1px solid #F1F1F1"},attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[t._v("\n\n            "+t._s(e.value)+"\n\n          ")]):t._e()],1)})],2)])],1)})],2)},staticRenderFns:[]},qa=a("VU/8")(Pa,za,!1,null,null,null).exports,ja={name:"CustomerCareAssignBrands",components:{TopBar:w,multiselect:mt.a},props:["app_id","p_id","username"],created:function(){this.getInitialData()},mounted:function(){},data:function(){return{brand_dropdown:[],assigned_brands_response:[],selected_brand:""}},methods:{brandStoreDropdownLabel:function(t){return t.name+"  ("+t.store_name+")"},save:function(){var t=this;this.selected_brand&&v.post("/v1/store/customer-care-assign-brand/",{app_id:this.app_id,p_id:this.p_id,br_id:this.selected_brand.br_id,st_id:this.selected_brand.st_id}).then(function(e){e.data.status&&(t.selected_brand="",new u.a({title:"Success",description:"Brand assigned",className:"notices",type:"success",duration:3}),t.getAssignedBrands())}).catch(function(t){console.log(t)})},getAssignedBrands:function(){v.post("/v1/profile/customer-care/get-assigned-brand/",{app_id:this.app_id,p_id:this.p_id}).then(this.getAssignedBrandsCallBack).catch(function(t){console.log(t)})},getAssignedBrandsCallBack:function(t){t.data.status&&(this.assigned_brands_response=t.data.data)},remove:function(t,e){var a=this;console.log("st_id",e),v.post("/v1/profile/customer-care/remove-assigned-brand/",{app_id:this.app_id,p_id:this.p_id,br_id:t,st_id:e}).then(function(t){console.log("remove-assigned-brand",t),a.getAssignedBrands()}).catch(function(t){console.log(t)})},getInitialData:function(){var t=this;v.post("/v1/multiple-store-customer-care/get/brand/",{app_id:this.app_id,p_id:this.p_id}).then(function(e){e.data.status&&(console.log("brand-for-dropdown",e),t.brand_dropdown=e.data.data)}).catch(function(t){console.log(t)}),this.getAssignedBrands()},redirectToBack:function(){this.$router.go(-1)}}},Va={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"CustomerCareAssignBrands"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"0px 20px","min-height":"90vh"}},[a("h2",[a("span",{on:{click:function(e){t.redirectToBack()}}},[t._v(t._s(t.username)+"\n          "),a("i",{staticClass:"el-icon-arrow-right"}),t._v("  ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Manage Brands")])]),t._v(" "),a("el-row",[a("el-col",{attrs:{xs:24,sm:8,md:6,lg:6,xl:6}},[a("label",{attrs:{for:""}},[t._v("Brands")]),t._v(" "),a("multiselect",{attrs:{"deselect-label":"","select-label":"","track-by":"br_id",label:"name","custom-label":t.brandStoreDropdownLabel,placeholder:"Select brand",options:t.brand_dropdown,searchable:!0,"allow-empty":!0},scopedSlots:t._u([{key:"singleLabel",fn:function(e){var s=e.option;return a("div",{},[t._v(t._s(s.name))])}}]),model:{value:t.selected_brand,callback:function(e){t.selected_brand=e},expression:"selected_brand"}})],1)],1),t._v(" "),a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},nativeOn:{click:function(e){t.save()}}},[t._v("Save")]),t._v(" "),a("h4",[t._v("Customer care Preferred Brands")]),t._v(" "),t._l(t.assigned_brands_response,function(e,s){return a("div",{key:s,staticStyle:{"border-bottom":"1px solid #EEE",padding:"5px 0px"}},t._l(e.assigned_brands,function(s,i){return a("p",{key:i},[a("i",{staticClass:"el-icon-circle-close-outline",staticStyle:{color:"red",cursor:"pointer"},on:{click:function(a){t.remove(s.br_id,e.st_id)}}}),t._v("    "+t._s(e.name)+"\n        "+t._s(s.name)+" ("+t._s(e.store_name)+")\n      ")])}))})],2)],1)},staticRenderFns:[]};var Za=a("VU/8")(ja,Va,!1,function(t){a("2pU7"),a("S5Al")},"data-v-f0b1b366",null).exports,Ga={name:"CustomerCareAssignCity",components:{TopBar:w,multiselect:mt.a},props:["app_id","p_id","username"],data:function(){return{all_country_dropdown:[],all_city_dropdown:[],all_states_dropdown:[],assigned_cities:[],city:"",state:"",country:""}},watch:{country:function(t,e){this.all_states_dropdown=[],this.all_city_dropdown=[],this.state="",this.city="",t&&this.getStates()},state:function(t,e){this.all_city_dropdown=[],this.city="",t&&this.getCities()},city:function(t,e){}},created:function(){this.getCountries(),this.getAssignedCities()},methods:{getGeozoneCallback:function(t){this.isLoading=!1,t.data.status&&(this.geozones=t.data.data)},assignGeoZone:function(t){},addUniqueToList:function(t,e){t.indexOf(e)>-1||t.push(e)},getCountries:function(t){var e=this;v.post("/v1/dropdowns/countries/",{}).then(function(t){console.log("geo-zone-get-countries-dropdown",t),e.all_country_dropdown=t.data.data?t.data.data.map(function(t){return t.country}):[]}).catch(function(t){console.log(t)})},getAssignedCities:function(t){v.post("/v1/profile/customer-care/get-assigned-city/",{app_id:this.app_id,p_id:this.p_id}).then(this.getAssignedRegionsCallback).catch(function(t){console.log(t)})},getAssignedRegionsCallback:function(t){if(t.data.status){var e=t.data.data[0].region[0],a=[];if(e){for(var s in e)s.startsWith("city")&&a.push(s);console.log("sortedRegions",a);for(var i=0;i<a.length;i++){var o=a[i].split("_"),n={country:o[1],state:o[2],city:o.slice(3,o.length).join(" ")};this.assigned_cities.push(n)}}}},getStates:function(){var t=this;v.post("/v1/dropdowns/states/",{country:this.country}).then(function(e){console.log("geo-zone-get-states-dropdown",e),t.all_states_dropdown=e.data.data?e.data.data.map(function(t){return t.state}):[]}).catch(function(t){console.log(t)})},getCities:function(){var t=this;v.post("/v1/dropdowns/cities-for-state/",{country:this.country,state:this.state}).then(function(e){console.log("geo-zone-get-cities-dropdown",e),t.all_city_dropdown=e.data.data?e.data.data.map(function(t){return t.city}):[]}).catch(function(t){console.log(t)})},assignCity:function(){var t=this;this.country&&this.state&&this.city?v.post("/v1/profile/customer-care/assign-city/",{app_id:this.app_id,p_id:this.p_id,country:this.country,state:this.state,city:this.city}).then(function(e){e.data.status&&(t.assigned_cities=[],t.getAssignedCities(),new u.a({title:"Success",description:"City assigned",className:"notices",type:"success",duration:3}))}).catch(function(t){console.log(t)}):new u.a({title:"Error",description:"Country, State, City are compulsory",className:"notices",type:"error",duration:3})},removeAssignedCity:function(t){var e=this;console.log("removeAssignedCity",t),v.post("/v1/profile/customer-care/remove-assigned-city/",{app_id:this.app_id,p_id:this.p_id,country:t.country,state:t.state,city:t.city}).then(function(t){t.data.status&&(e.assigned_cities=[],e.getAssignedCities(),new u.a({title:"Success",description:"City removed",className:"notices",type:"success",duration:3}))}).catch(function(t){console.log(t)})},redirectToBack:function(){this.$router.go(-1)}}},Qa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"CustomerCareAssignCity"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"10px auto","max-width":"80vw"}},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.redirectToBack()}}},[t._v(t._s(t.username)+"\n        "),a("i",{staticClass:"el-icon-arrow-right"}),t._v("  ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Manage regions")])])]),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"0px auto","min-height":"20vh","max-width":"80vw"}},[a("el-row",{staticStyle:{padding:"0px 20px"},attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:6,lg:6,xl:6}},[a("label",{attrs:{for:""}},[t._v("Country")]),t._v(" "),a("multiselect",{attrs:{"deselect-label":"","select-label":"","show-labels":!1,placeholder:"Select Country",options:t.all_country_dropdown,searchable:!0,"allow-empty":!0},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}})],1),t._v(" "),a("el-col",{staticClass:"media-xs-view",attrs:{xs:24,sm:12,md:6,lg:6,xl:6}},[a("label",{attrs:{for:""}},[t._v("State")]),t._v(" "),a("multiselect",{attrs:{"deselect-label":"","select-label":"","show-labels":!1,placeholder:"Select State",options:t.all_states_dropdown,searchable:!0,"allow-empty":!0},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}})],1),t._v(" "),a("el-col",{staticClass:"media-xs-view",attrs:{xs:24,sm:12,md:6,lg:6,xl:6}},[a("label",{attrs:{for:""}},[t._v("City")]),t._v(" "),a("multiselect",{attrs:{"deselect-label":"","select-label":"","show-labels":!1,placeholder:"Select City",options:t.all_city_dropdown,searchable:!0,"allow-empty":!0},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}})],1),t._v(" "),a("el-col",{staticClass:"media-xs-view",staticStyle:{"margin-top":"15px"},attrs:{xs:24,sm:12,md:6,lg:6,xl:6}},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.assignCity(e)}}},[t._v("Assign Region")])],1)],1),t._v(" "),a("el-row",[a("el-col",{staticStyle:{"margin-top":"50px"},attrs:{span:24}},[a("h4",[t._v("Customer care assigned cities")]),t._v(" "),t._l(t.assigned_cities,function(e,s){return a("p",{key:s,staticStyle:{"border-bottom":"1px solid #EEE",padding:"5px 0px"}},[a("i",{staticClass:"el-icon-circle-close-outline",staticStyle:{color:"red",cursor:"pointer"},on:{click:function(a){t.removeAssignedCity(e)}}}),t._v("    \n          "+t._s(e.city)+"\n        ")])})],2)],1)],1)],1)},staticRenderFns:[]};var $a=a("VU/8")(Ga,Qa,!1,function(t){a("jZRA"),a("f/Oo")},null,null).exports,Ya={name:"StoreManagerAssignStore",props:["app_id","p_id","username"],components:{TopBar:w},data:function(){return{isLoading:!1,stores:[],selected_ids:[]}},created:function(){this.getEzoneStores()},methods:{assignStore:function(t){v.post("/v1/profile/store-manager/assign-store/",{app_id:this.app_id,p_id:this.p_id,st_id:t}).then(this.assignStoreCallback).catch(function(t){console.log(t)})},assignStoreCallback:function(t){t.status&&new u.a({title:"Success",description:"Store assigned successfully.",className:"notices",type:"success",duration:3})},redirectToBack:function(){this.$router.go(-1)},getEzoneStores:function(){this.isLoading=!0,v.post("/v1/all-store/",{app_id:this.app_id}).then(this.getStoreCallback).catch(function(t){console.log(t)})},getStoreCallback:function(t){this.isLoading=!1,console.log("getStoreCallback this.stores:",t.data),this.stores=t.data.data}}},Ja={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"StoreManagerAssignStore"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"10px auto","max-width":"80vw"}},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.redirectToBack()}}},[t._v(t._s(t.username)+"\n        "),a("i",{staticClass:"el-icon-arrow-right"}),t._v("  ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Manage stores")])])]),t._v(" "),t._l([1,2,3,4],function(e,s){return t.isLoading?a("el-card",{key:"loader"+s,staticClass:"box-card card-row",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("el-row",[a("el-col",{staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1)],1)],1):t._e()}),t._v(" "),t.isLoading||t.stores.length?t._e():a("el-row",{staticClass:"card-row"},[a("el-col",{staticStyle:{"text-align":"center"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticStyle:{border:"1px solid #000",padding:"10px","text-align":"center",margin:"20px auto",display:"inline-block"}},[t._v("\n        No stores to assign\n      ")])])],1),t._v(" "),t._l(t.stores,function(e,s){return t.isLoading?t._e():a("div",{key:s,staticStyle:{padding:"5px 10px"}},[a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"text item"},[a("el-row",{staticClass:"card-row"},[a("el-col",{staticStyle:{"text-align":"right"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("span",[a("span",{staticStyle:{color:"#409EFF",cursor:"pointer"},on:{click:function(a){t.assignStore(e.store.uuid)}}},[t._v("Assign Store")])])])],1),t._v(" "),a("el-row",{staticClass:"card-row",staticStyle:{"border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{xs:8,sm:8,md:8,lg:8,xl:8}},[t._v("\n              Store id:\n          ")]),t._v(" "),a("el-col",{attrs:{xs:16,sm:16,md:16,lg:16,xl:16}},[t._v("\n              "+t._s(e.st_id)+"\n          ")])],1),t._v(" "),t._l(e.store_attributes,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center card-row"},["City"==e.display_name||"Country"==e.display_name||"State"==e.display_name||"Name"==e.display_name?a("el-col",{staticStyle:{"border-bottom":"1px solid #F1F1F1"},attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n\n            "+t._s(e.display_name)+"\n\n          ")]):t._e(),t._v(" "),"City"==e.display_name||"Country"==e.display_name||"State"==e.display_name||"Name"==e.display_name?a("el-col",{staticStyle:{"border-bottom":"1px solid #F1F1F1"},attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[t._v("\n\n            "+t._s(e.value)+"\n\n          ")]):t._e()],1)})],2)])],1)})],2)},staticRenderFns:[]},Ha=a("VU/8")(Ya,Ja,!1,null,null,null).exports,Ka={name:"StoreManagerAssignBrand",components:{TopBar:w,multiselect:mt.a},props:["app_id","p_id","username"],created:function(){this.getInitialData()},mounted:function(){},data:function(){return{brand_dropdown:[],assigned_brands_response:[],selected_brand:""}},methods:{brandStoreDropdownLabel:function(t){return t.name+"  ("+t.store_name+")"},save:function(){var t=this;this.selected_brand&&v.post("/v1/store/store-manager-assign-brand/",{app_id:this.app_id,p_id:this.p_id,br_id:this.selected_brand.br_id,st_id:this.selected_brand.st_id}).then(function(e){e.data.status&&(t.getAssignedBrands(),t.selected_brand="",new u.a({title:"Success",description:"Brand assigned",className:"notices",type:"success",duration:3}))}).catch(function(t){console.log(t)})},getAssignedBrands:function(){v.post("/v1/profile/store-manager/get-assigned-brand/",{app_id:this.app_id,p_id:this.p_id}).then(this.getAssignedBrandsCallBack).catch(function(t){console.log(t)})},getAssignedBrandsCallBack:function(t){t.data.status&&(this.assigned_brands_response=t.data.data)},remove:function(t,e){var a=this;v.post("/v1/profile/store-manager/remove-assigned-brand/",{app_id:this.app_id,p_id:this.p_id,br_id:t,st_id:e}).then(function(t){console.log("remove-assigned-brand",t),a.getAssignedBrands()}).catch(function(t){console.log(t)})},getInitialData:function(){var t=this;v.post("/v1/multiple-store-store-manager/get/brand/",{app_id:this.app_id,p_id:this.p_id}).then(function(e){e.data.status&&(console.log("brand-for-dropdown",e),t.brand_dropdown=e.data.data)}).catch(function(t){console.log(t)}),this.getAssignedBrands()},redirectToBack:function(){this.$router.go(-1)}}},Wa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"StoreManagerAssignBrand"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"0px 20px","min-height":"90vh"}},[a("h2",[a("span",{on:{click:t.redirectToBack}},[t._v(t._s(t.username)+"\n          "),a("i",{staticClass:"el-icon-arrow-right"}),t._v("  ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Manage Brands")])]),t._v(" "),a("el-row",[a("el-col",{attrs:{xs:24,sm:8,md:6,lg:6,xl:6}},[a("label",{attrs:{for:""}},[t._v("Brands")]),t._v(" "),a("multiselect",{attrs:{"deselect-label":"","select-label":"","track-by":"br_id",label:"name","custom-label":t.brandStoreDropdownLabel,placeholder:"Select brand",options:t.brand_dropdown,searchable:!0,"allow-empty":!0},scopedSlots:t._u([{key:"singleLabel",fn:function(e){var s=e.option;return a("div",{},[t._v(t._s(s.name))])}}]),model:{value:t.selected_brand,callback:function(e){t.selected_brand=e},expression:"selected_brand"}})],1)],1),t._v(" "),a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},nativeOn:{click:function(e){t.save()}}},[t._v("Save")]),t._v(" "),a("h4",[t._v("Store manager Preferred Brands")]),t._v(" "),t._l(t.assigned_brands_response,function(e,s){return a("div",{key:s,staticStyle:{"border-bottom":"1px solid #EEE",padding:"5px 0px"}},t._l(e.assigned_brands,function(s,i){return a("p",{key:i},[a("i",{staticClass:"el-icon-circle-close-outline",staticStyle:{color:"red",cursor:"pointer"},on:{click:function(a){t.remove(s.br_id,e.st_id)}}}),t._v("    "+t._s(e.name)+"\n        "+t._s(s.name)+" ("+t._s(e.store_name)+")\n      ")])}))})],2)],1)},staticRenderFns:[]};var Xa=a("VU/8")(Ka,Wa,!1,function(t){a("626h"),a("S6y7")},"data-v-5bf3ce14",null).exports,ts={name:"StoreManagerAssignCity",components:{TopBar:w,multiselect:mt.a},props:["app_id","p_id","username"],data:function(){return{all_country_dropdown:[],all_city_dropdown:[],all_states_dropdown:[],assigned_cities:[],city:"",state:"",country:""}},watch:{country:function(t,e){this.all_states_dropdown=[],this.all_city_dropdown=[],this.state="",this.city="",t&&this.getStates()},state:function(t,e){this.all_city_dropdown=[],this.city="",t&&this.getCities()},city:function(t,e){}},created:function(){this.getCountries(),this.getAssignedCities()},methods:{getGeozoneCallback:function(t){this.isLoading=!1,t.data.status&&(this.geozones=t.data.data)},assignGeoZone:function(t){},getCountries:function(t){var e=this;v.post("/v1/dropdowns/countries/",{}).then(function(t){console.log("geo-zone-get-countries-dropdown",t),e.all_country_dropdown=t.data.data?t.data.data.map(function(t){return t.country}):[]}).catch(function(t){console.log(t)})},getAssignedCities:function(t){v.post("/v1/profile/store-manager/get-assigned-city/",{app_id:this.app_id,p_id:this.p_id}).then(this.getAssignedRegionsCallback).catch(function(t){console.log(t)})},getAssignedRegionsCallback:function(t){if(t.data.status&&t.data.data.length){for(var e=[],a=0;a<t.data.data[0].region.length;a++)for(var s in t.data.data[0].region[a])s.startsWith("city")&&e.push(s);var i=_.uniq(e);console.log("tempRegions",e),console.log("uniqueRegions",i);for(a=0;a<i.length;a++){var o=i[a].split("_"),n={country:o[1],state:o[2],city:o.slice(3,o.length).join(" ")};this.assigned_cities.push(n)}}},getStates:function(){var t=this;v.post("/v1/dropdowns/states/",{country:this.country}).then(function(e){console.log("geo-zone-get-states-dropdown",e),t.all_states_dropdown=e.data.data?e.data.data.map(function(t){return t.state}):[]}).catch(function(t){console.log(t)})},getCities:function(){var t=this;v.post("/v1/dropdowns/cities-for-state/",{country:this.country,state:this.state}).then(function(e){console.log("geo-zone-get-cities-dropdown",e),t.all_city_dropdown=e.data.data?e.data.data.map(function(t){return t.city}):[]}).catch(function(t){console.log(t)})},assignCity:function(){var t=this;this.country&&this.state&&this.city?v.post("/v1/profile/store-manager/assign-city/",{app_id:this.app_id,p_id:this.p_id,country:this.country,state:this.state,city:this.city}).then(function(e){e.data.status&&(t.assigned_cities=[],t.getAssignedCities(),new u.a({title:"Success",description:e.data.validation,className:"notices",type:"success",duration:3}))}).catch(function(t){console.log(t)}):new u.a({title:"Error",description:"Country, State, City are compulsory",className:"notices",type:"error",duration:3})},removeAssignedCity:function(t){var e=this;console.log("removeAssignedCity",t),v.post("/v1/profile/store-manager/remove-assigned-city/",{app_id:this.app_id,p_id:this.p_id,country:t.country,state:t.state,city:t.city}).then(function(t){t.data.status&&(e.assigned_cities=[],e.getAssignedCities(),new u.a({title:"Success",description:"City removed",className:"notices",type:"success",duration:3}))}).catch(function(t){console.log(t)})},redirectToBack:function(){this.$router.go(-1)}}},es={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"StoreManagerAssignCity"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"10px auto","max-width":"80vw"}},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.redirectToBack()}}},[t._v(t._s(t.username)+"\n        "),a("i",{staticClass:"el-icon-arrow-right"}),t._v("  ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Manage regions")])])]),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"0px auto","min-height":"20vh","max-width":"80vw"}},[a("el-row",{staticStyle:{padding:"0px 20px"},attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:6,lg:6,xl:6}},[a("label",{attrs:{for:""}},[t._v("Country")]),t._v(" "),a("multiselect",{attrs:{"deselect-label":"","select-label":"","show-labels":!1,placeholder:"Select Country",options:t.all_country_dropdown,searchable:!0,"allow-empty":!0},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}})],1),t._v(" "),a("el-col",{staticClass:"media-xs-view",attrs:{xs:24,sm:12,md:6,lg:6,xl:6}},[a("label",{attrs:{for:""}},[t._v("State")]),t._v(" "),a("multiselect",{attrs:{"deselect-label":"","select-label":"","show-labels":!1,placeholder:"Select State",options:t.all_states_dropdown,searchable:!0,"allow-empty":!0},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}})],1),t._v(" "),a("el-col",{staticClass:"media-xs-view",attrs:{xs:24,sm:12,md:6,lg:6,xl:6}},[a("label",{attrs:{for:""}},[t._v("City")]),t._v(" "),a("multiselect",{attrs:{"deselect-label":"","select-label":"","show-labels":!1,placeholder:"Select City",options:t.all_city_dropdown,searchable:!0,"allow-empty":!0},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}})],1),t._v(" "),a("el-col",{staticClass:"media-xs-view",staticStyle:{"margin-top":"15px"},attrs:{xs:24,sm:12,md:6,lg:6,xl:6}},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.assignCity(e)}}},[t._v("Assign Region")])],1)],1),t._v(" "),a("el-row",[a("el-col",{staticStyle:{"margin-top":"50px"},attrs:{span:24}},[a("h4",[t._v("Store manager assigned cities")]),t._v(" "),t._l(t.assigned_cities,function(e,s){return a("p",{key:s,staticStyle:{"border-bottom":"1px solid #EEE",padding:"5px 0px"}},[a("i",{staticClass:"el-icon-circle-close-outline",staticStyle:{color:"red",cursor:"pointer"},on:{click:function(a){t.removeAssignedCity(e)}}}),t._v("    \n          "+t._s(e.city)+"\n        ")])})],2)],1)],1)],1)},staticRenderFns:[]};var as=a("VU/8")(ts,es,!1,function(t){a("sZjd"),a("tR6Z")},null,null).exports,ss={name:"BroadcastNotification",components:{TopBar:w,multiselect:mt.a},props:["app_id"],data:function(){return{zone_type:"",showGeozneDropDownSection:!1,showEozneDropDownSection:!1,isNotificationForm:!1,selected_ezone:"",selected_geozone:"",selected_geozone_for_Ezone:"",geoZones:[],eZones:[],selectedZoneList:[],notification:{text:"",sub_text:"",image_url:"",action_url:"",notification_match_type:"BROADCAST"}}},watch:{selected_geozone:function(t,e){this.eZones=[],this.selected_ezone="",this.isNotificationForm=!1,t&&this.addUniqueToList(this.selectedZoneList,t)},selected_geozone_for_Ezone:function(t,e){this.eZones=[],this.selected_ezone="",this.selectedZoneList=[],this.isNotificationForm=!1},selected_ezone:function(t,e){this.isNotificationForm=!1,t&&this.addUniqueToList(this.selectedZoneList,t)},zone_type:function(t,e){this.selectedZoneList=[],this.notification={text:"",sub_text:"",image_url:"",action_url:"",notification_match_type:"BROADCAST"}}},created:function(){v.post("/v1/geo-zone-for-dropdown/",{app_id:this.app_id}).then(this.getGeozoneCallback).catch(function(t){console.log(t)})},methods:{sendNotification:function(){if(this.selectedZoneList.length&&this.notification.text&&this.notification.notification_match_type){var t=[];if("GZONE"==this.zone_type)for(var e=0;e<this.selectedZoneList.length;e++)t.push(this.selectedZoneList[e].g_id);else if("EZONE"==this.zone_type)for(e=0;e<this.selectedZoneList.length;e++)t.push(this.selectedZoneList[e].e_id);console.log("g_ids_or_e_ids",t),v.post("/v1/send-broadcast-notification/",{app_id:this.app_id,broadcast_type:this.zone_type,g_ids_or_e_ids:t,notification:{sub_text:this.notification.sub_text,action_url:this.notification.action_url,image_url:this.notification.image_url,notification_match_type:this.notification.notification_match_type,text:this.notification.text,title:this.notification.text,isActive:!0}}).then(this.sendNotificationCallback).catch(function(t){console.log(t)})}},sendNotificationCallback:function(t){t.status&&(console.log("sendNotificationCallback",t),this.notification={text:"",sub_text:"",image_url:"",action_url:"",notification_match_type:"BROADCAST"},this.isNotificationForm=!1,this.selectedZoneList=[],this.zone_type=[],this.showGeozneDropDownSection=!1,this.showEozneDropDownSection=!1)},showNotificationForm:function(t){this.isNotificationForm=!0},addUniqueToList:function(t,e){t.indexOf(e)>-1||t.push(e)},removeQueryParam:function(t,e,a){a.splice(e,1)},selecteZoneToSendNotification:function(){var t=this;setTimeout(function(){console.log("selecteZoneToSendNotification",t.selected_ezone)},0)},getEngagementZoneByGeoZone:function(){var t=this;setTimeout(function(){t.selected_geozone_for_Ezone&&v.post("/v1/get-engagement-zone-for-geozone/",{app_id:t.app_id,geozone_name:t.selected_geozone_for_Ezone.name}).then(t.getEzoneCallback).catch(function(t){console.log(t)})},0)},redirectToBack:function(){this.$router.go(-1)},openDropDownSection:function(t){this.selected_ezone="",this.selected_geozone="","GZONE"==t?(this.showGeozneDropDownSection=!0,this.showEozneDropDownSection=!1):(this.showGeozneDropDownSection=!1,this.showEozneDropDownSection=!0)},getGeozoneCallback:function(t){t.data.status&&(this.geoZones=t.data.data)},getEzoneCallback:function(t){this.selected_ezone="",t.data.status&&(this.eZones=t.data.data)}}},is={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"BroadcastNotification"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"10px auto","max-width":"80vw",overflow:"visible"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.redirectToBack()}}},[t._v("\n          App Dashboard\n          "),a("i",{staticClass:"el-icon-arrow-right"}),t._v("  \n        ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Broadcast Notification")])])]),t._v(" "),a("div",[a("el-radio-group",{attrs:{size:"small"},model:{value:t.zone_type,callback:function(e){t.zone_type=e},expression:"zone_type"}},[a("el-radio",{attrs:{label:"GZONE",border:""},nativeOn:{click:function(e){t.openDropDownSection("GZONE")}}},[t._v("Geozone")]),t._v(" "),a("el-radio",{attrs:{label:"EZONE",border:""},nativeOn:{click:function(e){t.openDropDownSection("EZONE")}}},[t._v("Ezone")])],1)],1),t._v(" "),t.showGeozneDropDownSection?a("el-row",{staticStyle:{"margin-top":"25px"},attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:4}},[a("label",{attrs:{for:""}},[t._v("Geozones")]),t._v(" "),a("multiselect",{attrs:{"select-label":"","track-by":"g_id",label:"name",placeholder:"Select GeoZone",options:t.geoZones,searchable:!0,"allow-empty":!0,"show-labels":!1},on:{select:t.selecteZoneToSendNotification},model:{value:t.selected_geozone,callback:function(e){t.selected_geozone=e},expression:"selected_geozone"}})],1)],1):t._e(),t._v(" "),t.showEozneDropDownSection?a("el-row",{staticStyle:{"margin-top":"25px"},attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:4}},[a("label",{attrs:{for:""}},[t._v("Geozones")]),t._v(" "),a("multiselect",{attrs:{"deselect-label":"","select-label":"","track-by":"g_id",label:"name",placeholder:"Select GeoZone",options:t.geoZones,searchable:!0,"allow-empty":!0,"show-labels":!1},on:{select:t.getEngagementZoneByGeoZone},model:{value:t.selected_geozone_for_Ezone,callback:function(e){t.selected_geozone_for_Ezone=e},expression:"selected_geozone_for_Ezone"}})],1),t._v(" "),a("el-col",{staticClass:"media-xs-view",attrs:{xs:24,sm:12,md:12,lg:6,xl:4}},[a("label",{attrs:{for:""}},[t._v("Ezones")]),t._v(" "),a("multiselect",{attrs:{"deselect-label":"","select-label":"","track-by":"e_id",label:"name",placeholder:"Select EZone",options:t.eZones,searchable:!0,"allow-empty":!0,"show-labels":!1},on:{select:t.selecteZoneToSendNotification},model:{value:t.selected_ezone,callback:function(e){t.selected_ezone=e},expression:"selected_ezone"}})],1)],1):t._e(),t._v(" "),t.selectedZoneList.length?a("el-row",{staticStyle:{"margin-top":"25px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("h4",[t._v(" Selected "+t._s(t.zone_type+"S")+" ")]),t._v(" "),t._l(t.selectedZoneList,function(e,s){return a("p",{key:s},[a("i",{staticClass:"el-icon-circle-close-outline",staticStyle:{color:"red",cursor:"pointer"},on:{click:function(a){t.removeQueryParam(e,s,t.selectedZoneList)}}}),t._v("    \n          "+t._s(e.name)+"\n          ")])}),t._v(" "),a("el-button",{attrs:{type:"default",size:"mini"},nativeOn:{click:function(e){return t.showNotificationForm(e)}}},[t._v("create notification for: "+t._s(t.selectedZoneList.length)+" "+t._s(t.zone_type)),t.selectedZoneList.length>1?a("span",[t._v("S")]):t._e()])],2)],1):t._e(),t._v(" "),t.selectedZoneList.length&&t.isNotificationForm?a("el-row",{staticStyle:{padding:"20px 20px"},attrs:{gutter:10}},[a("h4",[t._v("New Notification")]),t._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("label",{attrs:{for:""}},[t._v("Text"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.notification.text,expression:"notification.text"}],staticClass:"form-input",attrs:{"auto-complete":"off",placeholder:"Message text"},domProps:{value:t.notification.text},on:{input:function(e){e.target.composing||t.$set(t.notification,"text",e.target.value)}}})]),t._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("label",{attrs:{for:""}},[t._v("Sub-Text")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.notification.sub_text,expression:"notification.sub_text"}],staticClass:"form-input margin-bottom-15",attrs:{"auto-complete":"off",placeholder:"Message sub-text"},domProps:{value:t.notification.sub_text},on:{input:function(e){e.target.composing||t.$set(t.notification,"sub_text",e.target.value)}}})]),t._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("label",{attrs:{for:""}},[t._v("Image URL")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.notification.image_url,expression:"notification.image_url"}],staticClass:"form-input margin-bottom-15",attrs:{"auto-complete":"off",placeholder:"image_url"},domProps:{value:t.notification.image_url},on:{input:function(e){e.target.composing||t.$set(t.notification,"image_url",e.target.value)}}})]),t._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("label",{attrs:{for:""}},[t._v("Action URL")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.notification.action_url,expression:"notification.action_url"}],staticClass:"form-input margin-bottom-15",attrs:{"auto-complete":"off",placeholder:"action_url"},domProps:{value:t.notification.action_url},on:{input:function(e){e.target.composing||t.$set(t.notification,"action_url",e.target.value)}}})]),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[a("label",{attrs:{for:""}},[t._v(" Matching Type"),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.notification.notification_match_type,expression:"notification.notification_match_type"}],attrs:{placeholder:"Please select notification match type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.notification,"notification_match_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{label:"Broadcast",value:"BROADCAST"}})])]),t._v(" "),a("el-col",{staticClass:"margin-bottom-15",attrs:{span:24}},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.sendNotification(e)}}},[t._v("Save")])],1)],1):t._e()],1)],1)},staticRenderFns:[]};var os=a("VU/8")(ss,is,!1,function(t){a("dzZg"),a("rJw6")},null,null).exports,ns={name:"StoreManagerGetAssignedStoreList",components:{TopBar:w},props:["app_id","p_id","username"],data:function(){return{isLoading:!1,assignedStoreList:[]}},created:function(){this.getAssignedStoreList(),this.isLoading=!0},methods:{getAssignedStoreList:function(){var t=this;v.post("/v1/profile/store-manager/get-assigned-store/",{app_id:this.app_id,p_id:this.p_id}).then(function(e){e.data.status&&(console.log("getAssignedStoreList",e),t.assignedStoreList=e.data.data,t.isLoading=!1)}).catch(function(t){console.log(t)})},unSubscribeToStore:function(t){var e=this;console.log("unSubscribeToStore: ",t),this.isLoading=!0,v.post("/v1/profile/store-manager/remove-store/",{app_id:this.app_id,p_id:this.p_id,st_id:t}).then(function(t){t.data.status&&(e.getAssignedStoreList(),e.isLoading=!1)}).catch(function(t){console.log(t),this.isLoading=!1})},redirectToBack:function(){this.$router.go(-1)}}},rs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"StoreManagerGetAssignedStoreList"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"clearfix"},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{on:{click:t.redirectToBack}},[t._v(t._s(t.username)+" >  ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Assigned stores")]),t._v(" "),a("router-link",{attrs:{to:{path:"/store-manager-assign-store/"+t.app_id+"/"+t.p_id+"/"+t.username}}},[a("el-button",{attrs:{type:"success",size:"mini"}},[t._v("Assign new store")])],1)],1)])]),t._v(" "),t._l([1,2,3,4],function(e,s){return t.isLoading?a("el-card",{key:"loader"+s,staticClass:"box-card card-row",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("el-row",[a("el-col",{staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1)],1)],1):t._e()}),t._v(" "),t.isLoading||t.assignedStoreList.length?t._e():a("el-row",{staticClass:"card-row"},[a("el-col",{staticStyle:{"text-align":"center"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticStyle:{border:"1px solid #000",padding:"10px","text-align":"center",margin:"20px auto",display:"inline-block"}},[t._v("\n        No stores assigned\n      ")])])],1),t._v(" "),t._l(t.assignedStoreList,function(e,s){return t.isLoading?t._e():a("div",{key:s},[a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("el-row",{staticClass:"card-row"},[a("el-col",{staticStyle:{"text-align":"right"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("span",[a("span",{staticStyle:{color:"#409EFF",cursor:"pointer"},on:{click:function(a){t.unSubscribeToStore(e.st_id)}}},[t._v("Unsubscribe")])])])],1),t._v(" "),a("el-row",{staticClass:"card-row",staticStyle:{"border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{xs:8,sm:8,md:8,lg:8,xl:8}},[t._v("\n            Store id:\n        ")]),t._v(" "),a("el-col",{attrs:{xs:16,sm:16,md:16,lg:16,xl:16}},[t._v("\n            "+t._s(e.st_id)+"\n        ")])],1),t._v(" "),t._l(e.store_attributes,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center card-row"},["City"==e.display_name||"Country"==e.display_name||"State"==e.display_name||"Name"==e.display_name?a("el-col",{staticStyle:{"border-bottom":"1px solid #F1F1F1"},attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n          "+t._s(e.display_name)+"\n        ")]):t._e(),t._v(" "),"City"==e.display_name||"Country"==e.display_name||"State"==e.display_name||"Name"==e.display_name?a("el-col",{staticStyle:{"border-bottom":"1px solid #F1F1F1"},attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[t._v("\n          "+t._s(e.value)+"\n        ")]):t._e()],1)})],2)],1)})],2)},staticRenderFns:[]};var ls=a("VU/8")(ns,rs,!1,function(t){a("3tee")},null,null).exports,cs={name:"CustomerCareGetAssignedStoreList",components:{TopBar:w},props:["app_id","p_id","username"],data:function(){return{isLoading:!1,assignedStoreList:[]}},created:function(){this.getAssignedStoreList(),this.isLoading=!0},methods:{getAssignedStoreList:function(){var t=this;v.post("/v1/profile/customer-care-admin/get-assigned-store/",{app_id:this.app_id,p_id:this.p_id}).then(function(e){e.data.status&&(console.log("getAssignedStoreList",e),t.assignedStoreList=e.data.data,t.isLoading=!1)}).catch(function(t){console.log(t),this.isLoading=!1})},unSubscribeToStore:function(t){var e=this;console.log("unSubscribeToStore: ",t),this.isLoading=!0,v.post("/v1/profile/customer-care-admin/remove-store/",{app_id:this.app_id,p_id:this.p_id,st_id:t}).then(function(t){t.data.status&&(e.getAssignedStoreList(),e.isLoading=!1)}).catch(function(t){console.log(t),this.isLoading=!1})},redirectToBack:function(){this.$router.go(-1)}}},ds={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"CustomerCareGetAssignedStoreList"},[a("TopBar"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("div",{staticClass:"clearfix"},[a("h3",{staticStyle:{margin:"0px",display:"flex","align-items":"center"}},[a("span",{on:{click:t.redirectToBack}},[t._v(t._s(t.username)+" >  ")]),t._v(" "),a("span",{staticStyle:{"flex-grow":"1",color:"#66b1ff"}},[t._v("Assigned stores")]),t._v(" "),a("router-link",{attrs:{to:{path:"/customer-care-assign-store/"+t.app_id+"/"+t.p_id+"/"+t.username}}},[a("el-button",{attrs:{type:"success",size:"mini"}},[t._v("Assign new store")])],1)],1)])]),t._v(" "),t._l([1,2,3,4],function(e,s){return t.isLoading?a("el-card",{key:"loader"+s,staticClass:"box-card card-row",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("el-row",[a("el-col",{staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:2}})],1)],1)],1)],1):t._e()}),t._v(" "),t.isLoading||t.assignedStoreList.length?t._e():a("el-row",{staticClass:"card-row"},[a("el-col",{staticStyle:{"text-align":"center"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticStyle:{border:"1px solid #000",padding:"10px","text-align":"center",margin:"20px auto",display:"inline-block"}},[t._v("\n        No stores assigned\n      ")])])],1),t._v(" "),t._l(t.assignedStoreList,function(e,s){return t.isLoading?t._e():a("div",{key:s},[a("el-card",{staticClass:"box-card",staticStyle:{"max-width":"80vw",margin:"10px auto"}},[a("el-row",{staticClass:"card-row"},[a("el-col",{staticStyle:{"text-align":"right"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("span",[a("span",{staticStyle:{color:"#409EFF",cursor:"pointer"},on:{click:function(a){t.unSubscribeToStore(e.st_id)}}},[t._v("Unsubscribe")])])])],1),t._v(" "),a("el-row",{staticClass:"card-row",staticStyle:{"border-bottom":"1px solid #F1F1F1"}},[a("el-col",{attrs:{xs:8,sm:8,md:8,lg:8,xl:8}},[t._v("\n            Store id:\n        ")]),t._v(" "),a("el-col",{attrs:{xs:16,sm:16,md:16,lg:16,xl:16}},[t._v("\n            "+t._s(e.st_id)+"\n        ")])],1),t._v(" "),t._l(e.store_attributes,function(e,s){return a("el-row",{key:s,staticClass:"vertical-center card-row"},["City"==e.display_name||"Country"==e.display_name||"State"==e.display_name||"Name"==e.display_name?a("el-col",{staticStyle:{"border-bottom":"1px solid #F1F1F1"},attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[t._v("\n          "+t._s(e.display_name)+"\n        ")]):t._e(),t._v(" "),"City"==e.display_name||"Country"==e.display_name||"State"==e.display_name||"Name"==e.display_name?a("el-col",{staticStyle:{"border-bottom":"1px solid #F1F1F1"},attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[t._v("\n          "+t._s(e.value)+"\n        ")]):t._e()],1)})],2)],1)})],2)},staticRenderFns:[]};var ms=a("VU/8")(cs,ds,!1,function(t){a("6vAQ")},null,null).exports,ps={name:"MobileChat",props:["st_id","br_id","consumer_id","access"],data:function(){return{profileName:"",image:null,file:"",toggleRoomAccess:!0,isRoomOpenForStaff:!0,systemAccess:JSON.parse(c()(nt.access)),accessBlocked:!1,currentRoom:{consumerUUID:null,storeId:null,brandId:null,access:[]},message:"",storeId:null,consumerUUID:null,brandId:null,consumerNotificationToken:null,chat_server_url:null,isNewConversation:!0,isConsumerOnline:!1,messages:[],userRoles:JSON.parse(window.localStorage.getItem("roles")),isAdmin:!1,socket:st()(this.chat_server_url?this.chat_server_url:"https://inventa.live/chat/",{secure:!0,rejectUnauthorized:!1,path:"/chat/socket.io",transports:["websocket"],query:"user=admin"})}},computed:{authUser:function(){return this.$store.state.general.authUser},storeNamesMap:function(){return this.$store.state.cache.storeNamesMap},brandNamesMap:function(){return this.$store.state.cache.brandNamesMap},profileNamesMap:function(){return this.$store.state.cache.profileNamesMap}},methods:{getProfileNameByID:function(t){v.post("/v1/profile/get/",{app_id:this.authUser.app_id,p_id:t}).then(this.getProfileNameByIDCallback).catch(function(t){console.log(t)})},getProfileNameByIDCallback:function(t){if(console.log("getProfileNameByIDCallback",t.data),t.data.status)for(var e=0;e<t.data.data.length;e++){console.log(t.data.data[e].profile_attributes);for(var a=0;a<t.data.data[e].profile_attributes.length;a++)"Name"==t.data.data[e].profile_attributes[a].display_name&&(console.log(t.data.data[e].profile_attributes[a]),this.profileName=t.data.data[e].profile_attributes[a].value)}},sendImage:function(){this.file=this.$refs.file.files[0],this.sendImageMessage()},handleImageUpload:function(){this.$refs.file.click()},roomAccessChanged:function(){var t={consumerUUID:this.consumerUUID,storeId:this.storeId,brandId:this.brandId,token:window.localStorage.getItem("x-access-token")};console.log("roomAccessChanged",t),this.toggleRoomAccess?(console.log("restoring default room access",this.toggleRoomAccess),this.socket.emit("ROOM_ACCESS_PERMISSIONS_CHANGE_TO_DEFAULT",t)):(console.log("restricting room access to BE Admin only",this.toggleRoomAccess),this.socket.emit("ROOM_ACCESS_PERMISSIONS_CHANGE_TO_BE_ADMIN_ONLY",t))},refreshRoomAccessPermissions:function(t){var e=this;if(this.consumerUUID==t.consumerUUID&&this.storeId==t.storeId&&this.brandId==t.brandId){var a=t.access.some(function(t){return t===e.systemAccess.STORE_MANAGER}),s=t.access.some(function(t){return t===e.systemAccess.STORE_MANAGER});this.isRoomOpenForStaff=a&&s,this.accessBlocked=!this.isRoomOpenForStaff&&(this.checkRole(this.systemAccess.STORE_MANAGER)||this.checkRole(this.systemAccess.CUSTOMER_CARE_ADMIN)),this.toggleRoomAccess=this.isRoomOpenForStaff}console.log("refreshRoomAccessPermissions",t,this.accessBlocked),console.log("accessToSm",this.systemAccess,a),console.log("accessToCCA",s)},getConsumerNotificationToken:function(){var t=this;v.post("/v1/profile/get-notification-token-by-profile-id/",{p_ids:[this.consumerUUID]}).then(function(e){console.log("consumer notification_token result: ",e),e.data.data&&e.data.data.length?t.consumerNotificationToken=e.data.data[0].notification_token:console.log("consumer notification token not found...")}).catch(function(t){console.log(t)})},sendNotification:function(t){f.post("/pushy-send-notification/",t).then(function(t){console.log("send notification response: ",t)}).catch(function(t){console.log(t)})},resetDataModelsOnRoomChange:function(){console.log("resetDataModelsOnRoomChange"),this.isConsumerOnline=!1,this.messages=[],this.message="",this.isAdmin=!this.checkRole("Consumer"),this.isAdmin||(this.consumerUUID=window.localStorage.getItem("p_id")),this.getConsumerNotificationToken(),this.initiateRoom()},detectSubmit:function(t){if(13===t.keyCode){var e=this.message;e.trim().length?this.sendMessage(e):(console.log("cant send blank msg..."),this.message="")}},preProcessMsgForDisplay:function(t,e){return e||(e="message"),"text"==t.type?(t[e]=ot()(t[e],{truncate:[26,15],attributes:[{name:"target",value:"_blank"},{name:"class",value:"inline-link"}]}),t):t},sendMessage:function(t){if(this.consumerNotificationToken&&this.isAdmin)var e={device_notification_tokens:[this.consumerNotificationToken],message:{title:t,st_id:this.storeId,p_id:window.localStorage.getItem("p_id"),brandId:this.brandId,type:"text"},notification_type:"MSG"};else e=null;var a={user:window.localStorage.getItem("username"),userUUID:window.localStorage.getItem("p_id"),consumerUUID:this.consumerUUID,token:window.localStorage.getItem("x-access-token"),storeId:this.storeId,brandId:this.brandId,message:t,userType:JSON.parse(window.localStorage.getItem("roles"))[0].name,type:"text"};console.log("sendMessage socket emit"),this.socket.emit("SEND_MESSAGE",a),e&&this.sendNotification(e),this.message=""},sendImageMessage:function(){var t=this;if(this.file){var e={user:window.localStorage.getItem("username"),userUUID:window.localStorage.getItem("p_id"),consumerUUID:this.consumerUUID,token:window.localStorage.getItem("x-access-token"),storeId:this.storeId,brandId:this.brandId,userType:JSON.parse(window.localStorage.getItem("roles"))[0].name,type:"image",image:this.file},a=new FormData;for(var s in e)a.append(s,e[s]);g.post("/save-chat-images/",a).then(function(e){if(console.log("save chat image: ",e.data),e.data.imageUrl){if(t.consumerNotificationToken&&t.isAdmin){var a={device_notification_tokens:[t.consumerNotificationToken],message:{title:e.data.imageUrl,st_id:t.storeId,p_id:window.localStorage.getItem("p_id"),brandId:t.brandId,message:"New image",type:"image"},notification_type:"MSG"};console.log("notification_msg",a)}else a=null;var s={user:window.localStorage.getItem("username"),userUUID:window.localStorage.getItem("p_id"),consumerUUID:t.consumerUUID,token:window.localStorage.getItem("x-access-token"),storeId:t.storeId,brandId:t.brandId,image:e.data.imageUrl,userType:JSON.parse(window.localStorage.getItem("roles"))[0].name,type:"image"};t.socket.emit("SEND_MESSAGE",s),a&&t.sendNotification(a)}}).catch(function(t){console.log(t)})}},initiateRoom:function(){console.log("chat component initiateRoom consumerUUID",this.consumerUUID),console.log("chat component initiateRoom storeId",this.storeId),this.socket.emit("adduser",{user:window.localStorage.getItem("username"),consumerUUID:this.consumerUUID,token:window.localStorage.getItem("x-access-token"),storeId:this.storeId,brandId:this.brandId})},getOldMessages:function(){var t=this.messages[this.messages.length-1];t.token=window.localStorage.getItem("x-access-token"),console.log("getting old msgs before: ",t),this.socket.emit("GET_OLD_MESSAGES",t)},checkRole:function(t){return this.userRoles.some(function(e){return e.name===t})},getStoreNameFromCache:function(t){var e=_.find(this.storeNamesMap,{st_id:t});return e?e.store_name:null},getBrandNameFromCache:function(t){var e=_.find(this.brandNamesMap,{br_id:t});return e?e.brand_name:null},getProfileNameFromCache:function(t){var e=_.find(this.profileNamesMap,{p_id:t});return e?e.profile_name:null}},created:function(){var t=this;console.log("Chat initialized..."),b.$on("currentRoomChanged",function(e){console.log("<Chat> currentRoomChanged: ",e),t.consumerUUID=e.consumerUUID,t.storeId=e.storeId,t.brandId=e.brandId,t.refreshRoomAccessPermissions(e),t.resetDataModelsOnRoomChange(),t.getProfileNameByID(t.consumerUUID)}),this.socket.on("reconnect",function(){console.log("reconnected..."),t.resetDataModelsOnRoomChange()}),this.socket.on("disconnect",function(){console.log("user disconnecting ")}),this.socket.on("ON__JOIN_ROOM_ACK",function(e){console.log("ON__JOIN_ROOM_ACK...",e),t.socket.emit("GET_INITIAL_MESSAGES",{consumerUUID:t.consumerUUID,storeId:t.storeId,brandId:t.brandId,token:window.localStorage.getItem("x-access-token")}),t.socket.emit("GET_ONLINE_STATUS",{consumerUUID:t.consumerUUID,storeId:t.storeId,brandId:t.brandId,requestedBy:window.localStorage.getItem("p_id"),token:window.localStorage.getItem("x-access-token")})}),this.socket.on("SEND_ONLINE_STATUS",function(e){console.log("SEND_ONLINE_STATUS",e);var a=t.checkRole("Consumer")?"CONSUMER":"NON-CONSUMER";t.socket.to(e.socket_id).emit("SEND_ONLINE_STATUS_RESPONSE",{userType:a})}),this.socket.on("SEND_ONLINE_STATUS_RESPONSE",function(e){console.log("SEND_ONLINE_STATUS_RESPONSE",e),"CONSUMER"===e.userType.toUpperCase()&&(t.isConsumerOnline=!0)}),this.socket.on("updaterooms",function(t,e){console.log("Room in Mongo: ",t,e),b.$emit("EventBus_updaterooms",e)}),this.socket.on("ROOM_ACCESS_PERMISSIONS_CHANGED",function(e){console.log("ON ROOM_ACCESS_PERMISSIONS_CHANGED: ",e),t.refreshRoomAccessPermissions(e),b.$emit("ROOM_ACCESS_PERMISSIONS_CHANGED",e)}),this.socket.on("updatechat",function(e){console.log("new msg updatechat: ",e),t.isNewConversation=!1,e.isSystemMsg?"CONSUMER"===e.userType.toUpperCase()&&(t.isConsumerOnline=e.isUserOnline):t.messages.unshift(t.preProcessMsgForDisplay(e))}),this.socket.on("loadinitialchat",function(e){console.log("loadinitialchat: ",e),t.isNewConversation=!e.length;for(var a=0;a<e.length;a++)t.messages.push(t.preProcessMsgForDisplay(e[a]))}),this.socket.on("GET_OLD_MESSAGES",function(e){console.log("GET_OLD_MESSAGES: ",e),e.olderMsgs.length?e.olderMsgs.forEach(function(e){t.messages.push(t.preProcessMsgForDisplay(e))}):console.log("No More messages...")})},beforeRouteUpdate:function(t,e,a){},beforeDestroy:function(){this.socket.disconnect(),b.$off()},mounted:function(){var t=this;try{this.currentRoom.consumerUUID=this.consumer_id,this.currentRoom.storeId=this.st_id,this.currentRoom.brandId=this.br_id,this.currentRoom.access=JSON.parse(this.access),console.log("-------------",this.currentRoom),setTimeout(function(){b.$emit("currentRoomChanged",t.currentRoom)},0)}catch(t){}}},us={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"MobileChat"},[s("div",{staticStyle:{display:"flex","align-items":"center",background:"#fff","margin-bottom":"15px","box-sizing":"border-box",padding:"10px 20px"}},[s("div",{staticClass:"Left"},[s("div",{staticClass:"Menu-button"},[s("img",{staticStyle:{height:"25px","vertical-align":"middle","margin-right":"10px"},attrs:{src:a("P/F5")},on:{click:function(e){t.$router.go(-1)}}})])]),t._v(" "),s("div",{staticStyle:{"flex-grow":"1",padding:"0 20px","text-align":"center"}},[t._v("\n        "+t._s(t.getProfileNameFromCache(t.consumer_id)?t.getProfileNameFromCache(t.consumer_id):t.consumer_id)+" |\n        "+t._s(t.getStoreNameFromCache(t.st_id)?t.getStoreNameFromCache(t.st_id):t.st_id)+" |\n        "+t._s(t.getBrandNameFromCache(t.br_id)?t.getBrandNameFromCache(t.br_id):t.br_id)+"\n      ")])]),t._v(" "),s("div",{staticClass:"chat-box"},[s("div",{staticClass:"new-msg-form"},[s("div",{staticStyle:{"font-size":"0.85rem","margin-bottom":"10px"}},[t.checkRole(t.systemAccess.BE_ADMIN)?s("el-switch",{on:{change:function(e){t.roomAccessChanged()}},model:{value:t.toggleRoomAccess,callback:function(e){t.toggleRoomAccess=e},expression:"toggleRoomAccess"}}):t._e(),t._v(" "),t.checkRole(this.systemAccess.STORE_MANAGER)||this.checkRole(this.systemAccess.CUSTOMER_CARE_ADMIN)?s("div",[t.isRoomOpenForStaff?s("span",{staticStyle:{color:"#58716F"}},[t._v("\n                Room open for staff\n              ")]):s("span",{staticStyle:{color:"tomato"}},[t._v("\n                Room access restricted to BE Admin only\n              ")])]):t._e()],1),t._v(" "),t.isAdmin?s("div",{staticStyle:{display:"flex"}},[t.isConsumerOnline?s("div",{staticClass:"consumer-online-status-text",staticStyle:{color:"rgb(78, 140, 255)"}},[t._v("Consumer Online...")]):s("div",{staticClass:"consumer-online-status-text",staticStyle:{color:"#999"}},[t._v("Consumer Offline...")])]):t._e(),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.message,expression:"message",modifiers:{trim:!0}}],staticClass:"new-msg-input",class:{"consumer-online":t.isConsumerOnline&&t.isAdmin,"access-blocked":t.accessBlocked},attrs:{placeholder:"Write your message here...",disabled:t.accessBlocked},domProps:{value:t.message},on:{keyup:t.detectSubmit,input:function(e){e.target.composing||(t.message=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),t.accessBlocked?t._e():s("div",{staticStyle:{margin:"5px 0"}},[s("img",{staticStyle:{width:"50px",height:"50px",cursor:"pointer","vertical-align":"middle"},attrs:{src:a("feCs")},on:{click:function(e){t.handleImageUpload()}}}),t._v(" "),s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.sendImage()}}},[t._v("Send Image")]),t._v(" "),s("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",name:"upload",accept:"image/jpeg,image/gif,image/png,application/pdf,image/x-eps",id:"fileUpload"}})],1)]),t._v(" "),t.isNewConversation?t._e():s("div",{staticClass:"messages-container"},[t._l(t.messages,function(e,a){return s("div",{key:a},["Server"==e.user?s("div",[t.isAdmin?s("p",{staticStyle:{"text-align":"center"},domProps:{innerHTML:t._s(e.message)}}):t._e()]):s("div",{staticClass:"msg-balloon-container"},[t.isAdmin?s("div",["Consumer"==e.userType?s("div",{staticClass:"msg-balloon left"},["image"==e.type?s("div",[s("a",{attrs:{href:e.image,target:"_blank"}},[s("img",{staticStyle:{height:"100px",width:"100px","object-fit":"cover"},attrs:{src:e.image}})])]):t._e(),t._v(" "),s("p",{domProps:{innerHTML:t._s(e.message)}}),t._v(" "),e.user.startsWith("anonymous--")?s("p",{staticClass:"balloon-meta"},[t._v(t._s(t.profileName?t.profileName:e.user.split("--")[1])+"@"+t._s(e.userType))]):s("p",{staticClass:"balloon-meta"},[t._v(t._s(t.profileName?t.profileName:e.user)+"@"+t._s(e.userType))])]):s("div",{staticClass:"msg-balloon right"},["image"==e.type?s("div",[s("a",{attrs:{href:e.image,target:"_blank"}},[s("img",{staticStyle:{height:"100px",width:"100px","object-fit":"cover"},attrs:{src:e.image}})])]):t._e(),t._v(" "),s("p",{domProps:{innerHTML:t._s(e.message)}}),t._v(" "),s("p",{staticClass:"balloon-meta"},[t._v(t._s(e.user)+"@"+t._s(e.userType))])])]):s("div",["Consumer"==e.userType?s("div",{staticClass:"msg-balloon right"},["image"==e.type?s("div",[s("a",{attrs:{href:e.image,target:"_blank"}},[s("img",{staticStyle:{height:"100px",width:"100px","object-fit":"cover"},attrs:{src:e.image}})])]):t._e(),t._v(" "),s("p",{domProps:{innerHTML:t._s(e.message)}}),t._v(" "),e.user.startsWith("anonymous--")?s("p",{staticClass:"balloon-meta"},[t._v(t._s(t.profileName?t.profileName:e.user.split("--")[1])+"@"+t._s(e.userType))]):s("p",{staticClass:"balloon-meta"},[t._v(t._s(t.profileName?t.profileName:e.user)+"@"+t._s(e.userType))])]):s("div",{staticClass:"msg-balloon left"},["image"==e.type?s("div",[s("a",{attrs:{href:e.image,target:"_blank"}},[s("img",{staticStyle:{height:"100px",width:"100px","object-fit":"cover"},attrs:{src:e.image}})])]):t._e(),t._v(" "),s("p",{domProps:{innerHTML:t._s(e.message)}}),t._v(" "),s("p",{staticClass:"balloon-meta"},[t._v("Admin@"+t._s(e.userType))])])])])])}),t._v(" "),s("div",{staticClass:"load-more-chat",on:{click:t.getOldMessages}},[t._v("\n            Load More...\n        ")])],2),t._v(" "),t.isNewConversation?s("div",{staticClass:"messages-container"},[s("el-row",t._l([1,2,3,4],function(e,a){return t.messages.length?s("el-col",{key:"loader"+a,staticStyle:{"margin-bottom":"25px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[s("content-placeholders",[s("content-placeholders-text",{attrs:{lines:2}})],1)],1):t._e()}))],1):t._e()])])},staticRenderFns:[]};var _s=a("VU/8")(ps,us,!1,function(t){a("hJrA"),a("ihZ3")},"data-v-2684e462",null).exports;s.default.use(n.a);var vs=new n.a({routes:[{path:"/",name:"login",component:x},{path:"/global-notifications/:app_id",name:"GlobalNotificationPanel",component:_a,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/global-notification-edit/app_id/:app_id/type/:type/nt_id/:nt_id",name:"GlobalNotificationEdit",component:xa,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/profile-preferred-brands/app_id/:app_id/p_id/:p_id/:username",name:"ProfilePreferredBrands",component:Ca,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/global-notifications-list/:app_id",name:"GlobalNotificationList",component:ga,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/consumer-chat/:storeId/:consumerUUID/:brand_id?/:chat_server_url?",name:"ConsumerChat",component:ma,meta:{access:[nt.access.BE_ADMIN,nt.access.CONSUMER]}},{path:"/admin-room-list/:st_id?/:app_id?",name:"AdminRoomList",component:_t,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN,nt.access.CUSTOMER_CARE_ADMIN,nt.access.STORE_MANAGER]}},{path:"/mobile-admin-room-list/:st_id?/:app_id?",name:"mobileAdminRoomList",component:xt,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN,nt.access.CUSTOMER_CARE_ADMIN,nt.access.STORE_MANAGER]}},{path:"/mobile-chat/:app_id/:st_id/:br_id/:consumer_id/:access",name:"mobileChat",component:_s,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN,nt.access.CUSTOMER_CARE_ADMIN,nt.access.STORE_MANAGER]}},{path:"/consumer-chat-rooms-list",name:"consumerChatRoomsList",component:J,meta:{access:[nt.access.BE_ADMIN,nt.access.CONSUMER]}},{path:"/consumer-subscribed-store-list",name:"subscribedStoreList",component:W,meta:{access:[nt.access.BE_ADMIN,nt.access.CONSUMER]}},{path:"/consumer-available-stores-for-subscription",name:"UnSubscribedStoreList",component:et,meta:{access:[nt.access.BE_ADMIN,nt.access.CONSUMER]}},{path:"/dashboard",name:"dashboard",component:N,meta:{access:[nt.access.BE_ADMIN,nt.access.PLATFORM_ADMIN,nt.access.BRAND_MANAGER,nt.access.CONSUMER,nt.access.CUSTOMER_CARE_ADMIN,nt.access.STORE_MANAGER]}},{path:"/app-dashboard/:id?/:name?",name:"AppDashboard",component:E,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/platform-list",name:"PlatformList",component:L,meta:{access:[nt.access.PLATFORM_ADMIN]}},{path:"/service-create/:id?",name:"ServiceCreate",component:U,props:function(t){return t.params||{}},meta:{access:[nt.access.PLATFORM_ADMIN]}},{path:"/service-list",name:"ServiceList",component:P,meta:{access:[nt.access.PLATFORM_ADMIN]}},{path:"/role-create/:id?",name:"RoleCreate",component:V,props:function(t){return t.params||{}},meta:{access:[nt.access.PLATFORM_ADMIN]}},{path:"/role-list",name:"RoleList",component:Q,meta:{access:[nt.access.PLATFORM_ADMIN]}},{path:"/business-entity-create/",name:"BusinessEntityCreate",component:Ct,props:function(t){return t.params||{}},meta:{access:[nt.access.PLATFORM_ADMIN]}},{path:"/business-entity-edit/:id",name:"BusinessEntityEdit",component:kt,props:function(t){return t.params||{}},meta:{access:[nt.access.PLATFORM_ADMIN]}},{path:"/business-entity-list",name:"BusinessEntityList",component:It,meta:{access:[nt.access.PLATFORM_ADMIN]}},{path:"/app-create/:id?",name:"AppCreate",component:Tt,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/app-list",name:"AppList",component:Ot,meta:{access:[nt.access.BE_ADMIN]}},{path:"/profile-config/:app_id",name:"ProfileConfig",component:Bt,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/profile-create/:app_id/:id?",name:"ProfileCreate",component:se,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/profile-list/:app_id",name:"ProfileList",component:ne,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/geozone-create/:app_id/:id?",name:"GeozoneCreate",component:ce,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/engagement-zone-create/:app_id/:g_id/:g_name?/:id?",name:"EngagementZoneCreate",component:pe,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/geozone-list/:app_id",name:"GeozoneList",component:ve,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/consumer-create/:app_id/:id?",name:"ConsumerCreate",component:Ae,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/consumer-list/:app_id",name:"ConsumerList",component:Se,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/brand-create/:app_id/:id?",name:"BrandCreate",component:Me,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/brand-list/:app_id",name:"BrandList",component:De,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/brand-staff-list/:app_id/:id",name:"BrandStaffList",component:Re,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/brand/manager/create/:app_id/:id",name:"BrandManagerCreate",component:Fe,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/relation-create/:app_id/",name:"RelationCreate",component:ze,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/store-config/:app_id",name:"StoreConfig",component:qt,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/store-create/:app_id/:g_id/:e_id/:id?",name:"StoreCreate",component:Wt,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/store-list/:app_id/:g_id/:e_id",name:"StoreList",component:Zt,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/engagement-zone-list/:app_id/:g_id",name:"EngagementZoneList",component:$t,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/geozone/notification/create/:app_id/:g_id/:nt_id?",name:"GeozoneNotificationCreate",component:ye,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/store/notification-list/:app_id/:e_id/:st_id",name:"StoreNotificationList",component:Ve,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/store/staff-list/:app_id/:st_id",name:"StoreStaffList",component:Qe,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/store/brand-list/:app_id/:e_id/:st_id",name:"StoreBrandList",component:Je,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/store/notification/create/:app_id/:st_id/:nt_id?",name:"StoreNotificationCreate",component:aa,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/store/manager/create/:app_id/:st_id",name:"StoreManagerCreate",component:oa,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/Store/assign-brand/:app_id/:st_id",name:"StoreAssignBrand",component:We,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/store/customerAdmin/create/:app_id/:st_id",name:"StoreCustomerAdminCreate",component:la,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/app-store/:app_id",name:"AppStoreCreate",component:Ia,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/app-store-list/:app_id",name:"AppStoreList",component:ka,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/broadcast-notification/:app_id",name:"BroadcastNotification",component:os,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN,nt.access.STORE_MANAGER]}},{path:"/update-customer-id/:app_id?/:p_id?/:customer_id?",name:"UpdateCustomerId",component:Ta,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/manage-store-manager/:app_id",name:"manageStoreManager",component:Oa,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/manage-customer-care/:app_id",name:"manageCustomerCare",component:Ba,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/customer-care-assign-store/:app_id/:p_id/:username",name:"customerCareAssignStore",component:qa,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/customer-care-assign-brands/:app_id/:p_id/:username",name:"customerCareAssignBrands",component:Za,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/customer-care-assign-city/:app_id/:p_id/:username",name:"customerCareAssignCity",component:$a,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/store-manager-assign-store/:app_id/:p_id/:username",name:"storeManagerAssignStore",component:Ha,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/store-manager-assign-brand/:app_id/:p_id/:username",name:"storeManagerAssignBrand",component:Xa,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/store-manager-assign-city/:app_id/:p_id/:username",name:"storeManagerAssignCity",component:as,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/store-manager-get-assigned-store/:app_id/:p_id/:username",name:"storeManagerGetAssignedStoreList",component:ls,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/customer-care-get-assigned-store/:app_id/:p_id/:username",name:"customerCareGetAssignedStoreList",component:ms,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}},{path:"/notification-room-list/:app_id/:room_data",name:"notificationRoomList",component:gt,props:function(t){return t.params||{}},meta:{access:[nt.access.BE_ADMIN]}}]});vs.beforeEach(function(t,e,a){if(t.meta&&t.meta.access)try{var s=t.meta.access,i=JSON.parse(localStorage.getItem("roles")).map(function(t){return t.name});Object(r.intersection)(i,s).length?(console.log("Authorized access"),a()):(console.log("Un-Authorized access"),a({name:"dashboard",query:{error:"You don't have permission to access "+Object(r.startCase)(t.name)+" page."}}))}catch(t){console.log("EXCEPTION: error parsing roles from storage..."),a({name:"login"})}else if(console.log("open route..."),"login"===t.name){console.log("login route found in to");try{localStorage.getItem("x-access-token")?(console.log("auto login redirecting to dahaboard..."),a({name:"dashboard"})):(console.log("old login session not present..."),a())}catch(t){console.log("exception getting login session...",t),a()}}else a()});var fs=vs,gs=a("m0IH"),hs=a.n(gs),ys=a("NYxO"),xs={namespaced:!0,state:{storeNamesMap:[],brandNamesMap:[{br_id:"default",brand_name:"default"}],profileNamesMap:[],brandList:[]},mutations:{clearstore:function(t,e){t.storeNamesMap=[],t.brandNamesMap=[{br_id:"default",brand_name:"default"}],t.profileNamesMap=[]},setStoreNamesMap:function(t,e){t.storeNamesMap=e},setBrandNamesMap:function(t,e){t.brandNamesMap=e},setProfileNamesMap:function(t,e){t.profileNamesMap=e},clearStoreNamesMap:function(t,e){t.storeNamesMap=[]},clearBrandNamesMap:function(t,e){t.brandNamesMap=[{br_id:"default",brand_name:"default"}]},clearProfileNamesMap:function(t,e){t.profileNamesMap=[]},updateStoreNamesMap:function(t,e){_.some(t.storeNamesMap,e)||t.storeNamesMap.push(e)},updateBrandNamesMap:function(t,e){_.some(t.brandNamesMap,e)||t.brandNamesMap.push(e)},updateProfileNamesMap:function(t,e){_.some(t.profileNamesMap,e)||t.profileNamesMap.push(e)},setBrandList:function(t,e){t.brandList=e}}};s.default.use(ys.a);var bs=new ys.a.Store({modules:{general:{namespaced:!0,state:{authUser:{},app_id:null},mutations:{clearstore:function(t,e){t.authUser={}},setAuthUser:function(t,e){t.authUser=e},setAppId:function(t,e){t.app_id=e}}},cache:xs},strict:!1,state:{},mutations:{}}),As=(a("tvR6"),a("uMhA"),a("zL8q")),Cs=a.n(As),ws=a("wUZ8"),Ss=a.n(ws),ks=a("ESwS"),Ns=a.n(ks),Ms=a("hlPV"),Is=a.n(Ms),Es=a("3It0"),Ds=a("PJh5"),Ts=a.n(Ds);s.default.use(Is.a),s.default.use(Ns.a),s.default.use(hs.a),s.default.config.productionTip=!0,s.default.use(u.a),s.default.use(Cs.a,{locale:Ss.a}),s.default.use(Es.default),s.default.prototype.$eventBus=new s.default,s.default.filter("formatDate",function(t){if(t)return Ts.a.unix(t/1e3).format("D MMM[,] YYYY hh:mmA")}),new s.default({el:"#app",router:fs,store:bs,components:{App:o},template:"<App/>"})},ONut:function(t,e){},OfwC:function(t,e){},"P/F5":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNjYuOTE1IDY2LjkxNSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNjYuOTE1IDY2LjkxNTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPGc+DQoJCTxwYXRoIGQ9Ik0yMS43NjEsMzUuMjAxaDI4LjcwOGMxLjEwNCwwLDItMC44OTYsMi0ycy0wLjg5Ni0yLTItMkgyMS41MTJsOC4wNDUtNy44NTVjMC43ODEtMC43ODEsMC43ODEtMS45NTIsMC0yLjczMw0KCQkJcy0yLjA0OC0wLjczNC0yLjgyOCwwLjA0N0wxNS4zOTQsMzIuMDJjLTAuMzc1LDAuMzc1LTAuNTg2LDAuODk2LTAuNTg2LDEuNDI2czAuMjExLDEuMDQ1LDAuNTg2LDEuNDJMMjYuNzMsNDYuMjAzDQoJCQljMC4zOTEsMC4zOTEsMC45MDIsMC41ODcsMS40MTQsMC41ODdzMS4wMjQtMC4xOTQsMS40MTUtMC41ODVjMC43ODEtMC43ODEsMC43ODEtMi4yMzcsMC0zLjAxOEwyMS43NjEsMzUuMjAxeiIvPg0KCQk8cGF0aCBkPSJNNjYuOTE1LDMzLjQ1N0M2Ni45MTUsMTUuMDA5LDUxLjkwNiwwLDMzLjQ1OCwwQzE1LjAwOSwwLDAsMTUuMDA5LDAsMzMuNDU3YzAsMTguNDQ5LDE1LjAwOSwzMy40NTgsMzMuNDU4LDMzLjQ1OA0KCQkJQzUxLjkwNyw2Ni45MTUsNjYuOTE1LDUxLjkwNiw2Ni45MTUsMzMuNDU3eiBNNCwzMy40NTdDNCwxNy4yMTUsMTcuMjE1LDQsMzMuNDU4LDRzMjkuNDU3LDEzLjIxNSwyOS40NTcsMjkuNDU3DQoJCQljMCwxNi4yNDMtMTMuMjE0LDI5LjQ1OC0yOS40NTcsMjkuNDU4UzQsNDkuNyw0LDMzLjQ1N3oiLz4NCgk8L2c+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8L3N2Zz4NCg=="},PuXe:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCAMICxU1p5ieAAACc0lEQVRo3tWZP0tbURiHn8QGKv7BJTR1qX9QUqkKTpIhdHMQ3LTgJ/BDOPWDSMkggqAouGQodHTQKSJ1iOAgwSJRRNGqeTuUS5uS3L7nzTkJvu947+88z70559zLDXS4EqZUhvcMM8IwI0CZU8qcckylHcrjFHhCGvQTBcbDwkdZ57khPOpn1hkNhR/iPBYe9TlDIfBpTlR4QTgh7RufYF+NF4R94/RuWvNOeEGY9ytQdBYo+sRnnfGCkNUMnVQJfDRpq1I6gSmTgCqlE5g0CahSOoF3JgFVSifw2iSgSr0QATEJqFI6gR8mAVVKJ3BhElClXojAG5OALdWgFkxPAkFY8CNwaBY49PMT2N9uFEmNwE+zgCKpEaiaBRRJjcAXs4A9WVe9XJum4DW9fgRggStn/JWvRfi7UpSc8CVSuoF1OyE8suskvMujz+sHyDndgZxvPCS5UOMv1HdWfyI1NtXnblLzfwcgw43q+m/IhMADrKoEVkPhoZuz/+LP6A4nADkeYvEPIeZ/fa3ECqyExgOsNcWvuQ+mX4Z/6pvhiFeBQcMRrwJThiMea4Bq0zlQZSAsvIcljmJXwRFL9IRA97HMFneqnfCOLZbp8wfPs8O98xvRPTvkW4fPGj7Q/d1FZu3wGfZagke9x4w7fJJtL/Cot10+dA2yQc0rXhBqbOg2qkUuvcOjvmQxHt5PIRg86gL9zfBjlIPjBaHMWCP8NJW24AWhwvS/+FzMDh+iq/VvThPcthUvCLdMRPgUB23HC8IBKegCPvPJfafyUG9J8jVBlhJdHRGAZz4kmesYHrqYS/p4ZLZQ+Vek+d5BAe9/cDrXLzlJRikw77MyAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTA4LTAzVDA4OjExOjIxKzAyOjAw2UdzaQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0wOC0wM1QwODoxMToyMSswMjowMKgay9UAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},QP7P:function(t,e){},RHWt:function(t,e){},S5Al:function(t,e){},S6y7:function(t,e){},S7cG:function(t,e){},Sh2q:function(t,e){},Tfae:function(t,e){},U0il:function(t,e){},WXir:function(t,e){},"Zcn/":function(t,e){},aaIl:function(t,e,a){t.exports=a.p+"static/img/brand.cd8c9ce.png"},bB9M:function(t,e){},"bw/I":function(t,e){},dHxz:function(t,e){},dzZg:function(t,e){},eaiU:function(t,e){},"f/Oo":function(t,e){},feCs:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNDE5LjIgNDE5LjIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQxOS4yIDQxOS4yOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8Zz4NCgkJPGc+DQoJCQk8Y2lyY2xlIGN4PSIxNTgiIGN5PSIxNDQuNCIgcj0iMjguOCIvPg0KCQkJPHBhdGggZD0iTTM5NC40LDI1MC40Yy0xMy42LTEyLjgtMzAuOC0yMS4yLTQ5LjYtMjMuNlY4MC40YzAtMTUuNi02LjQtMjkuNi0xNi40LTQwQzMxOCwzMCwzMDQsMjQsMjg4LjQsMjRoLTIzMg0KCQkJCWMtMTUuNiwwLTI5LjYsNi40LTQwLDE2LjRDNiw1MC44LDAsNjQuOCwwLDgwLjR2MTg0LjRWMjgydjM3LjJjMCwxNS42LDYuNCwyOS42LDE2LjQsNDBjMTAuNCwxMC40LDI0LjQsMTYuNCw0MCwxNi40aDIyNC40DQoJCQkJYzE0LjgsMTIsMzMuMiwxOS42LDUzLjYsMTkuNmMyMy42LDAsNDQuOC05LjYsNjAtMjQuOGMxNS4yLTE1LjIsMjQuOC0zNi40LDI0LjgtNjBDNDE5LjIsMjg2LjgsNDA5LjYsMjY1LjYsMzk0LjQsMjUwLjR6DQoJCQkJIE0yMS4yLDgwLjRjMC05LjYsNC0xOC40LDEwLjQtMjQuNGM2LjQtNi40LDE1LjItMTAuNCwyNC44LTEwLjRoMjMyYzkuNiwwLDE4LjQsNCwyNC44LDEwLjRjNi40LDYuNCwxMC40LDE1LjIsMTAuNCwyNC44djEyNC44DQoJCQkJbC01OS4yLTU5LjJjLTQtNC0xMC44LTQuNC0xNS4yLDBMMTYwLDIzNmwtNjAuNC02MC44Yy00LTQtMTAuOC00LjQtMTUuMiwwbC02My4yLDY0VjgwLjR6IE01NiwzNTUuMnYtMC44DQoJCQkJYy05LjYsMC0xOC40LTQtMjQuOC0xMC40Yy02LTYuNC0xMC0xNS4yLTEwLTI0LjhWMjgydi0xMi40TDkyLDE5OC40bDYwLjQsNjAuNGM0LDQsMTAuOCw0LDE1LjIsMGw4OS4yLTg5LjZsNTguNCw1OC44DQoJCQkJYy0xLjIsMC40LTIuNCwwLjgtMy42LDEuMmMtMS42LDAuNC0zLjIsMC44LTUuMiwxLjZjLTEuNiwwLjQtMy4yLDEuMi00LjgsMS42Yy0xLjIsMC40LTIsMC44LTMuMiwxLjZjLTEuNiwwLjgtMi44LDEuMi00LDINCgkJCQljLTIsMS4yLTQsMi40LTYsMy42Yy0xLjIsMC44LTIsMS4yLTMuMiwyYy0wLjgsMC40LTEuMiwwLjgtMiwxLjJjLTMuNiwyLjQtNi44LDUuMi05LjYsOC40Yy0xNS4yLDE1LjItMjQuOCwzNi40LTI0LjgsNjANCgkJCQljMCw2LDAuOCwxMS42LDIsMTcuNmMwLjQsMS42LDAuOCwyLjgsMS4yLDQuNGMxLjIsNCwyLjQsOCw0LDEydjAuNGMxLjYsMy4yLDMuMiw2LjgsNS4yLDkuNkg1NnogTTM3OC44LDM1NS4yDQoJCQkJYy0xMS42LDExLjYtMjcuMiwxOC40LTQ0LjgsMTguNGMtMTYuOCwwLTMyLjQtNi44LTQzLjYtMTcuNmMtMS42LTEuNi0zLjItMy42LTQuOC01LjJjLTEuMi0xLjItMi40LTIuOC0zLjYtNA0KCQkJCWMtMS42LTItMi44LTQuNC00LTYuOGMtMC44LTEuNi0xLjYtMi44LTIuNC00LjRjLTAuOC0yLTEuNi00LjQtMi02LjhjLTAuNC0xLjYtMS4yLTMuNi0xLjYtNS4yYy0wLjgtNC0xLjItOC40LTEuMi0xMi44DQoJCQkJYzAtMTcuNiw3LjItMzMuMiwxOC40LTQ0LjhjMTEuMi0xMS42LDI3LjItMTguNCw0NC44LTE4LjRzMzMuMiw3LjIsNDQuOCwxOC40YzExLjYsMTEuNiwxOC40LDI3LjIsMTguNCw0NC44DQoJCQkJQzM5Ny4yLDMyOCwzOTAsMzQzLjYsMzc4LjgsMzU1LjJ6Ii8+DQoJCQk8cGF0aCBkPSJNMzQxLjYsMjY3LjZjLTAuOC0wLjgtMi0xLjYtMy42LTIuNGMtMS4yLTAuNC0yLjQtMC44LTMuNi0wLjhjLTAuNCwwLTAuNCwwLTAuNCwwYy0wLjQsMC0wLjQsMC0wLjQsMA0KCQkJCWMtMS4yLDAtMi40LDAuNC0zLjYsMC44Yy0xLjIsMC40LTIuNCwxLjItMy42LDIuNGwtMjQuOCwyNC44Yy00LDQtNCwxMC44LDAsMTUuMmM0LDQsMTAuOCw0LDE1LjIsMGw2LjQtNi40djQ0DQoJCQkJYzAsNiw0LjgsMTAuOCwxMC44LDEwLjhzMTAuOC00LjgsMTAuOC0xMC44di00NGw2LjQsNi40YzQsNCwxMC44LDQsMTUuMiwwYzQtNCw0LTEwLjgsMC0xNS4yTDM0MS42LDI2Ny42eiIvPg0KCQk8L2c+DQoJPC9nPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPC9zdmc+DQo="},gDdH:function(t,e){},h3ZV:function(t,e){},hJrA:function(t,e){},ihZ3:function(t,e){},"jHb/":function(t,e){},jZRA:function(t,e){},kCUs:function(t,e){},ki4a:function(t,e){},mUoS:function(t,e){},mvdR:function(t,e){},ntQ2:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCAMIDwrcw1BvAAACpUlEQVRo3u2ZPWgTURzAfwlBtKm1CooftRVtrLiIk6MYERd1cTBiqhZxcBSXbropFOqS0UmhRhzsoHsRxDi0UxGHWlBbO0gHtRmibc8ludy9e5+Nd0HM/5Z373/v//vd490XB5343yPVFmoX3WxlMx9Yi1+gl9sM0UO3v2VJ13NL3In/bF/gabZ38QtMawV+pVsnGOKZNluNfwagpJmBT0kIpDQKs0kIADxSCFTiXwMAA5xWZH4mITDAFAcUuZX4BXT4BAT0+NgFTPiYBfol+HVu8DAoECd+PnLRrTECwJjfc7EdeIAHeHgss6k9eIDLjHEsSfz1eGDu+JPk7ItluMUEN8laj9jPRy0+T5UJ22LbeFMv8Z0LLeCvhfAeZVt8JVCmZqFgh7cUCONtFGzxVgJRvEnBHm8hIMfrFOT4q1K8UUCNVyn0MeeANwjo8TIFV7xWwIwXFUz4UxG8RkCOL7GkVJDjhwM1y5KKZRf8PeAIX6UKZryDgBoPMCRV+GzEWwvo8SqFKL4YqWwlYMYDHGbRGp/nvL1A1gpvUgjjqxTsBcYt8QA5hYKI91wEFjX4xhvb9oDCQuT4Va4I+JYEmvhBSvVWgftKBRneSWBcgc+xwKQv4AUUBgMKcryTQJbXfuqusOCCAkGFQzznNx7T/moX7/kOApDiDJO84pzf07jqwwJBBejjRGBPfOQ4CYjRvOmIAmEFNd5BIPpteJwp9ijlRnlCr9BX4CVdprNSRVrYG6XCbu2IIrMM0x/oecqWjeIh47fOUiTPXosx+3gMfGPXxrEygREuOY3c+TfwsjWQcHQEOgIdgY5AU+CtJNvom6EWyVUkrUbUmLGoCoR/2x2kJ3TgCnN+e0fo8QPrvGe13s5wVJjJLywrq/5gPq7Z7MS/GX8AOflxjvFFxfgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDgtMDNUMDg6MTU6MTArMDI6MDD4VN9EAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTA4LTAzVDA4OjE1OjEwKzAyOjAwiQln+AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},o2oU:function(t,e,a){t.exports=a.p+"static/img/store_config.e768826.png"},obYM:function(t,e){},oiih:function(t,e){e.access={ALL:"ALL",PLATFORM_ADMIN:"Platform Admin",CONSUMER:"Consumer",BE_ADMIN:"BE Admin",STORE_MANAGER:"Store Manager",CUSTOMER_CARE_ADMIN:"Customer Care Admin",BRAND_MANAGER:"Brand Manager"}},"pH7/":function(t,e){},pIja:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAflBMVEX///8AAAD8/Pz39/fc3Nzy8vKwsLDr6+vU1NS5ubnCwsLk5OSRkZGbm5vMzMzT09Nubm6mpqaFhYV5eXlGRkZdXV1UVFQWFhY3Nzejo6Pu7u6NjY1LS0u2trZjY2N2dnYqKioXFxcjIyM0NDRISEgeHh41NTU/Pz8NDQ1ZWVnm3j7FAAAICklEQVR4nO2de3faMAzFxyuUZwlQWlqglK6Dfv8vuC59jMZ2JMuSZXr8+3snJ+7MzY2sq/z6lclkMplMJpPJZDKXSk/7BoTpzlq3k772XcixvWtVbAbadyJCb9w6Y3GlfT/cXO1aNQ7rn/ST3D7X11dxM9S+MR7uH6zLe2fe1b69YK6N7Vnjuexo32MIxR5YX8Vuqn2fRPpN27PGw0j7bv2Z3uDX949j0da+ZS+Kg9/6KmYXs1v7c8LyKi7D0k1fqeurSN3StcuXoPVVJGzpRuTtWSNRSzddMa2v4jU1S9cunzjXV5GSpRst2JdXkYqlG25k1lehb+k665Pg+ipULV1XaHvWULN0w99R1lehYOk6k3jLqzjFtXTdx8jrq9hsY61vcNRYX0UMS9eLvT1rSFu67kx3fRWClk5xe9YQsXTfy9bqsFu6qxS2Z40d4279PFVJDh5Ld5/W9qwRbunAsrU+QZausJ+qpMZpTLN0PmVrdQiW7gK2Zw0/S4c7VUmNl8k9cnty1QUVWCEekr6nKsnRbOnaJeVUJTX2TkvHVrbWZ2fdnmGnKmkxtmxPhlOVZJgYVu4Hbc83SuP/b8h6qqLMU1FfXmd9q31TjOyNI1apUxUd7ozHveipSnSW9beoCKcqMVkZvvtHqWdrZ3NqP+gBP3OVay7qFdfNovEFP9kqGpo5WOXXOUfiYoyqC1/uM9+0n054u2EiYdrPRi5NdUz7ieCCVMe0n0iSOB6EMe2nB51J8lbOsJ/epP22aNpPCum+8VvtJ40kj2Sc9pNGcqe+zfaTRFKqA9tPGqmoDs5+0khBdTzsJw1l1fG0nzT0VOeWYj9J9FRUh2w/aUQvPQbZTxpRVSfcftKIpTo89pNGDNVhtJ8kpJtome0nDUHVEbCfNIRUR8p+0uDvKoLsZze6vl6zqg5kP6/+vQbMr+Ms7Qs+1YHs5/QrojOP/SThUB3Qfg6/NdGfHiI/TkJVB7SfA/MX/zSOu8h2gOqA9nPr6PQ5TNgenMUY0dRI7EcF7WfZ9FKz51jk+xbEhDkJqgPazzV4ibt1mEUYLD+vdCgRtQS/TCJkPzvIlMCxRDbOGoxq51ELxJbAqw5kP3s+p2HLkmCGbE+BJeKlG6c6kP2899bnTeFVkOs7N8gY8ccCVQeynyPa0ftqi13ksLERZYcwTo05MMh+jgJiAjcDWC7uYUncY1Rn4FAdyH52Q/t8ds2LxPaxo1TH0hYI2c9rljdPZ6ytN3nCX2WDKIXVGuNB+znly3Ba/3ze23+CUJ3p11VB+znkK3NZHkWdNanPG6M67/E+2H7y5SAsj6KAAtoeEwAcgK6v4Kupm4+idhlYjpgH21/YfqIxH0UsfW0Y1XHSZqxOmo+i4g/btYlVsg5jM5bxKGKevoJRnTr+9tOJ8Shqb/nnB6BU54w+X+fnwXwUCSW0PVRnxFeL/GPXAaEROkjV6fLFHBsqIVJ5Elh1rvmaPFbNP3+pROWssQAzXcJXQHKDKCpOZULbe6fLlrWfVqTmQlhVZyBqP90M+PbNOYbqFHxN894HcTFUp+S7LKkPTFh1ZO0nFiHVeS7Q1V0Ma+ryKtKeRtPi6QNLZ+CVicV+kog08tGbZ8Y+sBTj+ex9YIlNAAHsJ42EVAdjP2mkoTqyfWD6CUz5PjBisZiJSH1gaqrzEG/gtUoCUzyGUEOgONdImP2kEVF14sUQakTKfR+iDUW2IT9tgtN+0pBVnaP6LP0Ksdz3JnaHrBuR3DdkPztjVDsJF+yqA/aBfRxUcQ4QhuBMYD4C9rN//lo+i7dIrjmZYB+Y8aN4jKdIDOfIkP3s2muA8RYZmIUCYwgNT+BFsPa+3Txm6GlA7huyn1PomDMknfDZKnpaI15iSKpz8oshuK5CTCd8qynOENfwTiWA9tMSQ3Bw659OKOqu5Q7jhn0SmKD9dMUQHBzGHuUcx//GA6JiglUd0H5SDqqw6YSGV91XplQCaD/JfWDPYDoB+jHdolSnuQ8Wsp/tsELtcd2QTkDFtB7DVAeynxx9YEu7Rrsb9OscUapjFULIfjL1ga0sl/Z8nqFUxzBbcyDdwtQHZknjUI4o/FUHsp8hMYQzLD8DasH3xUt1wBgCT9nZPAQIG+qBVh3IfvLEECxvYeG9CUdMFgr6N0wxBKMHhevMhfgRlC+Y+sCMnwFn1vwm4F2UKYZgtEBzl5FeMFkoCzwxBNsoTIGpQQv/tzSeGIIzjcM/qwyjOv9h6gNrTOMIfFEGk/uuYIohwD0oW/apQaiP+PaY7CeqRsNfnwdz332epiv8LCKBCYlNCUymGIJnDwq/6rhy347qri+EHhSBqUGW3DdTDIHag8I/q6yWhWKKIYSMwuSfVXaW+x7yHKuG9qAIzCp7Vx18dbcRllGY/LPKfg+3TxzX4etBSWEuqwnzKMzkvoAoMAqTd1ZZIEKjMLU/M/6F5CjMFD4JJT0KU1t1YozCDJlVFkq0UZhK386NOgpTQXUkJ7HbEQp/O4jdAv1OvI8JRpnEbiV4EAoGtRboD6RVJ/IkdiuNs8oCUZjEbkco/K01id2KgOpoTmK3whz+1p7Ebocv/J3EJHYrPDHMZCax2wmOYaY1id1KUPg7vv0kQQ5/69hPGpSuHD37ScNTdUjfoVQHrzop2E8auBhmMvaTBNyIlJT9pNEYwxQZABEfZwwzTftJw9YRn679pFFXncTtJ4nzGOYF2E8aH6pzIfaTxpvqXJL9zGQymUwmk8lkMmj+AsWxq7RkhUTBAAAAAElFTkSuQmCC"},q4rX:function(t,e,a){t.exports=a.p+"static/img/profile_config.77feddd.png"},rJw6:function(t,e){},rwvJ:function(t,e){},sZjd:function(t,e){},sfBH:function(t,e){},tB6C:function(t,e){},tR6Z:function(t,e){},tvR6:function(t,e){},uMhA:function(t,e){},uslO:function(t,e,a){var s={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(t){return a(o(t))}function o(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}i.keys=function(){return Object.keys(s)},i.resolve=o,t.exports=i,i.id="uslO"},v1WA:function(t,e){},vcBl:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAA2gAAANoAE0cUkwAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAwBQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACyO34QAAAP90Uk5TAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AgYKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbX2Nna29zd3t/g4eLj5OXm5+jp6uvs7e7v8PHy8/T19vf4+fr7/P3+6wjZNQAAIa5JREFUGBntwQmATfXiB/DvvTNjFoxh7LKW5VkjoVDKdlSSJPRPRUoSinpPPCpLj6ioqFRaUSJbIVEaKrIkSyJ71sYyjDHrvd//e7336p07d2buzDnnd36/c8/nA7hcLpdVYsoWh6vIipeNgYq8NTsPfWXVjwdOZ5H0pRzZue7tkbc3jIErJDENbx/59rqdR1J8JLNOH/hx1StDO9f0Qg1RbcauTWcwvu3Tbi0FV75K3Tptu4/BpK8d2yYKkis3ZMVF5ifn+wn14cpD/Qnf5zA/F1cMKQdpRfdcms0QbB5WHq5cyg7ZxBBkL+0ZDRnVnHGOocpedj1cOm0WZzFU52bUhGzqvZfNQlnfBa4/dE5ioeS8Xx8yafSxj4W2pTtcv+u+hYXm/6QpZBE/PYdFsrouXKi7mkXieyUBUrjrBIsq89k4hLm4ZzNZVCfvhv1qfUkjDmkIa9ohGvFVLdjsjhQa458UibAVOclPY1LugJ2iX6ZxSVUQpqok0bhXomGbWptpht86Iix1/I1m2FwLNmn+G82Rcz/C0P05NEfy1bBF+1SaZjTCzmiaJrUTbNAzkyZ6yYuw4n2JJsq6C8IN8NFUcyMQRiLm0lT+wRDsTh9NNgthZBZN5r8bQnXKpOkmIGxMoOmyu0CgVhdpgaEIE0NpgbRrIEydM7SCvyfCQk8/rXCmDgSJ2UZrpNZBGKiTSmtsi4EYM2mVH2PgeDE/0iozIcQdtM4sON4sWucOCFAzhRbqA4frQwul1IT1vqCVzpaDo5U9Syt9Acv1orXehqO9SWv1gsVKHqO1/K3hYK38tNaxkrDWC7Ta9kg4lncLrfYCLNUgm5YbCscaSMtlN4CV5tF6J2LgUMWO0HrzYKHaPgrwMBzqAQrgqw3rvEURDkXBkSIPUIS3YJlqWRSiHxzpXgqRVQ1WmUYxfoYj7aYY02CRqNMU5Fo40LUU5HQUrHEbRXkNDvQaRbkN1lhIUc5Gw3Giz1KUhbBE6UwK0wOO04PCZJaGFQZSnEVwnEUUZyCssITiXIyCw0RdpDhLYIGIFArUGg7TmgKlRMB8LSjSWDjMWIrUAuYbSZHWwmHWUqSRMN8qipQRC0eJzaBIq2C+CxSqNRylNYW6ANNVplj94Sj9KVZlmK0dxZoER5lEsdrBbAMp1iI4yiKKNRBme55i7YKj7KJYz8NsyyhWhhcO4s2gWMtgto0UrDQcJIGCbYTZdlOw6nCQqhRsN8x2jII1goP8hYIdg9lSKVhrOMjVFCwVJvP6KZgGB7mRgvm9MFcJinYHHOQWilYC5oqgaDfDQTpQtAiYLI2CtYWDtKJgaTDbSQrWBA7SkIKdgNn2UrBacJDqFGwvzLaZgpWFgyRSsM0w2yqK5YuCg0T5KNYqmG0mxToARzlAsWbAbMMo1go4ygqKNQxm60KxpsNRplOsLjBbLYr1MBzlYYpVC2aLyKRQHeAoHShUZgRMt4Ei+cvAUcr4KdIGmO9ZirQVDrOVIj0L83WgSFPhMFMpUgeYLzaDAt0Eh7mJAmXEwgJrKU52CThMiWyKsxZWGEVxkuA4SRRnFKxQw09hBsJxBlIYfw1YIomiZJSG45TOoChJsMYAirIADrSAogyANUqlU5BucKBuFCS9FCzyIcX4LQoOFPUbxfgQVmlOMUbDkUZRjOawzEqKcL4UHCn+HEVYCeu0pQgT4VDPUIS2sFASrZdWDg5V+gKtlwQrdaT1nodjTaT1OsJSi2m1k6XgWCWO0mqLYa3qabTY3XCwXrRYWnVY7Elaay0cbQ2t9SSsVmw3rZTVAI5WP4tW2l0MlmubQws9A4d7hhbKaQsB/k7rfBUBh4v4itb5O0TwrqJVTlaE41U8Saus8kKI8sdpDd+NCAM3+miN4+UhSLssWmI0wsJoWiK7HYT5Pz8t8AbCxBu0gL8vBHqU5lscgTARsZjmGwGhnqXZkmIQNmKSaLYpEOx1mmtbAsJIwjaa620PBPNMoZmSEhBWEpJopmkeiPcEzbMoBmEmZhHN8yRscV82TTIrAmEnYhZNktMfNulyhmbIGYWwNCqHZjjTBbap9i2NO9EOYardCRr3bTXYKGqqnwatqYCwVWENDfJPjYK9bjlJI7Ke8iKMeZ/KohEnb4HtSr2UwyJbUw9hrt4aFpnvlVKQQdPvWDTH+8CFPsdZNN9fBUl4+h9k4aVOjofrn+Inp7LwDj/ohV3KDuoCvch7drNwzj5TBno1nm6CsHDl0zWgV+apMyycPf2ioNdlUFkIEdd7WRZzBiOAt+cWhu7E30oiwDWnyL0Tr4TDXTlxL3nqGgQo8fgxhm5LTy8CDM5h1rLecbBYROf3Uvm7aV4EavL8CYbi0rwuEQjUO52/2zvxSjjWlRP38nfpvREoovOcSwzFieebIJB3Gn+X+l7nCFinxfST/MPS4sglQptzhvnLWN0/HrmN8fMPe4cXhwMVH76Xf/CPQW4l+63OYP7OzNEikEvxpfzDyektYImoob9QZ2djBOFtOmJ5KoPL2fBsh1gEkbiIOsmjSsFhSo1Kps6iRAQR2+HZDTkMLnX5iKZeBNF4J3V+GRoF0/Xcx0AZwz0IKrJZn6fmbL7AP2XuXvzcgLbxCK7TcQZKGZ8IB0kcn8JAxzshuPi29z+3eHcm/3Rh89yn+jSLRFCe4RkMtK8nzNX6OwazugryEVv+imbtbmnfol7lEh7kLWaan0FcnFoRDlFx6kUG4Z8Wg7x5SlSu16L9Le2aXVE+FvmosprBfNca5qm9kHk4088Dg9rsYB7SJ8fCAWInpzMPO9rAIE+/M8zDwtowR9mXs5i3Ta1hRNV5zMfetlBe273Mx7yqMKL1JuYt6+WyMC5m5Hnmb15VFFXsU2nMl//lElBaiZf9zFfaU7EoqqrzmL/zI2NgUMO9LNClqZehKOIGH2aBDnaAwjocZIEOD45DUVSecokF2tsQhvS5yFBkvdsQhVV+3GmG5M1SUFSpNxmS0+PKo7DqvZXJUFzsg6KLnMaQLe8UgUJo/Fo6Q3W0FZTU6ihDlf5aYxSC5/rFfoZqWiSKqOI6FsaJ6S0RmhpP7mBhpPeGgnqnszB2PFkDoWk25QgLY11FFEmb4yys/ROuiUIB6g75xs/CehrKeZqF5f9mSF0UILLVM3tYWMfboAiGZrEoLn4+slUk8lDnwbnHWSTzYqCUmHkskuNzH6yDPES2GrkylUWRNRSFFTeHRZf2w8fP9m9bpTj+K6Z8895j3v0mmUW3oQIUUmEDiy55/eyRPRrFe/FfkWVb9h334dY0Ft2cOBRKwlaawHf+15827Th0JosmONwIymh0mCZIO3Vg+6Zdh09n0ARbE1AIsespnwtXQxFXX6B8volDyCI/pYxO/wVK+MtpyuizSITI8x7l9GtVKKDqr5TTBx6E5nnK6ueykF7Znymr6QjJSMprUwlIrsQmymsMQjCAMlsdDalFr6bMBqFA3XMotQVeSMy7gFLz9UIB2mVQck9CYk9ScpmdkK/EU5RdVnNIq3kWZXemAvIzj/LbUxySKr6H8luIfHSnCmZBUrOogl7IU+JJKqE7pNSdSkguh7zMoRpOV4aEKp+mGj5CHrpRFas8kI5nFVXRA0GVOUFlDIR0BlIZJxMRzPtUx8nikEzxk1THHARxK1UyBpIZQ5V0Qy7xx6mSC+UglXIXqJLj8Qj0ONUyHVKZTrU8gQCRR6iWzJqQSM1MquXXSOj1pmrmQCJzqJq7oPc9VeNvCmk09VM1W6DThupZAmksoXqux//6hOrJqQRJVMqhepbif9TyUUEjIYmRVJC/Lv70ElW0B6GLqVS/9S33DHt6yrSZb747b8HSlWvWbdy6c8/BY8cO7tm5deO6NSuXLpj37pszp015etg9t7SuXykGodtDFb2KPySkUkltkB9PxRY9hox98Z2l63Yeu8RCu3Rs57ql77w4dkiPFpU8yE8bKulSWfzXX6mm2QgmodFND018f+2BTJom88Da95996ObGCQhmNtU0Bv/hOUI1pZbA/4io023krBW7LtBCqT+tfOPJ2+pG4n+USKWaTkbg31pQVf3wu5jGvZ6ZvyOTwmTu/PiZ3k1i8Lt+VNV1+LcJVNW6+Jb3TV66z0db+PYtm3xfy/h1VNVU/NsOusLSXvyuJl1h6i/4l2F0ham/4V+W0xWmvsS/nKErTF3wAqhDV9iqD6AvXWHrPgCv0BW2ZgLYRFfY2gx4MxhGspN/3b/7x03ffLXq008+fO/NmdOee27azDff+/CTT1d99c2mH3fv/zU5m2Ek04vL6GjZv+3ZsGLujAkj+ndv16RaSYSgZLUm7br3HzFhxtwVG/b8lk1Hq4o2dKKsg+vmTRl2e4vKXhjkrdzi9mFT5q07mEUnuh596SQpG+dMfuS25hU9MJ2nYvPbHpk8Z2MKnaQ/xtIR/EdWvTTohkoQoNINg6Z/fthPR5iAt6m4jB0fj/+/ZsUhWPFmd42bvz2dipuLVVRcDGwU4aPavsa3VFwCbBRLxW3GdiquCmxUnorbjf1UXB3YqBYVdxinqLimsFETKi4ZF6m4trBRayruEvxUXCfYqBMV5wdVp8FGGlUHqk6DjTSqDlSdBhtpVB2oOg020qg6UHUabKRRdaDqNNhIo+pA1WmwkUbVgarTYCONqgNVp8FGGlUHqk6DjTSqDlSdBhtpVB2oOg020qg6UHUabKRRdaDqNNhIo+pA1WmwkUbVgarTYCONqgNVp8FGGlUHqk6DjTSqDlSdBhtpVB2oOg020qg6UHUabKRRdaDqNNhIo+pA1WmwkUbVgarTYCONqgNVp8FGGlUHqk6DjTSqDlSdBhtpVB2oOg020qg6UHUabKRRdaDqNNhIo+pA1WmwkUbVgarTYCONqgNVp8FGGlUHqk6DjTSqDlSdBhtpVB2oOg020qg6UHUabKRRdaDqNNhIo+pA1WmwkUbVgarTYCONqgNVp8FGGlUHqk6DjTSqDlSdBhtpVB2oOg020qg6UHUabKRRdaDqNNhIo+pA1WmwkUbVgarTYCONqgNVp8FGGlUHqk6DjTSqDlSdBhtpVB2oOg020qg6UHUabKRRdaDqNNhIo+pA1WmwkUbVgarTYCONqgNVp8FGGlUHqk6DjTSqDmlU2vlnysNGbam2Xwai6wfnqKzUCaVhq9jH1uZQWQf7R+Kfojq+so8qOj42EfYr03d+ClW06b4o/KH2kOWXqJYNd0VBEpHXP7eLark0uzkCxHSe9jNVkTWnBeRSY/DydKril+FlEFTNQUsvUn4/DK8ICcXd8uphyi9ncScP8las/ZSdlNmRfzSAvBqN/DKdMtsyuioKVPWBhcmU0pk323kguejrxn6ZThn5kh6rjlDV7ffmbspl1+Q2EVBD9HVPfZVOqWSueKA8Cimx66R16ZRC5qqhNaGW6Ouf+iqdcji/4K5SKJpi1zy+6BTtdXB2j5JQUnSLR97b7aetzi4d0TwCxlxx76xTtIVv2yu9qkBtpdqP/OQobZG8cOiVXpjBs5/CpSdN7FIKDlGp24RVJynSiY8ebuCBWTpTqOxdH/2tdTE4Tdl2g19dd5YivF8XplpEvUsrdqXSCr69i8b3bhgFB6vcafjsjRdorSSYqko29V4FULpJ18GT533zaw5N4T/06eS+zWIhRJl6zdt17TOgb/cOrRpU9sAGCY26PDj+7dV70miNOjDTWOr56+BPkdXb3DVy5qfbU1gUl/Ylffj8iD7XXxEHIRJvGjEr6Tf+r4tb5o6983LYpEyTWx6a+N6Xv6SzKM7t+uLdfwy5vVWzLOpNhokifqXeEgQT3/CmhyZMf2POos/Xbdl9ODnNz6Ayzh3fv3NT0ievjLq3Y4PSECih24vb/MzDkff61YCdyjW9dfA/3pyz6POkzT8dPJWaw+AyU04e3L117bznh/e+7oo4/Ncc6p2MgnluZYDrEApPbGLVuk1bd+zW5/7+fW7Trm/R6IoqZeI8sEfph77xsQD7xtWGNIqVqnR5wxbtuvTo+8B9vbp1uu7qhldUSYzzIrhWDNAd5llOvU1QTVS3hZkMyXeDykBJ31PvM5jmMh/1ekMtxUecYOgyZlaHgvpSL+cymGUg9Q5HQiXxTyazcLLeuhzKKXaSeqNhlqXUewIKiR51loWX825lqGYc9TbAJNFp1KsGdXTay6K58Fgk1FIphzq+0jBHZ+pthjKqzGfRbW8Dtayl3h0wx0vUGwVVDEilEf5XY6CS4dSbBXPsp149qKHEBzTqx7pQSG3qHYIp6lFvN9TQ+Gcal/p/UMhu6tWBGUZQbyKUcG86TfF6JJQxmXqPwAzLqXcVVDCKZlkeB1W0pt5SmOEodY5AAZ7pNM+GRCjCm0ydszBBaep9BPkVm0cz7a4GRbxPvUowri31RkJ6kctoriNVoYZHqdcexg2ingbpvU2z/VQGSriBekNh3AzqVYDsJtF838ZBBWWo9zqMS6LOccjuMVrh00io4Ah11sG4s9T5DJK71U9LzIAKllHnLAyrTL0JkFv1s7TInVDAeOpVglHtqNcDUovaQKucvwLyu4N67WFUd+o1hdReoHW2RkN69anXB0bdS70akNnNtNLLkF4F6g2EUUOplwCJFT9CK/lbQnbR1HsCRo2hjt8LiT1Ha22NgOzSqTMORk2lTgok1iCLFhsK2Z2gzjQY9QZ1DkFiX9Nq5ytBcrupMxtGfUSdbZBXT1rvLUhuA3UWwKiV1FkLeW2j9bKqQW4rqfM5jFpPnU8hrZspwsuQ2wLqrIdRn1PnK0jrG4pwqTyktpI6K2HUR9TZBlm1oxiTILWN1PkQRs2iziHIagnFSImFzPZS53UYNYU65yGpctkUpDdklkydyTBqNHX8XshpKEVZDpllU+dJGPUI9UpDTpspSk5FyKsk9QbBqL7UqwUp1ac4wyGvatTrA6NupV4zSGk8xdkEeTWh3k0w6jrq3QwpbaA4vjKQVgfqXQuj6lNvNGQUn0OBboe0RlCvHoyKyqTOQsjoFor0CqQ1jzqZUTDsB+ochIxepEi7Ia1fqLMVxr1NvTKQ0DYKVQmSSvBTZzaMG0a99pBPVDaF6gJJtafeEBh3PfWegHzqUqxhkNTfqNcWxiVQbx7k05VizYCkPqaOPx4mOESdvZDP4xRrNSR1kDr7YIbF1KsB6cyiWEcgp8uo9zHM8DT1RkA6ayiWPxpSepR6o2GGTtTbAOlspmDlIaVvqdcZZih2njr+qpDNHgp2OWRU1U+d1BiYYh71HoNsjlGwppDRcOrNhzl6Ue8byOY8BbseMtpAvT4wR3wmdfxVIBkfBesKCVWnXmY8TLKSekMhl0iK1gMSepx6K2CWh6i3EZLJoGCdIaHvqfcAzFLZT73rIJfTFOwayKcl9XwVYJqN1PsMcjlIwRpAPouptw7mGckAjSCVHRSsKqRT30+94TBP+QzqvQ+pfEfBSkE671IvqwpMNJt62dUhk0UUK80D2VTPpt4HMFMjBngJMplMsX6EdF5mgKYw1RfUS0uERPpTrPmQTblL1FsDc93EAOMhkTYUawJkM4EBboK5PLupd6km5FGeYt0DyVQ8T71dHphsIAMsgUTOUaiWkMxcBrgfZos9zQA3Qx7LKFJaMcilPQOcjIbpJjLAvhhI4zGK9DnkEr2HAcbAfInnGGAspNGYIv0VchnDABcTYYFHGeBSTcjC8xsFag6pXJ7OAKNghag9DLAE0viI4pz1QiorGGB/NCzRlYG6QRZ3U5wPIJWeDHQbLPIFA5y+DJIofpHCdIZMyh9ngC9glUY5DLA+EpJ4l6Icj4BEvKsZILs+LPMqA02CJDpQlKmQyXgGmg7rlEthAH8XyMF7lII0hkS6+BkgOQEWepyBkqtADuMpxiZIpPoZBnoQVor8noGSIiCFcmkU4nbIo9j3DLTVC0vVvshAz0IO0yjCTx7IYwYDpTeAxQYwkL8HpHBZJgXoC3n0YS6DYLlFDJRxPaTwBq13MBLSuCaNgRbDeonHGSilMWRQM52W6wdpNDjLQEcTIUBHPwMdrwEZjKXV1nsgi+pHGcjXDkK8yFz2lIUEovfSWtmNIYtye5jLBIgRvZ25bCwOCXSktZ6HLEpuZi7fRUKQhmnMZUUkJPARrXS0BCQRvYa5nK8JYbr7mMv7Xtiv3FFax9cBkvAuYG69INDjzO3DKNivbQ4tMw6S8LzB3MZAqNeZ26cxsN8oWuXLCMghai5zmw2xIlcxt7UlYTvPSlrjZCXIIW4Fc1sVBcFK7WJu35eB7cruoxUy20EOpb9lbtvjIVyNU8xtRyXY7vKTNJ+vJ+RQeSdzO3oZbNAynbntqwHbNT1P0w2GHGofZG4XmsAWPf3M7Wh92O7GTJpsPOTQ9BRzy+4Mmwz0M7fzt8J2t2XQVNMghxvOM4gBsM0DfubmH+uB3W44TxONghyGZTOIx2Gj/j4G8UkJ2O3KEzRLzv2QQtxcBuF/BLa6z8cgdl4Bu9X6heZIvxVSuGI7g/ANgM36+hjE2c6wW+KnNMO+ZpBC1xQGkdMXtrsrh0H4/gq7eZ7IpmHz4yED73g/g8jqCQn0zmEwH5WC3a45TGMyHoYUyqxkMJm3Qgp3ZjOYw+1gtzJv+2nAxiaQwtUHGcwlDZLocoHB+KdGw26tf2RRnXnQAxlEjctmMBdvgDQaHWZQ2xvDbpGPXWBR+N8sCyk03MqgTrSERCpuYlCZj3thtwpTUllY/k+aQQreJzIY1NaqkErcQga3thqEqv3X72ZHQS9x3DkWRs4HDRCg356p13og3OXrGdzCOEjG8xyDS+kLYZqO28F/WlsGAeKf2M1QnX75cgTwPMt/OvFqxygINegigxvvgXwGZDO4z2tDhIQR+/gfe2sjl6tfSmbBMhZ0i0KgmI/4H2dfqgNhqnzO4NL7QEodUhhcxvhYWK3h62n805kbkFtU11f3MD/J8weURm4VvuOf/Ctu8kCEyEdTGNzxFpDUX/YxDwdugZU83b+inm9iFIK57J539uYwiONLH23sQTBdf6PeL8PiYbkbdzEPW6pAWvHzmJcl1WGZDluZ26Y6yEOx+rePenfl+m37T108c3jnhi/mT+zbIh55iHuVuZ15rBgsVe1j5mV+HGR2fxrzkDaqGCxx5ecMKu1BGHfVzwzqQB8PLBMz5hLzkP4IJFd/B/PycweYr9p7PuZlTUMYk/BiFvOyqR0s0u0A87KzEaQX+xrztPxKmCviiXTmI+eVMii6iEHJzM8nFWCBuiuZpxkxUEHPFObFP+8KmKjedyzAmUciUUQ3bmcBku+A2arMzGJekm+FImpsYJ6yX6sMk0Q8kc6CHRwSh8Lz3Pw1QzCnNMxU4cV05ml1ZSgjarKfebo0uTTMUPc7hub0M2VROJF9dzA0xzSYJnFyGvOU9VcPVNL6J+bt3Kg4GNb1AkN26fW2HoSs1ujDDN1UL0yRMO4C87a3ORRT7JlM5u3E0DgYM8rPQjk8uTFCUXHoBhbO8ngYV2L0OebNN70E1NPgW+bj9LhyKLq4j1h4O5+7uRTyE3XNyDU5LLSfLodBJZ5IZj42XwUleR+5wHykv3oFiqjaDywa35YXuteJQm6ey9qPWZ3GojlzA4yo+lwK83FhWARUVXUZ8+Nb0BJFUf8Ejcj+5bNpj9zdveM1jS6vf/UNXfs8OPHjbWk0Ivt+FFmLednMz8IqUFmvk8zX17d4UFiNf6Ns/ANRJN7b1zNfh7tCcaXf8jNfu/rHolCanaF8/A+i8EoOO8B8ZU8pDvU1+4r5O/dSQ4Su5TnKyD8AhVRtagrzt6EJnKHrzyzAt/fFITTXXqCc/PejEIrdscLH/B3q64VTRA5OZgFSZjRBCOqcpaz8dyNUjaedZgFOD4+Gk5SanMGCbLy/OAqQ+AvlldkaoUh4eDMLcunZUnCa6nP9LMiF167zIh/FvqbMTlVHQTwd5qazIDlvVIYTtVjHgh2bfq0HeXmHcvuxOPJV56lDLNiienCqm75lCI5MvRpBjaLsFnmQpwZPbWcI1l0LJ7vxS4biwKSmyOUGP6U3AcE1nfgzQ7GxK5zu2uUMyd7xTaGTcITy89+AXDwtn9vPkKy6EeGg2Sd+huTYm7eXxB/mUAWHSkInos20IwyJ7+OrEC4azs1haLK+fLw+fteHangDf6r+wMdnGZrMN2ojnNSencVQHZxxcxyqnqMiuuB3Jbq+vIehSp1aGeGm8tPHGbL0FZuoimOl4b169NdZDFny30sjHEX1WkcnWvXhaRbCDw/FIWw1mZXGsHZpdkuEt4Th+xi2dg5JgMvT5TMfw1DGB23g+rda4w8yzOwZkQjXnzxtXjvLsJE270YPXAGKdV+YwTCQuaRPcbiCSngwyU9Hy1nVPwGufFQftZtO5V8/uDxcBbry6a10oC2PV4UrRFUf/jyTDpKzflRtuAqlZM8PztIRkt/vUwauIohs98J+qs2/eVwrL1xF1+BHKivl434V4TKmWAoVteD6SLgM06iqKXCZYBZVtQUu47ynqCpfabgMa0t13QaXYZOprpfgMmw91bUTLqOKpVNh5eEyqCVV1gsugx6lyl6Hy6D5VNkvcBl0kEqrCpch0T4q7Va4DKlLtQ2Dy5AuVNuLcBnyCNW2CC5DXqDafoDLkMVU2zm4DPmaiouCy4jNVFxpuIzYTcVVhcuII1RcPbiMOEPFNYfLiAwqrh1cRlB1neEygqrT4DKCqtPgMoKq0+AygqrT4DKCqtPgMoKq0+AygqrT4DKCqtPgMoKq0+AygqrT4DKCqtPgMoKq0+AygqrT4DKCqtPgMoKq0+AygqrT4DKCqtPgMoKq0+AygqrT4DKCqtPgMoKq0+AygqrT4DKCqtPgMoKq0+AygqrT4DKCqtPgMoKq0+AygqrT4DKCqtPgMoKq0+AygqrT4DKCqtPgMoKq0+AygqrT4DKCqtPgMoKq0+AygqrT4DKCqtPgMoKq0+AygqrT4DKCqtPgMoKq0+AygqrT4DKCqtPgMoKq0+AygqrT4DKCqtPgMoKq0+AygqrT4DKCqtPgMoKq0+AygqrT4DKCqtPgMoKq0+AygqrT4DKCqtPgMoKq0+Aygorzd4TLiGNUmX9+A7gMKd79ndNUlH9RY7iMi2g7aQfVc3FmXbjMUm3Qp5eokkOPJ8BlqtibZhyiIpJ6RMBlgYZ/S8qh7H4eUwsuy5TuOfMnyuv4C1fBZbXyd878iRI6+lrHCLjEKH/nzJ8oEf/GMU3hEqv8nTN+yKYEUj/pXwEuW8S2fmzuPtooY90/OkXDZatEbeyyUxQvZfmTbaLhkkP1nhOX7PdTlKMfDm7ihUsycc3vm7riV1oqe9f8sT1qwiWvUq0fnL5kazLN5tu7aHzvhsXgUkNs7Rvv/fvry3ek0CjfyS1LJvVtGgOXkkrW1x4Y9/bqPWksnNSf17w/acjtrapGwuUIiVdqPfo++OiT45+f+c78ZWu+27b31zPp/F3GueP7d25KWrXkw7dnPj9h9PB72teLhysceOLKlon1wOVyucLP/wNZ4xaJpJpvWgAAAABJRU5ErkJggg=="},wH0s:function(t,e){},"wI/z":function(t,e){},x5iO:function(t,e){},xYVM:function(t,e){},y6ko:function(t,e){},zmSi:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCAMMNy+HUZAPAAACc0lEQVRo3tWZP0tbURiHn8QGKv7BJTR1qX9QUqkKTpIhdHMQ3LTgJ/BDOPWDSMkggqAouGQodHTQKSJ1iOAgwSJRRNGqeTuUS5uS3L7nzTkJvu947+88z70559zLDXS4EqZUhvcMM8IwI0CZU8qcckylHcrjFHhCGvQTBcbDwkdZ57khPOpn1hkNhR/iPBYe9TlDIfBpTlR4QTgh7RufYF+NF4R94/RuWvNOeEGY9ytQdBYo+sRnnfGCkNUMnVQJfDRpq1I6gSmTgCqlE5g0CahSOoF3JgFVSifw2iSgSr0QATEJqFI6gR8mAVVKJ3BhElClXojAG5OALdWgFkxPAkFY8CNwaBY49PMT2N9uFEmNwE+zgCKpEaiaBRRJjcAXs4A9WVe9XJum4DW9fgRggStn/JWvRfi7UpSc8CVSuoF1OyE8suskvMujz+sHyDndgZxvPCS5UOMv1HdWfyI1NtXnblLzfwcgw43q+m/IhMADrKoEVkPhoZuz/+LP6A4nADkeYvEPIeZ/fa3ECqyExgOsNcWvuQ+mX4Z/6pvhiFeBQcMRrwJThiMea4Bq0zlQZSAsvIcljmJXwRFL9IRA97HMFneqnfCOLZbp8wfPs8O98xvRPTvkW4fPGj7Q/d1FZu3wGfZagke9x4w7fJJtL/Cot10+dA2yQc0rXhBqbOg2qkUuvcOjvmQxHt5PIRg86gL9zfBjlIPjBaHMWCP8NJW24AWhwvS/+FzMDh+iq/VvThPcthUvCLdMRPgUB23HC8IBKegCPvPJfafyUG9J8jVBlhJdHRGAZz4kmesYHrqYS/p4ZLZQ+Vek+d5BAe9/cDrXLzlJRikw77MyAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTA4LTAzVDEyOjU1OjQ3KzAyOjAwYpobfAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0wOC0wM1QxMjo1NTo0NyswMjowMBPHo8AAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"}},["NHnr"]);
//# sourceMappingURL=app.e613bffff5c6a6da746d.js.map